{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { forwardRef, useContext, useEffect, useRef, useState } from 'react';\nimport { css, getExtensionsRegistry, styled, t } from '@superset-ui/core';\nimport { useUiConfig } from 'src/components/UiConfigContext';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useSelector } from 'react-redux';\nimport EditableTitle from 'src/components/EditableTitle';\nimport SliceHeaderControls from 'src/dashboard/components/SliceHeaderControls';\nimport FiltersBadge from 'src/dashboard/components/FiltersBadge';\nimport { Icons } from 'src/components/Icons';\nimport { getSliceHeaderTooltip } from 'src/dashboard/util/getSliceHeaderTooltip';\nimport { DashboardPageIdContext } from 'src/dashboard/containers/DashboardPage';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst extensionsRegistry = getExtensionsRegistry();\nconst annotationsLoading = t('Annotation layers are still loading.');\nconst annotationsError = t('One or more annotation layers failed loading.');\nconst CrossFilterIcon = styled(Icons.ApartmentOutlined)`\n  ${({ theme }) => `\n    cursor: default;\n    color: ${theme.colors.primary.base};\n    line-height: 1.8;\n  `}\n`;\nconst ChartHeaderStyles = styled.div`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.l}px;\n    font-weight: ${theme.typography.weights.bold};\n    margin-bottom: ${theme.gridUnit}px;\n    display: flex;\n    max-width: 100%;\n    align-items: flex-start;\n    min-height: 0;\n\n    & > .header-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n      flex-grow: 1;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n\n      & > span.antd5-tooltip-open {\n        display: inline;\n      }\n    }\n\n    & > .header-controls {\n      display: flex;\n      align-items: center;\n      height: 24px;\n    }\n\n    .dropdown.btn-group {\n      pointer-events: none;\n      vertical-align: top;\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    .dropdown-toggle.btn.btn-default {\n      background: none;\n      border: none;\n      box-shadow: none;\n    }\n\n    .dropdown-menu.dropdown-menu-right {\n      top: ${theme.gridUnit * 5}px;\n    }\n\n    .divider {\n      margin: ${theme.gridUnit}px 0;\n    }\n\n    .refresh-tooltip {\n      display: block;\n      height: ${theme.gridUnit * 4}px;\n      margin: ${theme.gridUnit}px 0;\n      color: ${theme.colors.text.label};\n    }\n  `}\n`;\nconst SliceHeader = /*#__PURE__*/forwardRef(__signature__(({ forceRefresh = () => ({}), updateSliceName = () => ({}), toggleExpandSlice = () => ({}), logExploreChart = () => ({}), logEvent, exportCSV = () => ({}), exportXLSX = () => ({}), editMode = false, annotationQuery = {}, annotationError = {}, cachedDttm = null, updatedDttm = null, isCached = [], isExpanded = false, sliceName = '', supersetCanExplore = false, supersetCanShare = false, supersetCanCSV = false, exportPivotCSV, exportFullCSV, exportFullXLSX, slice, componentId, dashboardId, addSuccessToast, addDangerToast, handleToggleFullSize, isFullSize, chartStatus, formData, width, height }, ref) => {\n  const SliceHeaderExtension = extensionsRegistry.get('dashboard.slice.header');\n  const uiConfig = useUiConfig();\n  const dashboardPageId = useContext(DashboardPageIdContext);\n  const [headerTooltip, setHeaderTooltip] = useState(null);\n  const headerRef = useRef(null);\n  // TODO: change to indicator field after it will be implemented\n  const crossFilterValue = useSelector((state) => {var _state$dataMask$slice, _state$dataMask$slice2;return (_state$dataMask$slice = state.dataMask[slice == null ? void 0 : slice.slice_id]) == null ? void 0 : (_state$dataMask$slice2 = _state$dataMask$slice.filterState) == null ? void 0 : _state$dataMask$slice2.value;});\n  const isCrossFiltersEnabled = useSelector(({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled);\n  const canExplore = !editMode && supersetCanExplore;\n  useEffect(() => {\n    const headerElement = headerRef.current;\n    if (canExplore) {\n      setHeaderTooltip(getSliceHeaderTooltip(sliceName));\n    } else\n    if (headerElement && (\n    headerElement.scrollWidth > headerElement.offsetWidth ||\n    headerElement.scrollHeight > headerElement.offsetHeight)) {\n      setHeaderTooltip(sliceName != null ? sliceName : null);\n    } else\n    {\n      setHeaderTooltip(null);\n    }\n  }, [sliceName, width, height, canExplore]);\n  const exploreUrl = `/explore/?dashboard_page_id=${dashboardPageId}&slice_id=${slice.slice_id}`;\n  return _jsxs(ChartHeaderStyles, { \"data-test\": \"slice-header\", ref: ref, children: [\n    _jsxs(\"div\", { className: \"header-title\", ref: headerRef, children: [\n      _jsx(Tooltip, { title: headerTooltip, children:\n        _jsx(EditableTitle, { title: sliceName || (\n          editMode ?\n          '---' // this makes an empty title clickable\n          : ''), canEdit: editMode, onSaveTitle: updateSliceName, showTooltip: false, url: canExplore ? exploreUrl : undefined }) }\n      ),\n      !!Object.values(annotationQuery).length && _jsx(Tooltip, { id: \"annotations-loading-tooltip\", placement: \"top\", title: annotationsLoading, children:\n\n\n        _jsx(\"i\", { role: \"img\", \"aria-label\": annotationsLoading, className: \"fa fa-refresh warning\" }) }\n      ),\n      !!Object.values(annotationError).length && _jsx(Tooltip, { id: \"annotation-errors-tooltip\", placement: \"top\", title: annotationsError, children:\n\n\n        _jsx(\"i\", { role: \"img\", \"aria-label\": annotationsError, className: \"fa fa-exclamation-circle danger\" }) }\n      )] }\n    ),\n    _jsx(\"div\", { className: \"header-controls\", children:\n      !editMode && _jsxs(_Fragment, { children: [\n        SliceHeaderExtension && _jsx(SliceHeaderExtension, { sliceId: slice.slice_id, dashboardId: dashboardId }),\n        crossFilterValue && _jsx(Tooltip, { placement: \"top\", title: t('This chart applies cross-filters to charts whose datasets contain columns with the same name.'), children:\n          _jsx(CrossFilterIcon, { iconSize: \"m\" }) }\n        ),\n        !uiConfig.hideChartControls && _jsx(FiltersBadge, { chartId: slice.slice_id }),\n        !uiConfig.hideChartControls && _jsx(SliceHeaderControls, { slice: slice, isCached: isCached, isExpanded: isExpanded, cachedDttm: cachedDttm, updatedDttm: updatedDttm, toggleExpandSlice: toggleExpandSlice, forceRefresh: forceRefresh, logExploreChart: logExploreChart, logEvent: logEvent, exportCSV: exportCSV, exportPivotCSV: exportPivotCSV, exportFullCSV: exportFullCSV, exportXLSX: exportXLSX, exportFullXLSX: exportFullXLSX, supersetCanExplore: supersetCanExplore, supersetCanShare: supersetCanShare, supersetCanCSV: supersetCanCSV, componentId: componentId, dashboardId: dashboardId, addSuccessToast: addSuccessToast, addDangerToast: addDangerToast, handleToggleFullSize: handleToggleFullSize, isFullSize: isFullSize, isDescriptionExpanded: isExpanded, chartStatus: chartStatus, formData: formData, exploreUrl: exploreUrl, crossFiltersEnabled: isCrossFiltersEnabled })] }\n      ) }\n    )] }\n  );\n}, \"useUiConfig{uiConfig}\\nuseContext{dashboardPageId}\\nuseState{[headerTooltip, setHeaderTooltip](null)}\\nuseRef{headerRef}\\nuseSelector{crossFilterValue}\\nuseSelector{isCrossFiltersEnabled}\\nuseEffect{}\", () => [useUiConfig, useSelector, useSelector]));const _default =\nSliceHeader;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(extensionsRegistry, \"extensionsRegistry\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(annotationsLoading, \"annotationsLoading\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(annotationsError, \"annotationsError\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(CrossFilterIcon, \"CrossFilterIcon\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(ChartHeaderStyles, \"ChartHeaderStyles\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(SliceHeader, \"SliceHeader\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["forwardRef","useContext","useEffect","useRef","useState","css","getExtensionsRegistry","styled","t","useUiConfig","Tooltip","useSelector","EditableTitle","SliceHeaderControls","FiltersBadge","Icons","getSliceHeaderTooltip","DashboardPageIdContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","extensionsRegistry","annotationsLoading","annotationsError","CrossFilterIcon","ApartmentOutlined","theme","colors","primary","base","ChartHeaderStyles","div","typography","sizes","l","weights","bold","gridUnit","text","label","SliceHeader","__signature__","forceRefresh","updateSliceName","toggleExpandSlice","logExploreChart","logEvent","exportCSV","exportXLSX","editMode","annotationQuery","annotationError","cachedDttm","updatedDttm","isCached","isExpanded","sliceName","supersetCanExplore","supersetCanShare","supersetCanCSV","exportPivotCSV","exportFullCSV","exportFullXLSX","slice","componentId","dashboardId","addSuccessToast","addDangerToast","handleToggleFullSize","isFullSize","chartStatus","formData","width","height","ref","SliceHeaderExtension","get","uiConfig","dashboardPageId","headerTooltip","setHeaderTooltip","headerRef","crossFilterValue","state","_state$dataMask$slice","_state$dataMask$slice2","dataMask","slice_id","filterState","value","isCrossFiltersEnabled","dashboardInfo","crossFiltersEnabled","canExplore","headerElement","current","scrollWidth","offsetWidth","scrollHeight","offsetHeight","exploreUrl","children","className","title","canEdit","onSaveTitle","showTooltip","url","undefined","Object","values","length","id","placement","role","sliceId","iconSize","hideChartControls","chartId","isDescriptionExpanded","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  forwardRef,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { css, getExtensionsRegistry, styled, t } from '@superset-ui/core';\nimport { useUiConfig } from 'src/components/UiConfigContext';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useSelector } from 'react-redux';\nimport EditableTitle from 'src/components/EditableTitle';\nimport SliceHeaderControls from 'src/dashboard/components/SliceHeaderControls';\nimport { SliceHeaderControlsProps } from 'src/dashboard/components/SliceHeaderControls/types';\nimport FiltersBadge from 'src/dashboard/components/FiltersBadge';\nimport { Icons } from 'src/components/Icons';\nimport { RootState } from 'src/dashboard/types';\nimport { getSliceHeaderTooltip } from 'src/dashboard/util/getSliceHeaderTooltip';\nimport { DashboardPageIdContext } from 'src/dashboard/containers/DashboardPage';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\ntype SliceHeaderProps = SliceHeaderControlsProps & {\n  updateSliceName?: (arg0: string) => void;\n  editMode?: boolean;\n  annotationQuery?: object;\n  annotationError?: object;\n  sliceName?: string;\n  filters: object;\n  handleToggleFullSize: () => void;\n  formData: object;\n  width: number;\n  height: number;\n};\n\nconst annotationsLoading = t('Annotation layers are still loading.');\nconst annotationsError = t('One or more annotation layers failed loading.');\nconst CrossFilterIcon = styled(Icons.ApartmentOutlined)`\n  ${({ theme }) => `\n    cursor: default;\n    color: ${theme.colors.primary.base};\n    line-height: 1.8;\n  `}\n`;\n\nconst ChartHeaderStyles = styled.div`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.l}px;\n    font-weight: ${theme.typography.weights.bold};\n    margin-bottom: ${theme.gridUnit}px;\n    display: flex;\n    max-width: 100%;\n    align-items: flex-start;\n    min-height: 0;\n\n    & > .header-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n      flex-grow: 1;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n\n      & > span.antd5-tooltip-open {\n        display: inline;\n      }\n    }\n\n    & > .header-controls {\n      display: flex;\n      align-items: center;\n      height: 24px;\n    }\n\n    .dropdown.btn-group {\n      pointer-events: none;\n      vertical-align: top;\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    .dropdown-toggle.btn.btn-default {\n      background: none;\n      border: none;\n      box-shadow: none;\n    }\n\n    .dropdown-menu.dropdown-menu-right {\n      top: ${theme.gridUnit * 5}px;\n    }\n\n    .divider {\n      margin: ${theme.gridUnit}px 0;\n    }\n\n    .refresh-tooltip {\n      display: block;\n      height: ${theme.gridUnit * 4}px;\n      margin: ${theme.gridUnit}px 0;\n      color: ${theme.colors.text.label};\n    }\n  `}\n`;\n\nconst SliceHeader = forwardRef<HTMLDivElement, SliceHeaderProps>(\n  (\n    {\n      forceRefresh = () => ({}),\n      updateSliceName = () => ({}),\n      toggleExpandSlice = () => ({}),\n      logExploreChart = () => ({}),\n      logEvent,\n      exportCSV = () => ({}),\n      exportXLSX = () => ({}),\n      editMode = false,\n      annotationQuery = {},\n      annotationError = {},\n      cachedDttm = null,\n      updatedDttm = null,\n      isCached = [],\n      isExpanded = false,\n      sliceName = '',\n      supersetCanExplore = false,\n      supersetCanShare = false,\n      supersetCanCSV = false,\n      exportPivotCSV,\n      exportFullCSV,\n      exportFullXLSX,\n      slice,\n      componentId,\n      dashboardId,\n      addSuccessToast,\n      addDangerToast,\n      handleToggleFullSize,\n      isFullSize,\n      chartStatus,\n      formData,\n      width,\n      height,\n    },\n    ref,\n  ) => {\n    const SliceHeaderExtension = extensionsRegistry.get(\n      'dashboard.slice.header',\n    );\n    const uiConfig = useUiConfig();\n    const dashboardPageId = useContext(DashboardPageIdContext);\n    const [headerTooltip, setHeaderTooltip] = useState<ReactNode | null>(null);\n    const headerRef = useRef<HTMLDivElement>(null);\n    // TODO: change to indicator field after it will be implemented\n    const crossFilterValue = useSelector<RootState, any>(\n      state => state.dataMask[slice?.slice_id]?.filterState?.value,\n    );\n    const isCrossFiltersEnabled = useSelector<RootState, boolean>(\n      ({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled,\n    );\n\n    const canExplore = !editMode && supersetCanExplore;\n\n    useEffect(() => {\n      const headerElement = headerRef.current;\n      if (canExplore) {\n        setHeaderTooltip(getSliceHeaderTooltip(sliceName));\n      } else if (\n        headerElement &&\n        (headerElement.scrollWidth > headerElement.offsetWidth ||\n          headerElement.scrollHeight > headerElement.offsetHeight)\n      ) {\n        setHeaderTooltip(sliceName ?? null);\n      } else {\n        setHeaderTooltip(null);\n      }\n    }, [sliceName, width, height, canExplore]);\n\n    const exploreUrl = `/explore/?dashboard_page_id=${dashboardPageId}&slice_id=${slice.slice_id}`;\n\n    return (\n      <ChartHeaderStyles data-test=\"slice-header\" ref={ref}>\n        <div className=\"header-title\" ref={headerRef}>\n          <Tooltip title={headerTooltip}>\n            <EditableTitle\n              title={\n                sliceName ||\n                (editMode\n                  ? '---' // this makes an empty title clickable\n                  : '')\n              }\n              canEdit={editMode}\n              onSaveTitle={updateSliceName}\n              showTooltip={false}\n              url={canExplore ? exploreUrl : undefined}\n            />\n          </Tooltip>\n          {!!Object.values(annotationQuery).length && (\n            <Tooltip\n              id=\"annotations-loading-tooltip\"\n              placement=\"top\"\n              title={annotationsLoading}\n            >\n              {/* TODO: Remove fa-icon */}\n              {/* eslint-disable-next-line icons/no-fa-icons-usage */}\n              <i\n                role=\"img\"\n                aria-label={annotationsLoading}\n                className=\"fa fa-refresh warning\"\n              />\n            </Tooltip>\n          )}\n          {!!Object.values(annotationError).length && (\n            <Tooltip\n              id=\"annotation-errors-tooltip\"\n              placement=\"top\"\n              title={annotationsError}\n            >\n              {/* TODO: Remove fa-icon */}\n              {/* eslint-disable-next-line icons/no-fa-icons-usage */}\n              <i\n                role=\"img\"\n                aria-label={annotationsError}\n                className=\"fa fa-exclamation-circle danger\"\n              />\n            </Tooltip>\n          )}\n        </div>\n        <div className=\"header-controls\">\n          {!editMode && (\n            <>\n              {SliceHeaderExtension && (\n                <SliceHeaderExtension\n                  sliceId={slice.slice_id}\n                  dashboardId={dashboardId}\n                />\n              )}\n              {crossFilterValue && (\n                <Tooltip\n                  placement=\"top\"\n                  title={t(\n                    'This chart applies cross-filters to charts whose datasets contain columns with the same name.',\n                  )}\n                >\n                  <CrossFilterIcon iconSize=\"m\" />\n                </Tooltip>\n              )}\n              {!uiConfig.hideChartControls && (\n                <FiltersBadge chartId={slice.slice_id} />\n              )}\n              {!uiConfig.hideChartControls && (\n                <SliceHeaderControls\n                  slice={slice}\n                  isCached={isCached}\n                  isExpanded={isExpanded}\n                  cachedDttm={cachedDttm}\n                  updatedDttm={updatedDttm}\n                  toggleExpandSlice={toggleExpandSlice}\n                  forceRefresh={forceRefresh}\n                  logExploreChart={logExploreChart}\n                  logEvent={logEvent}\n                  exportCSV={exportCSV}\n                  exportPivotCSV={exportPivotCSV}\n                  exportFullCSV={exportFullCSV}\n                  exportXLSX={exportXLSX}\n                  exportFullXLSX={exportFullXLSX}\n                  supersetCanExplore={supersetCanExplore}\n                  supersetCanShare={supersetCanShare}\n                  supersetCanCSV={supersetCanCSV}\n                  componentId={componentId}\n                  dashboardId={dashboardId}\n                  addSuccessToast={addSuccessToast}\n                  addDangerToast={addDangerToast}\n                  handleToggleFullSize={handleToggleFullSize}\n                  isFullSize={isFullSize}\n                  isDescriptionExpanded={isExpanded}\n                  chartStatus={chartStatus}\n                  formData={formData}\n                  exploreUrl={exploreUrl}\n                  crossFiltersEnabled={isCrossFiltersEnabled}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </ChartHeaderStyles>\n    );\n  },\n);\n\nexport default SliceHeader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}