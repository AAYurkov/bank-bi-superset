{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { t } from '@superset-ui/core';\nimport getErrorMessageComponentRegistry from './getErrorMessageComponentRegistry';\nimport ErrorAlert from './ErrorAlert';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst DEFAULT_TITLE = t('Unexpected error');\nexport default function ErrorMessageWithStackTrace({ title = DEFAULT_TITLE, error, subtitle, link, stackTrace, source, description, descriptionDetails, fallback, compact }) {\n  // Check if a custom error message component was registered for this message\n  if (error) {\n    const ErrorMessageComponent = getErrorMessageComponentRegistry().get(error.error_type);\n    if (ErrorMessageComponent) {\n      return _jsx(ErrorMessageComponent, { compact: compact, error: error, source: source, subtitle: subtitle });\n    }\n  }\n  if (fallback) {\n    return _jsx(_Fragment, { children: fallback });\n  }\n  const computedDescriptionDetails = descriptionDetails || (\n  link || stackTrace ? _jsxs(_Fragment, { children: [\n    link && _jsx(\"a\", { href: link, target: \"_blank\", rel: \"noopener noreferrer\", children:\n      t('Request Access') }\n    ),\n    _jsx(\"br\", {}),\n    stackTrace && _jsx(\"pre\", { children: stackTrace })] }\n  ) : undefined);\n  return _jsx(ErrorAlert, { type: \"error\", errorType: title, message: subtitle, description: description, descriptionDetails: computedDescriptionDetails, compact: compact });\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DEFAULT_TITLE, \"DEFAULT_TITLE\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/ErrorMessageWithStackTrace.tsx\");reactHotLoader.register(ErrorMessageWithStackTrace, \"ErrorMessageWithStackTrace\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/ErrorMessageWithStackTrace.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["t","getErrorMessageComponentRegistry","ErrorAlert","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DEFAULT_TITLE","ErrorMessageWithStackTrace","title","error","subtitle","link","stackTrace","source","description","descriptionDetails","fallback","compact","ErrorMessageComponent","get","error_type","children","computedDescriptionDetails","href","target","rel","undefined","type","errorType","message","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/ErrorMessageWithStackTrace.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode } from 'react';\nimport { ErrorSource, t, SupersetError } from '@superset-ui/core';\nimport getErrorMessageComponentRegistry from './getErrorMessageComponentRegistry';\nimport ErrorAlert from './ErrorAlert';\n\nconst DEFAULT_TITLE = t('Unexpected error');\n\ntype Props = {\n  title?: string;\n  error?: SupersetError;\n  link?: string;\n  subtitle?: ReactNode;\n  copyText?: string;\n  stackTrace?: string;\n  source?: ErrorSource;\n  description?: string;\n  descriptionDetails?: ReactNode;\n  errorMitigationFunction?: () => void;\n  fallback?: ReactNode;\n  compact?: boolean;\n};\n\nexport default function ErrorMessageWithStackTrace({\n  title = DEFAULT_TITLE,\n  error,\n  subtitle,\n  link,\n  stackTrace,\n  source,\n  description,\n  descriptionDetails,\n  fallback,\n  compact,\n}: Props) {\n  // Check if a custom error message component was registered for this message\n  if (error) {\n    const ErrorMessageComponent = getErrorMessageComponentRegistry().get(\n      error.error_type,\n    );\n    if (ErrorMessageComponent) {\n      return (\n        <ErrorMessageComponent\n          compact={compact}\n          error={error}\n          source={source}\n          subtitle={subtitle}\n        />\n      );\n    }\n  }\n\n  if (fallback) {\n    return <>{fallback}</>;\n  }\n  const computedDescriptionDetails =\n    descriptionDetails ||\n    (link || stackTrace ? (\n      <>\n        {link && (\n          <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n            {t('Request Access')}\n          </a>\n        )}\n        <br />\n        {stackTrace && <pre>{stackTrace}</pre>}\n      </>\n    ) : undefined);\n\n  return (\n    <ErrorAlert\n      type=\"error\"\n      errorType={title}\n      message={subtitle}\n      description={description}\n      descriptionDetails={computedDescriptionDetails}\n      compact={compact}\n    />\n  );\n}\n"],"mappings":"uSAmBA,SAAsBA,CAAC,QAAuB,mBAAmB;AACjE,OAAOC,gCAAgC,MAAM,oCAAoC;AACjF,OAAOC,UAAU,MAAM,cAAc,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAEtC,MAAMC,aAAa,GAAGT,CAAC,CAAC,kBAAkB,CAAC;AAiB3C,eAAc,SAAUU,0BAA0BA,CAAC,EACjDC,KAAK,GAAGF,aAAa,EACrBG,KAAK,EACLC,QAAQ,EACRC,IAAI,EACJC,UAAU,EACVC,MAAM,EACNC,WAAW,EACXC,kBAAkB,EAClBC,QAAQ,EACRC,OAAO,EACD;EACN;EACA,IAAIR,KAAK,EAAE;IACT,MAAMS,qBAAqB,GAAGpB,gCAAgC,EAAE,CAACqB,GAAG,CAClEV,KAAK,CAACW,UAAU,CACjB;IACD,IAAIF,qBAAqB,EAAE;MACzB,OACEjB,IAAA,CAACiB,qBAAqB,IACpBD,OAAO,EAAEA,OAAQ,EACjBR,KAAK,EAAEA,KAAM,EACbI,MAAM,EAAEA,MAAO,EACfH,QAAQ,EAAEA,QAAS,GACnB;;;EAKR,IAAIM,QAAQ,EAAE;IACZ,OAAOf,IAAA,CAAAE,SAAA,IAAAkB,QAAA,EAAGL,QAAQ,EAAC,CAAG;;EAExB,MAAMM,0BAA0B,GAC9BP,kBAAkB;EACjBJ,IAAI,IAAIC,UAAU,GACjBP,KAAA,CAAAF,SAAA,IAAAkB,QAAA;IACGV,IAAI,IACHV,IAAA,QAAGsB,IAAI,EAAEZ,IAAK,EAACa,MAAM,EAAC,QAAQ,EAACC,GAAG,EAAC,qBAAqB,EAAAJ,QAAA;MACrDxB,CAAC,CAAC,gBAAgB,CAAC;IACnB,CACJ;IACDI,IAAA,SAAG,CACH;IAACW,UAAU,IAAIX,IAAA,UAAAoB,QAAA,EAAMT,UAAU,EAAM,CAAC;EACxC,CAAG,GACDc,SAAS,CAAC;EAEhB,OACEzB,IAAA,CAACF,UAAU,IACT4B,IAAI,EAAC,OAAO,EACZC,SAAS,EAAEpB,KAAM,EACjBqB,OAAO,EAAEnB,QAAS,EAClBI,WAAW,EAAEA,WAAY,EACzBC,kBAAkB,EAAEO,0BAA2B,EAC/CL,OAAO,EAAEA,OAAQ,GACjB;AAEN,CAAC,mBAAAa,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAN,SAAA,MAAAI,cAAA,WAAAA,cAAA,CAAAG,QAAA,CAzEK3B,aAAa,4HAAAwB,cAAA,CAAAG,QAAA,CAiBK1B,0BAA0B,iKAAA2B,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAR,SAAA,CAAAQ,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}