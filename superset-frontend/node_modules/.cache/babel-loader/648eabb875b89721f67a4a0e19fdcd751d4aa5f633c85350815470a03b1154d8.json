{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};function findParentId(structure) {\n  let parentId = null;\n  if (structure) {\n    const { childId, layout = {} } = structure;\n    // default assignment to layout only works if value is undefined, not null\n    if (layout) {\n      const ids = Object.keys(layout);\n      for (let i = 0; i <= ids.length - 1; i += 1) {var _component$children;\n        const id = ids[i];\n        const component = layout[id] || {};\n        if (id !== childId && component != null && (_component$children = component.children) != null && _component$children.includes != null && _component$children.includes(childId)) {\n          parentId = id;\n          break;\n        }\n      }\n    }\n  }\n  return parentId;\n}\nconst cache = {};\nexport default function findParentIdWithCache(structure) {\n  let parentId = null;\n  if (structure) {\n    const { childId, layout = {} } = structure;\n    const cachedValue = cache[childId];\n    if (cachedValue) {var _lastParent$children;\n      const lastParent = (layout == null ? void 0 : layout[cachedValue]) || {};\n      if (lastParent != null && lastParent.children && lastParent != null && (_lastParent$children = lastParent.children) != null && _lastParent$children.includes != null && _lastParent$children.includes(childId)) {\n        return lastParent.id;\n      }\n    }\n    parentId = findParentId({ childId, layout });\n    cache[childId] = parentId;\n  }\n  return parentId;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(findParentId, \"findParentId\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/findParentId.ts\");reactHotLoader.register(cache, \"cache\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/findParentId.ts\");reactHotLoader.register(findParentIdWithCache, \"findParentIdWithCache\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/findParentId.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["findParentId","structure","parentId","childId","layout","ids","Object","keys","i","length","_component$children","id","component","children","includes","cache","findParentIdWithCache","cachedValue","_lastParent$children","lastParent","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/util/findParentId.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\ninterface ILayoutItem {\n  [key: string]: {\n    id: string;\n    children: string[];\n  };\n}\n\ninterface IStructure {\n  childId: string;\n  layout: ILayoutItem;\n}\n\nfunction findParentId(structure: IStructure): string | null {\n  let parentId = null;\n  if (structure) {\n    const { childId, layout = {} } = structure;\n    // default assignment to layout only works if value is undefined, not null\n    if (layout) {\n      const ids = Object.keys(layout);\n      for (let i = 0; i <= ids.length - 1; i += 1) {\n        const id = ids[i];\n        const component = layout[id] || {};\n        if (id !== childId && component?.children?.includes?.(childId)) {\n          parentId = id;\n          break;\n        }\n      }\n    }\n  }\n  return parentId;\n}\n\nconst cache: Record<string, string | null> = {};\n\nexport default function findParentIdWithCache(\n  structure: IStructure,\n): string | null {\n  let parentId = null;\n  if (structure) {\n    const { childId, layout = {} } = structure;\n    const cachedValue = cache[childId];\n    if (cachedValue) {\n      const lastParent = layout?.[cachedValue] || {};\n      if (lastParent?.children && lastParent?.children?.includes?.(childId)) {\n        return lastParent.id;\n      }\n    }\n    parentId = findParentId({ childId, layout });\n    cache[childId] = parentId;\n  }\n  return parentId;\n}\n"],"mappings":"uSA8BA,SAASA,YAAYA,CAACC,SAAqB;EACzC,IAAIC,QAAQ,GAAG,IAAI;EACnB,IAAID,SAAS,EAAE;IACb,MAAM,EAAEE,OAAO,EAAEC,MAAM,GAAG,EAAE,EAAE,GAAGH,SAAS;IAC1C;IACA,IAAIG,MAAM,EAAE;MACV,MAAMC,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC;MAC/B,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIH,GAAG,CAACI,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAE,KAAAE,mBAAA;QAC3C,MAAMC,EAAE,GAAGN,GAAG,CAACG,CAAC,CAAC;QACjB,MAAMI,SAAS,GAAGR,MAAM,CAACO,EAAE,CAAC,IAAI,EAAE;QAClC,IAAIA,EAAE,KAAKR,OAAO,IAAIS,SAAS,aAAAF,mBAAA,GAATE,SAAS,CAAEC,QAAQ,aAAnBH,mBAAA,CAAqBI,QAAQ,YAA7BJ,mBAAA,CAAqBI,QAAQ,CAAGX,OAAO,CAAC,EAAE;UAC9DD,QAAQ,GAAGS,EAAE;UACb;;;;;EAKR,OAAOT,QAAQ;AACjB;AAEA,MAAMa,KAAK,GAAkC,EAAE;AAE/C,eAAc,SAAUC,qBAAqBA,CAC3Cf,SAAqB;EAErB,IAAIC,QAAQ,GAAG,IAAI;EACnB,IAAID,SAAS,EAAE;IACb,MAAM,EAAEE,OAAO,EAAEC,MAAM,GAAG,EAAE,EAAE,GAAGH,SAAS;IAC1C,MAAMgB,WAAW,GAAGF,KAAK,CAACZ,OAAO,CAAC;IAClC,IAAIc,WAAW,EAAE,KAAAC,oBAAA;MACf,MAAMC,UAAU,GAAG,CAAAf,MAAM,oBAANA,MAAM,CAAGa,WAAW,CAAC,KAAI,EAAE;MAC9C,IAAIE,UAAU,YAAVA,UAAU,CAAEN,QAAQ,IAAIM,UAAU,aAAAD,oBAAA,GAAVC,UAAU,CAAEN,QAAQ,aAApBK,oBAAA,CAAsBJ,QAAQ,YAA9BI,oBAAA,CAAsBJ,QAAQ,CAAGX,OAAO,CAAC,EAAE;QACrE,OAAOgB,UAAU,CAACR,EAAE;;;IAGxBT,QAAQ,GAAGF,YAAY,CAAC,EAAEG,OAAO,EAAEC,MAAM,EAAE,CAAC;IAC5CW,KAAK,CAACZ,OAAO,CAAC,GAAGD,QAAQ;;EAE3B,OAAOA,QAAQ;AACjB,CAAC,mBAAAkB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAvCQxB,YAAY,mGAAAoB,cAAA,CAAAI,QAAA,CAoBfT,KAAK,4FAAAK,cAAA,CAAAI,QAAA,CAEaR,qBAAqB,oIAAAS,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}