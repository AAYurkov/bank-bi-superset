{"ast":null,"code":"import { css as _css } from \"@emotion/react\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Behavior, ensureIsArray, FeatureFlag, getChartMetadataRegistry, isFeatureEnabled, t, useTheme } from '@superset-ui/core';\nimport { Menu } from 'src/components/Menu';\nimport { usePermissions } from 'src/hooks/usePermissions';\nimport { Dropdown } from 'src/components/Dropdown';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport DrillByModal from 'src/components/Chart/DrillBy/DrillByModal';\nimport { useVerboseMap } from 'src/hooks/apiResources/datasets';\nimport { DrillDetailMenuItems } from '../DrillDetail';\nimport { getMenuAdjustedY } from '../utils';\nimport { MenuItemTooltip } from '../DisabledMenuItemTooltip';\nimport { DrillByMenuItems } from '../DrillBy/DrillByMenuItems';\nimport DrillDetailModal from '../DrillDetail/DrillDetailModal';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport var ContextMenuItem;\n(function (ContextMenuItem) {\n  ContextMenuItem[ContextMenuItem[\"CrossFilter\"] = 0] = \"CrossFilter\";\n  ContextMenuItem[ContextMenuItem[\"DrillToDetail\"] = 1] = \"DrillToDetail\";\n  ContextMenuItem[ContextMenuItem[\"DrillBy\"] = 2] = \"DrillBy\";\n  ContextMenuItem[ContextMenuItem[\"All\"] = 3] = \"All\";\n})(ContextMenuItem || (ContextMenuItem = {}));\nconst ChartContextMenu = ({ id, formData, onSelection, onClose, displayedItems = ContextMenuItem.All, additionalConfig }, ref) => {var _getChartMetadataRegi, _getChartMetadataRegi2;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const { canDrillToDetail, canDrillBy, canDownload } = usePermissions();\n  const crossFiltersEnabled = useSelector(({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled);\n  const [openKeys, setOpenKeys] = useState([]);\n  const [modalFilters, setFilters] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const isDisplayed = (item) => displayedItems === ContextMenuItem.All ||\n  ensureIsArray(displayedItems).includes(item);\n  const [{ filters, clientX, clientY }, setState] = useState({ clientX: 0, clientY: 0 });\n  const [drillModalIsOpen, setDrillModalIsOpen] = useState(false);\n  const [drillByColumn, setDrillByColumn] = useState();\n  const [showDrillByModal, setShowDrillByModal] = useState(false);\n  const [dataset, setDataset] = useState();\n  const verboseMap = useVerboseMap(dataset);\n  const handleDrillBy = useCallback((column, dataset) => {\n    setDrillByColumn(column);\n    setDataset(dataset); // Save dataset when drilling\n    setShowDrillByModal(true);\n  }, []);\n  const handleCloseDrillByModal = useCallback(() => {\n    setShowDrillByModal(false);\n  }, []);\n  const menuItems = [];\n  const showDrillToDetail = isFeatureEnabled(FeatureFlag.DrillToDetail) &&\n  canDrillToDetail &&\n  isDisplayed(ContextMenuItem.DrillToDetail);\n  const showDrillBy = isFeatureEnabled(FeatureFlag.DrillBy) &&\n  canDrillBy &&\n  isDisplayed(ContextMenuItem.DrillBy);\n  const showCrossFilters = isDisplayed(ContextMenuItem.CrossFilter);\n  const isCrossFilteringSupportedByChart = (_getChartMetadataRegi = getChartMetadataRegistry().\n  get(formData.viz_type)) == null ? void 0 : (_getChartMetadataRegi2 = _getChartMetadataRegi.\n  behaviors) == null ? void 0 : _getChartMetadataRegi2.includes(Behavior.InteractiveChart);\n  let itemsCount = 0;\n  if (showCrossFilters) {\n    itemsCount += 1;\n  }\n  if (showDrillToDetail) {\n    itemsCount += 2; // Drill to detail always has 2 top-level menu items\n  }\n  if (showDrillBy) {\n    itemsCount += 1;\n  }\n  if (itemsCount === 0) {\n    itemsCount = 1; // \"No actions\" appears if no actions in menu\n  }\n  if (showCrossFilters) {var _filters$crossFilter;\n    const isCrossFilterDisabled = !isCrossFilteringSupportedByChart ||\n    !crossFiltersEnabled ||\n    !(filters != null && filters.crossFilter);\n    let crossFilteringTooltipTitle = null;\n    if (!isCrossFilterDisabled) {\n      crossFilteringTooltipTitle = _jsxs(_Fragment, { children: [\n        _jsx(\"div\", { children:\n          t('Cross-filter will be applied to all of the charts that use this dataset.') }\n        ),\n        _jsx(\"div\", { children:\n          t('You can also just click on the chart to apply cross-filter.') }\n        )] }\n      );\n    } else\n    if (!crossFiltersEnabled) {\n      crossFilteringTooltipTitle = _jsx(_Fragment, { children:\n        _jsx(\"div\", { children: t('Cross-filtering is not enabled for this dashboard.') }) }\n      );\n    } else\n    if (!isCrossFilteringSupportedByChart) {\n      crossFilteringTooltipTitle = _jsx(_Fragment, { children:\n        _jsx(\"div\", { children:\n          t('This visualization type does not support cross-filtering.') }\n        ) }\n      );\n    } else\n    if (!(filters != null && filters.crossFilter)) {\n      crossFilteringTooltipTitle = _jsx(_Fragment, { children:\n        _jsx(\"div\", { children: t(`You can't apply cross-filter on this data point.`) }) }\n      );\n    }\n    menuItems.push(_jsxs(_Fragment, { children: [\n      _jsx(Menu.Item, { disabled: isCrossFilterDisabled, onClick: () => {\n          if (filters != null && filters.crossFilter) {\n            dispatch(updateDataMask(id, filters.crossFilter.dataMask));\n          }\n        }, children:\n        filters != null && (_filters$crossFilter = filters.crossFilter) != null && _filters$crossFilter.isCurrentValueSelected ? t('Remove cross-filter') : _jsxs(\"div\", { children: [\n          t('Add cross-filter'),\n          _jsx(MenuItemTooltip, { title: crossFilteringTooltipTitle, color: !isCrossFilterDisabled ?\n            theme.colors.grayscale.base :\n            undefined })] }\n        ) }, \"cross-filtering-menu-item\"\n      ),\n      itemsCount > 1 && _jsx(Menu.Divider, {})] }\n    ));\n  }\n  if (showDrillToDetail) {\n    menuItems.push(_jsx(DrillDetailMenuItems, { formData: formData, filters: filters == null ? void 0 : filters.drillToDetail, setFilters: setFilters, isContextMenu: true, contextMenuY: clientY, onSelection: onSelection, submenuIndex: showCrossFilters ? 2 : 1, setShowModal: setDrillModalIsOpen, ...((additionalConfig == null ? void 0 : additionalConfig.drillToDetail) || {}) }));\n  }\n  if (showDrillBy) {\n    let submenuIndex = 0;\n    if (showCrossFilters) {\n      submenuIndex += 1;\n    }\n    if (showDrillToDetail) {\n      submenuIndex += 2;\n    }\n    menuItems.push(_jsx(DrillByMenuItems, { drillByConfig: filters == null ? void 0 : filters.drillBy, onSelection: onSelection, formData: formData, contextMenuY: clientY, submenuIndex: submenuIndex, open: openKeys.includes('drill-by-submenu'), onDrillBy: handleDrillBy, ...((additionalConfig == null ? void 0 : additionalConfig.drillBy) || {}) }, \"drill-by-submenu\"));\n  }\n  const open = useCallback((clientX, clientY, filters) => {var _document$getElementB;\n    const adjustedY = getMenuAdjustedY(clientY, itemsCount);\n    setState({\n      clientX,\n      clientY: adjustedY,\n      filters\n    });\n    // Since Ant Design's Dropdown does not offer an imperative API\n    // and we can't attach event triggers to charts SVG elements, we\n    // use a hidden span that gets clicked on when receiving click events\n    // from the charts.\n    (_document$getElementB = document.getElementById(`hidden-span-${id}`)) == null ? void 0 : _document$getElementB.click();\n  }, [id, itemsCount]);\n  useImperativeHandle(ref, () => ({\n    open\n  }), [open]);\n  return /*#__PURE__*/ReactDOM.createPortal(_jsxs(_Fragment, { children: [\n    _jsx(Dropdown, { dropdownRender: () => _jsx(Menu, { className: \"chart-context-menu\", \"data-test\": \"chart-context-menu\", onOpenChange: setOpenKeys, onClick: () => {\n          setVisible(false);\n          onClose();\n        }, children:\n        menuItems.length ? menuItems : _jsx(Menu.Item, { disabled: true, children: t('No actions') }) }\n      ), trigger: ['click'], onOpenChange: (value) => {\n        setVisible(value);\n        if (!value) {\n          setOpenKeys([]);\n        }\n      }, open: visible, children:\n      _jsx(\"span\", { id: `hidden-span-${id}`, css: /*#__PURE__*/_css({\n          visibility: 'hidden',\n          position: 'fixed',\n          top: clientY,\n          left: clientX,\n          width: 1,\n          height: 1\n        }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ChartContextMenu;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnl1cmtvdi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvY29tcG9uZW50cy9DaGFydC9DaGFydENvbnRleHRNZW51L0NoYXJ0Q29udGV4dE1lbnUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlMdUMiLCJmaWxlIjoiL1VzZXJzL2FyeXVya292L3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9jb21wb25lbnRzL0NoYXJ0L0NoYXJ0Q29udGV4dE1lbnUvQ2hhcnRDb250ZXh0TWVudS50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VDYWxsYmFjaywgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlU3RhdGUsIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBCZWhhdmlvciwgZW5zdXJlSXNBcnJheSwgRmVhdHVyZUZsYWcsIGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSwgaXNGZWF0dXJlRW5hYmxlZCwgdCwgdXNlVGhlbWUsIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJ3NyYy9jb21wb25lbnRzL01lbnUnO1xuaW1wb3J0IHsgdXNlUGVybWlzc2lvbnMgfSBmcm9tICdzcmMvaG9va3MvdXNlUGVybWlzc2lvbnMnO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICdzcmMvY29tcG9uZW50cy9Ecm9wZG93bic7XG5pbXBvcnQgeyB1cGRhdGVEYXRhTWFzayB9IGZyb20gJ3NyYy9kYXRhTWFzay9hY3Rpb25zJztcbmltcG9ydCBEcmlsbEJ5TW9kYWwgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2hhcnQvRHJpbGxCeS9EcmlsbEJ5TW9kYWwnO1xuaW1wb3J0IHsgdXNlVmVyYm9zZU1hcCB9IGZyb20gJ3NyYy9ob29rcy9hcGlSZXNvdXJjZXMvZGF0YXNldHMnO1xuaW1wb3J0IHsgRHJpbGxEZXRhaWxNZW51SXRlbXMgfSBmcm9tICcuLi9EcmlsbERldGFpbCc7XG5pbXBvcnQgeyBnZXRNZW51QWRqdXN0ZWRZIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgTWVudUl0ZW1Ub29sdGlwIH0gZnJvbSAnLi4vRGlzYWJsZWRNZW51SXRlbVRvb2x0aXAnO1xuaW1wb3J0IHsgRHJpbGxCeU1lbnVJdGVtcyB9IGZyb20gJy4uL0RyaWxsQnkvRHJpbGxCeU1lbnVJdGVtcyc7XG5pbXBvcnQgRHJpbGxEZXRhaWxNb2RhbCBmcm9tICcuLi9EcmlsbERldGFpbC9EcmlsbERldGFpbE1vZGFsJztcbmV4cG9ydCB2YXIgQ29udGV4dE1lbnVJdGVtO1xuKGZ1bmN0aW9uIChDb250ZXh0TWVudUl0ZW0pIHtcbiAgICBDb250ZXh0TWVudUl0ZW1bQ29udGV4dE1lbnVJdGVtW1wiQ3Jvc3NGaWx0ZXJcIl0gPSAwXSA9IFwiQ3Jvc3NGaWx0ZXJcIjtcbiAgICBDb250ZXh0TWVudUl0ZW1bQ29udGV4dE1lbnVJdGVtW1wiRHJpbGxUb0RldGFpbFwiXSA9IDFdID0gXCJEcmlsbFRvRGV0YWlsXCI7XG4gICAgQ29udGV4dE1lbnVJdGVtW0NvbnRleHRNZW51SXRlbVtcIkRyaWxsQnlcIl0gPSAyXSA9IFwiRHJpbGxCeVwiO1xuICAgIENvbnRleHRNZW51SXRlbVtDb250ZXh0TWVudUl0ZW1bXCJBbGxcIl0gPSAzXSA9IFwiQWxsXCI7XG59KShDb250ZXh0TWVudUl0ZW0gfHwgKENvbnRleHRNZW51SXRlbSA9IHt9KSk7XG5jb25zdCBDaGFydENvbnRleHRNZW51ID0gKHsgaWQsIGZvcm1EYXRhLCBvblNlbGVjdGlvbiwgb25DbG9zZSwgZGlzcGxheWVkSXRlbXMgPSBDb250ZXh0TWVudUl0ZW0uQWxsLCBhZGRpdGlvbmFsQ29uZmlnLCB9LCByZWYpID0+IHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIGNvbnN0IHsgY2FuRHJpbGxUb0RldGFpbCwgY2FuRHJpbGxCeSwgY2FuRG93bmxvYWQgfSA9IHVzZVBlcm1pc3Npb25zKCk7XG4gICAgY29uc3QgY3Jvc3NGaWx0ZXJzRW5hYmxlZCA9IHVzZVNlbGVjdG9yKCh7IGRhc2hib2FyZEluZm8gfSkgPT4gZGFzaGJvYXJkSW5mby5jcm9zc0ZpbHRlcnNFbmFibGVkKTtcbiAgICBjb25zdCBbb3BlbktleXMsIHNldE9wZW5LZXlzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbbW9kYWxGaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaXNEaXNwbGF5ZWQgPSAoaXRlbSkgPT4gZGlzcGxheWVkSXRlbXMgPT09IENvbnRleHRNZW51SXRlbS5BbGwgfHxcbiAgICAgICAgZW5zdXJlSXNBcnJheShkaXNwbGF5ZWRJdGVtcykuaW5jbHVkZXMoaXRlbSk7XG4gICAgY29uc3QgW3sgZmlsdGVycywgY2xpZW50WCwgY2xpZW50WSB9LCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7IGNsaWVudFg6IDAsIGNsaWVudFk6IDAgfSk7XG4gICAgY29uc3QgW2RyaWxsTW9kYWxJc09wZW4sIHNldERyaWxsTW9kYWxJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtkcmlsbEJ5Q29sdW1uLCBzZXREcmlsbEJ5Q29sdW1uXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW3Nob3dEcmlsbEJ5TW9kYWwsIHNldFNob3dEcmlsbEJ5TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtkYXRhc2V0LCBzZXREYXRhc2V0XSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgdmVyYm9zZU1hcCA9IHVzZVZlcmJvc2VNYXAoZGF0YXNldCk7XG4gICAgY29uc3QgaGFuZGxlRHJpbGxCeSA9IHVzZUNhbGxiYWNrKChjb2x1bW4sIGRhdGFzZXQpID0+IHtcbiAgICAgICAgc2V0RHJpbGxCeUNvbHVtbihjb2x1bW4pO1xuICAgICAgICBzZXREYXRhc2V0KGRhdGFzZXQpOyAvLyBTYXZlIGRhdGFzZXQgd2hlbiBkcmlsbGluZ1xuICAgICAgICBzZXRTaG93RHJpbGxCeU1vZGFsKHRydWUpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZURyaWxsQnlNb2RhbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0U2hvd0RyaWxsQnlNb2RhbChmYWxzZSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG1lbnVJdGVtcyA9IFtdO1xuICAgIGNvbnN0IHNob3dEcmlsbFRvRGV0YWlsID0gaXNGZWF0dXJlRW5hYmxlZChGZWF0dXJlRmxhZy5EcmlsbFRvRGV0YWlsKSAmJlxuICAgICAgICBjYW5EcmlsbFRvRGV0YWlsICYmXG4gICAgICAgIGlzRGlzcGxheWVkKENvbnRleHRNZW51SXRlbS5EcmlsbFRvRGV0YWlsKTtcbiAgICBjb25zdCBzaG93RHJpbGxCeSA9IGlzRmVhdHVyZUVuYWJsZWQoRmVhdHVyZUZsYWcuRHJpbGxCeSkgJiZcbiAgICAgICAgY2FuRHJpbGxCeSAmJlxuICAgICAgICBpc0Rpc3BsYXllZChDb250ZXh0TWVudUl0ZW0uRHJpbGxCeSk7XG4gICAgY29uc3Qgc2hvd0Nyb3NzRmlsdGVycyA9IGlzRGlzcGxheWVkKENvbnRleHRNZW51SXRlbS5Dcm9zc0ZpbHRlcik7XG4gICAgY29uc3QgaXNDcm9zc0ZpbHRlcmluZ1N1cHBvcnRlZEJ5Q2hhcnQgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKVxuICAgICAgICAuZ2V0KGZvcm1EYXRhLnZpel90eXBlKVxuICAgICAgICA/LmJlaGF2aW9ycz8uaW5jbHVkZXMoQmVoYXZpb3IuSW50ZXJhY3RpdmVDaGFydCk7XG4gICAgbGV0IGl0ZW1zQ291bnQgPSAwO1xuICAgIGlmIChzaG93Q3Jvc3NGaWx0ZXJzKSB7XG4gICAgICAgIGl0ZW1zQ291bnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKHNob3dEcmlsbFRvRGV0YWlsKSB7XG4gICAgICAgIGl0ZW1zQ291bnQgKz0gMjsgLy8gRHJpbGwgdG8gZGV0YWlsIGFsd2F5cyBoYXMgMiB0b3AtbGV2ZWwgbWVudSBpdGVtc1xuICAgIH1cbiAgICBpZiAoc2hvd0RyaWxsQnkpIHtcbiAgICAgICAgaXRlbXNDb3VudCArPSAxO1xuICAgIH1cbiAgICBpZiAoaXRlbXNDb3VudCA9PT0gMCkge1xuICAgICAgICBpdGVtc0NvdW50ID0gMTsgLy8gXCJObyBhY3Rpb25zXCIgYXBwZWFycyBpZiBubyBhY3Rpb25zIGluIG1lbnVcbiAgICB9XG4gICAgaWYgKHNob3dDcm9zc0ZpbHRlcnMpIHtcbiAgICAgICAgY29uc3QgaXNDcm9zc0ZpbHRlckRpc2FibGVkID0gIWlzQ3Jvc3NGaWx0ZXJpbmdTdXBwb3J0ZWRCeUNoYXJ0IHx8XG4gICAgICAgICAgICAhY3Jvc3NGaWx0ZXJzRW5hYmxlZCB8fFxuICAgICAgICAgICAgIWZpbHRlcnM/LmNyb3NzRmlsdGVyO1xuICAgICAgICBsZXQgY3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGUgPSBudWxsO1xuICAgICAgICBpZiAoIWlzQ3Jvc3NGaWx0ZXJEaXNhYmxlZCkge1xuICAgICAgICAgICAgY3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGUgPSAoPD5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge3QoJ0Nyb3NzLWZpbHRlciB3aWxsIGJlIGFwcGxpZWQgdG8gYWxsIG9mIHRoZSBjaGFydHMgdGhhdCB1c2UgdGhpcyBkYXRhc2V0LicpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dCgnWW91IGNhbiBhbHNvIGp1c3QgY2xpY2sgb24gdGhlIGNoYXJ0IHRvIGFwcGx5IGNyb3NzLWZpbHRlci4nKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC8+KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghY3Jvc3NGaWx0ZXJzRW5hYmxlZCkge1xuICAgICAgICAgICAgY3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGUgPSAoPD5cbiAgICAgICAgICA8ZGl2Pnt0KCdDcm9zcy1maWx0ZXJpbmcgaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgZGFzaGJvYXJkLicpfTwvZGl2PlxuICAgICAgICA8Lz4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0Nyb3NzRmlsdGVyaW5nU3VwcG9ydGVkQnlDaGFydCkge1xuICAgICAgICAgICAgY3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGUgPSAoPD5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge3QoJ1RoaXMgdmlzdWFsaXphdGlvbiB0eXBlIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3MtZmlsdGVyaW5nLicpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8Lz4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFmaWx0ZXJzPy5jcm9zc0ZpbHRlcikge1xuICAgICAgICAgICAgY3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGUgPSAoPD5cbiAgICAgICAgICA8ZGl2Pnt0KGBZb3UgY2FuJ3QgYXBwbHkgY3Jvc3MtZmlsdGVyIG9uIHRoaXMgZGF0YSBwb2ludC5gKX08L2Rpdj5cbiAgICAgICAgPC8+KTtcbiAgICAgICAgfVxuICAgICAgICBtZW51SXRlbXMucHVzaCg8PlxuICAgICAgICA8TWVudS5JdGVtIGtleT1cImNyb3NzLWZpbHRlcmluZy1tZW51LWl0ZW1cIiBkaXNhYmxlZD17aXNDcm9zc0ZpbHRlckRpc2FibGVkfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnM/LmNyb3NzRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHVwZGF0ZURhdGFNYXNrKGlkLCBmaWx0ZXJzLmNyb3NzRmlsdGVyLmRhdGFNYXNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAge2ZpbHRlcnM/LmNyb3NzRmlsdGVyPy5pc0N1cnJlbnRWYWx1ZVNlbGVjdGVkID8gKHQoJ1JlbW92ZSBjcm9zcy1maWx0ZXInKSkgOiAoPGRpdj5cbiAgICAgICAgICAgICAge3QoJ0FkZCBjcm9zcy1maWx0ZXInKX1cbiAgICAgICAgICAgICAgPE1lbnVJdGVtVG9vbHRpcCB0aXRsZT17Y3Jvc3NGaWx0ZXJpbmdUb29sdGlwVGl0bGV9IGNvbG9yPXshaXNDcm9zc0ZpbHRlckRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5iYXNlXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkfS8+XG4gICAgICAgICAgICA8L2Rpdj4pfVxuICAgICAgICA8L01lbnUuSXRlbT5cbiAgICAgICAge2l0ZW1zQ291bnQgPiAxICYmIDxNZW51LkRpdmlkZXIgLz59XG4gICAgICA8Lz4pO1xuICAgIH1cbiAgICBpZiAoc2hvd0RyaWxsVG9EZXRhaWwpIHtcbiAgICAgICAgbWVudUl0ZW1zLnB1c2goPERyaWxsRGV0YWlsTWVudUl0ZW1zIGZvcm1EYXRhPXtmb3JtRGF0YX0gZmlsdGVycz17ZmlsdGVycz8uZHJpbGxUb0RldGFpbH0gc2V0RmlsdGVycz17c2V0RmlsdGVyc30gaXNDb250ZXh0TWVudSBjb250ZXh0TWVudVk9e2NsaWVudFl9IG9uU2VsZWN0aW9uPXtvblNlbGVjdGlvbn0gc3VibWVudUluZGV4PXtzaG93Q3Jvc3NGaWx0ZXJzID8gMiA6IDF9IHNldFNob3dNb2RhbD17c2V0RHJpbGxNb2RhbElzT3Blbn0gey4uLihhZGRpdGlvbmFsQ29uZmlnPy5kcmlsbFRvRGV0YWlsIHx8IHt9KX0vPik7XG4gICAgfVxuICAgIGlmIChzaG93RHJpbGxCeSkge1xuICAgICAgICBsZXQgc3VibWVudUluZGV4ID0gMDtcbiAgICAgICAgaWYgKHNob3dDcm9zc0ZpbHRlcnMpIHtcbiAgICAgICAgICAgIHN1Ym1lbnVJbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG93RHJpbGxUb0RldGFpbCkge1xuICAgICAgICAgICAgc3VibWVudUluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbWVudUl0ZW1zLnB1c2goPERyaWxsQnlNZW51SXRlbXMgZHJpbGxCeUNvbmZpZz17ZmlsdGVycz8uZHJpbGxCeX0gb25TZWxlY3Rpb249e29uU2VsZWN0aW9ufSBmb3JtRGF0YT17Zm9ybURhdGF9IGNvbnRleHRNZW51WT17Y2xpZW50WX0gc3VibWVudUluZGV4PXtzdWJtZW51SW5kZXh9IG9wZW49e29wZW5LZXlzLmluY2x1ZGVzKCdkcmlsbC1ieS1zdWJtZW51Jyl9IGtleT1cImRyaWxsLWJ5LXN1Ym1lbnVcIiBvbkRyaWxsQnk9e2hhbmRsZURyaWxsQnl9IHsuLi4oYWRkaXRpb25hbENvbmZpZz8uZHJpbGxCeSB8fCB7fSl9Lz4pO1xuICAgIH1cbiAgICBjb25zdCBvcGVuID0gdXNlQ2FsbGJhY2soKGNsaWVudFgsIGNsaWVudFksIGZpbHRlcnMpID0+IHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRZID0gZ2V0TWVudUFkanVzdGVkWShjbGllbnRZLCBpdGVtc0NvdW50KTtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2xpZW50WCxcbiAgICAgICAgICAgIGNsaWVudFk6IGFkanVzdGVkWSxcbiAgICAgICAgICAgIGZpbHRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTaW5jZSBBbnQgRGVzaWduJ3MgRHJvcGRvd24gZG9lcyBub3Qgb2ZmZXIgYW4gaW1wZXJhdGl2ZSBBUElcbiAgICAgICAgLy8gYW5kIHdlIGNhbid0IGF0dGFjaCBldmVudCB0cmlnZ2VycyB0byBjaGFydHMgU1ZHIGVsZW1lbnRzLCB3ZVxuICAgICAgICAvLyB1c2UgYSBoaWRkZW4gc3BhbiB0aGF0IGdldHMgY2xpY2tlZCBvbiB3aGVuIHJlY2VpdmluZyBjbGljayBldmVudHNcbiAgICAgICAgLy8gZnJvbSB0aGUgY2hhcnRzLlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlkZGVuLXNwYW4tJHtpZH1gKT8uY2xpY2soKTtcbiAgICB9LCBbaWQsIGl0ZW1zQ291bnRdKTtcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICAgICAgb3BlbixcbiAgICB9KSwgW29wZW5dKTtcbiAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKDw+XG4gICAgICA8RHJvcGRvd24gZHJvcGRvd25SZW5kZXI9eygpID0+ICg8TWVudSBjbGFzc05hbWU9XCJjaGFydC1jb250ZXh0LW1lbnVcIiBkYXRhLXRlc3Q9XCJjaGFydC1jb250ZXh0LW1lbnVcIiBvbk9wZW5DaGFuZ2U9e3NldE9wZW5LZXlzfSBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICB7bWVudUl0ZW1zLmxlbmd0aCA/IChtZW51SXRlbXMpIDogKDxNZW51Lkl0ZW0gZGlzYWJsZWQ+e3QoJ05vIGFjdGlvbnMnKX08L01lbnUuSXRlbT4pfVxuICAgICAgICAgIDwvTWVudT4pfSB0cmlnZ2VyPXtbJ2NsaWNrJ119IG9uT3BlbkNoYW5nZT17dmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0VmlzaWJsZSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0T3BlbktleXMoW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9fSBvcGVuPXt2aXNpYmxlfT5cbiAgICAgICAgPHNwYW4gaWQ9e2BoaWRkZW4tc3Bhbi0ke2lkfWB9IGNzcz17e1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgIHRvcDogY2xpZW50WSxcbiAgICAgICAgICAgIGxlZnQ6IGNsaWVudFgsXG4gICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgIGhlaWdodDogMSxcbiAgICAgICAgfX0vPlxuICAgICAgPC9Ecm9wZG93bj5cbiAgICAgIHtzaG93RHJpbGxUb0RldGFpbCAmJiAoPERyaWxsRGV0YWlsTW9kYWwgaW5pdGlhbEZpbHRlcnM9e21vZGFsRmlsdGVyc30gY2hhcnRJZD17aWR9IGZvcm1EYXRhPXtmb3JtRGF0YX0gc2hvd01vZGFsPXtkcmlsbE1vZGFsSXNPcGVufSBvbkhpZGVNb2RhbD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldERyaWxsTW9kYWxJc09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgfX0vPil9XG4gICAgICB7c2hvd0RyaWxsQnlNb2RhbCAmJiBkcmlsbEJ5Q29sdW1uICYmIGRhdGFzZXQgJiYgZmlsdGVycz8uZHJpbGxCeSAmJiAoPERyaWxsQnlNb2RhbCBjb2x1bW49e2RyaWxsQnlDb2x1bW59IGRyaWxsQnlDb25maWc9e2ZpbHRlcnM/LmRyaWxsQnl9IGZvcm1EYXRhPXtmb3JtRGF0YX0gb25IaWRlTW9kYWw9e2hhbmRsZUNsb3NlRHJpbGxCeU1vZGFsfSBkYXRhc2V0PXt7IC4uLmRhdGFzZXQsIHZlcmJvc2VfbWFwOiB2ZXJib3NlTWFwIH19IGNhbkRvd25sb2FkPXtjYW5Eb3dubG9hZH0vPil9XG4gICAgPC8+LCBkb2N1bWVudC5ib2R5KTtcbn07XG5leHBvcnQgZGVmYXVsdCBmb3J3YXJkUmVmKENoYXJ0Q29udGV4dE1lbnUpO1xuIl19 */\") }) }\n    ),\n    showDrillToDetail && _jsx(DrillDetailModal, { initialFilters: modalFilters, chartId: id, formData: formData, showModal: drillModalIsOpen, onHideModal: () => {\n        setDrillModalIsOpen(false);\n      } }),\n    showDrillByModal && drillByColumn && dataset && (filters == null ? void 0 : filters.drillBy) && _jsx(DrillByModal, { column: drillByColumn, drillByConfig: filters == null ? void 0 : filters.drillBy, formData: formData, onHideModal: handleCloseDrillByModal, dataset: { ...dataset, verbose_map: verboseMap }, canDownload: canDownload })] }\n  ), document.body);\n};__signature__(ChartContextMenu, \"useTheme{theme}\\nuseDispatch{dispatch}\\nusePermissions{{ canDrillToDetail, canDrillBy, canDownload }}\\nuseSelector{crossFiltersEnabled}\\nuseState{[openKeys, setOpenKeys]([])}\\nuseState{[modalFilters, setFilters]([])}\\nuseState{[visible, setVisible](false)}\\nuseState{[{ filters, clientX, clientY }, setState]({ clientX: 0, clientY: 0 })}\\nuseState{[drillModalIsOpen, setDrillModalIsOpen](false)}\\nuseState{[drillByColumn, setDrillByColumn]}\\nuseState{[showDrillByModal, setShowDrillByModal](false)}\\nuseState{[dataset, setDataset]}\\nuseVerboseMap{verboseMap}\\nuseCallback{handleDrillBy}\\nuseCallback{handleCloseDrillByModal}\\nuseCallback{open}\\nuseImperativeHandle{}\", () => [useTheme, useDispatch, usePermissions, useSelector, useVerboseMap, useImperativeHandle]);const _default = /*#__PURE__*/\nforwardRef(ChartContextMenu);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ContextMenuItem, \"ContextMenuItem\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/ChartContextMenu/ChartContextMenu.tsx\");reactHotLoader.register(ChartContextMenu, \"ChartContextMenu\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/ChartContextMenu/ChartContextMenu.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/ChartContextMenu/ChartContextMenu.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["forwardRef","useCallback","useImperativeHandle","useState","ReactDOM","useDispatch","useSelector","Behavior","ensureIsArray","FeatureFlag","getChartMetadataRegistry","isFeatureEnabled","t","useTheme","Menu","usePermissions","Dropdown","updateDataMask","DrillByModal","useVerboseMap","DrillDetailMenuItems","getMenuAdjustedY","MenuItemTooltip","DrillByMenuItems","DrillDetailModal","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ContextMenuItem","ChartContextMenu","id","formData","onSelection","onClose","displayedItems","All","additionalConfig","ref","_getChartMetadataRegi","_getChartMetadataRegi2","theme","dispatch","canDrillToDetail","canDrillBy","canDownload","crossFiltersEnabled","dashboardInfo","openKeys","setOpenKeys","modalFilters","setFilters","visible","setVisible","isDisplayed","item","includes","filters","clientX","clientY","setState","drillModalIsOpen","setDrillModalIsOpen","drillByColumn","setDrillByColumn","showDrillByModal","setShowDrillByModal","dataset","setDataset","verboseMap","handleDrillBy","column","handleCloseDrillByModal","menuItems","showDrillToDetail","DrillToDetail","showDrillBy","DrillBy","showCrossFilters","CrossFilter","isCrossFilteringSupportedByChart","get","viz_type","behaviors","InteractiveChart","itemsCount","_filters$crossFilter","isCrossFilterDisabled","crossFilter","crossFilteringTooltipTitle","children","push","Item","disabled","onClick","dataMask","isCurrentValueSelected","title","color","colors","grayscale","base","undefined","Divider","drillToDetail","isContextMenu","contextMenuY","submenuIndex","setShowModal","drillByConfig","drillBy","open","onDrillBy","_document$getElementB","adjustedY","document","getElementById","click","createPortal","dropdownRender","className","onOpenChange","length","trigger","value","css","_css","visibility","position","top","left","width","height","process","env","NODE_ENV","initialFilters","chartId","showModal","onHideModal","verbose_map","body","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/Chart/ChartContextMenu/ChartContextMenu.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  forwardRef,\n  Key,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Behavior,\n  BinaryQueryObjectFilterClause,\n  Column,\n  ContextMenuFilters,\n  ensureIsArray,\n  FeatureFlag,\n  getChartMetadataRegistry,\n  isFeatureEnabled,\n  QueryFormData,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport { RootState } from 'src/dashboard/types';\nimport { Menu } from 'src/components/Menu';\nimport { usePermissions } from 'src/hooks/usePermissions';\nimport { Dropdown } from 'src/components/Dropdown';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport DrillByModal from 'src/components/Chart/DrillBy/DrillByModal';\nimport { useVerboseMap } from 'src/hooks/apiResources/datasets';\nimport { Dataset } from 'src/components/Chart/types';\nimport { DrillDetailMenuItems } from '../DrillDetail';\nimport { getMenuAdjustedY } from '../utils';\nimport { MenuItemTooltip } from '../DisabledMenuItemTooltip';\nimport { DrillByMenuItems } from '../DrillBy/DrillByMenuItems';\nimport DrillDetailModal from '../DrillDetail/DrillDetailModal';\n\nexport enum ContextMenuItem {\n  CrossFilter,\n  DrillToDetail,\n  DrillBy,\n  All,\n}\nexport interface ChartContextMenuProps {\n  id: number;\n  formData: QueryFormData;\n  onSelection: () => void;\n  onClose: () => void;\n  additionalConfig?: {\n    crossFilter?: Record<string, any>;\n    drillToDetail?: Record<string, any>;\n    drillBy?: Record<string, any>;\n  };\n  displayedItems?: ContextMenuItem[] | ContextMenuItem;\n}\n\nexport interface ChartContextMenuRef {\n  open: (\n    clientX: number,\n    clientY: number,\n    filters?: ContextMenuFilters,\n  ) => void;\n}\n\nconst ChartContextMenu = (\n  {\n    id,\n    formData,\n    onSelection,\n    onClose,\n    displayedItems = ContextMenuItem.All,\n    additionalConfig,\n  }: ChartContextMenuProps,\n  ref: RefObject<ChartContextMenuRef>,\n) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const { canDrillToDetail, canDrillBy, canDownload } = usePermissions();\n\n  const crossFiltersEnabled = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled,\n  );\n  const [openKeys, setOpenKeys] = useState<Key[]>([]);\n\n  const [modalFilters, setFilters] = useState<BinaryQueryObjectFilterClause[]>(\n    [],\n  );\n\n  const [visible, setVisible] = useState(false);\n\n  const isDisplayed = (item: ContextMenuItem) =>\n    displayedItems === ContextMenuItem.All ||\n    ensureIsArray(displayedItems).includes(item);\n\n  const [{ filters, clientX, clientY }, setState] = useState<{\n    clientX: number;\n    clientY: number;\n    filters?: ContextMenuFilters;\n  }>({ clientX: 0, clientY: 0 });\n\n  const [drillModalIsOpen, setDrillModalIsOpen] = useState(false);\n  const [drillByColumn, setDrillByColumn] = useState<Column>();\n  const [showDrillByModal, setShowDrillByModal] = useState(false);\n  const [dataset, setDataset] = useState<Dataset>();\n  const verboseMap = useVerboseMap(dataset);\n\n  const handleDrillBy = useCallback((column: Column, dataset: Dataset) => {\n    setDrillByColumn(column);\n    setDataset(dataset); // Save dataset when drilling\n    setShowDrillByModal(true);\n  }, []);\n\n  const handleCloseDrillByModal = useCallback(() => {\n    setShowDrillByModal(false);\n  }, []);\n\n  const menuItems: React.JSX.Element[] = [];\n\n  const showDrillToDetail =\n    isFeatureEnabled(FeatureFlag.DrillToDetail) &&\n    canDrillToDetail &&\n    isDisplayed(ContextMenuItem.DrillToDetail);\n\n  const showDrillBy =\n    isFeatureEnabled(FeatureFlag.DrillBy) &&\n    canDrillBy &&\n    isDisplayed(ContextMenuItem.DrillBy);\n\n  const showCrossFilters = isDisplayed(ContextMenuItem.CrossFilter);\n\n  const isCrossFilteringSupportedByChart = getChartMetadataRegistry()\n    .get(formData.viz_type)\n    ?.behaviors?.includes(Behavior.InteractiveChart);\n\n  let itemsCount = 0;\n  if (showCrossFilters) {\n    itemsCount += 1;\n  }\n  if (showDrillToDetail) {\n    itemsCount += 2; // Drill to detail always has 2 top-level menu items\n  }\n  if (showDrillBy) {\n    itemsCount += 1;\n  }\n  if (itemsCount === 0) {\n    itemsCount = 1; // \"No actions\" appears if no actions in menu\n  }\n\n  if (showCrossFilters) {\n    const isCrossFilterDisabled =\n      !isCrossFilteringSupportedByChart ||\n      !crossFiltersEnabled ||\n      !filters?.crossFilter;\n\n    let crossFilteringTooltipTitle: ReactNode = null;\n    if (!isCrossFilterDisabled) {\n      crossFilteringTooltipTitle = (\n        <>\n          <div>\n            {t(\n              'Cross-filter will be applied to all of the charts that use this dataset.',\n            )}\n          </div>\n          <div>\n            {t('You can also just click on the chart to apply cross-filter.')}\n          </div>\n        </>\n      );\n    } else if (!crossFiltersEnabled) {\n      crossFilteringTooltipTitle = (\n        <>\n          <div>{t('Cross-filtering is not enabled for this dashboard.')}</div>\n        </>\n      );\n    } else if (!isCrossFilteringSupportedByChart) {\n      crossFilteringTooltipTitle = (\n        <>\n          <div>\n            {t('This visualization type does not support cross-filtering.')}\n          </div>\n        </>\n      );\n    } else if (!filters?.crossFilter) {\n      crossFilteringTooltipTitle = (\n        <>\n          <div>{t(`You can't apply cross-filter on this data point.`)}</div>\n        </>\n      );\n    }\n    menuItems.push(\n      <>\n        <Menu.Item\n          key=\"cross-filtering-menu-item\"\n          disabled={isCrossFilterDisabled}\n          onClick={() => {\n            if (filters?.crossFilter) {\n              dispatch(updateDataMask(id, filters.crossFilter.dataMask));\n            }\n          }}\n        >\n          {filters?.crossFilter?.isCurrentValueSelected ? (\n            t('Remove cross-filter')\n          ) : (\n            <div>\n              {t('Add cross-filter')}\n              <MenuItemTooltip\n                title={crossFilteringTooltipTitle}\n                color={\n                  !isCrossFilterDisabled\n                    ? theme.colors.grayscale.base\n                    : undefined\n                }\n              />\n            </div>\n          )}\n        </Menu.Item>\n        {itemsCount > 1 && <Menu.Divider />}\n      </>,\n    );\n  }\n  if (showDrillToDetail) {\n    menuItems.push(\n      <DrillDetailMenuItems\n        formData={formData}\n        filters={filters?.drillToDetail}\n        setFilters={setFilters}\n        isContextMenu\n        contextMenuY={clientY}\n        onSelection={onSelection}\n        submenuIndex={showCrossFilters ? 2 : 1}\n        setShowModal={setDrillModalIsOpen}\n        {...(additionalConfig?.drillToDetail || {})}\n      />,\n    );\n  }\n  if (showDrillBy) {\n    let submenuIndex = 0;\n    if (showCrossFilters) {\n      submenuIndex += 1;\n    }\n    if (showDrillToDetail) {\n      submenuIndex += 2;\n    }\n    menuItems.push(\n      <DrillByMenuItems\n        drillByConfig={filters?.drillBy}\n        onSelection={onSelection}\n        formData={formData}\n        contextMenuY={clientY}\n        submenuIndex={submenuIndex}\n        open={openKeys.includes('drill-by-submenu')}\n        key=\"drill-by-submenu\"\n        onDrillBy={handleDrillBy}\n        {...(additionalConfig?.drillBy || {})}\n      />,\n    );\n  }\n\n  const open = useCallback(\n    (clientX: number, clientY: number, filters?: ContextMenuFilters) => {\n      const adjustedY = getMenuAdjustedY(clientY, itemsCount);\n      setState({\n        clientX,\n        clientY: adjustedY,\n        filters,\n      });\n\n      // Since Ant Design's Dropdown does not offer an imperative API\n      // and we can't attach event triggers to charts SVG elements, we\n      // use a hidden span that gets clicked on when receiving click events\n      // from the charts.\n      document.getElementById(`hidden-span-${id}`)?.click();\n    },\n    [id, itemsCount],\n  );\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      open,\n    }),\n    [open],\n  );\n\n  return ReactDOM.createPortal(\n    <>\n      <Dropdown\n        dropdownRender={() => (\n          <Menu\n            className=\"chart-context-menu\"\n            data-test=\"chart-context-menu\"\n            onOpenChange={setOpenKeys}\n            onClick={() => {\n              setVisible(false);\n              onClose();\n            }}\n          >\n            {menuItems.length ? (\n              menuItems\n            ) : (\n              <Menu.Item disabled>{t('No actions')}</Menu.Item>\n            )}\n          </Menu>\n        )}\n        trigger={['click']}\n        onOpenChange={value => {\n          setVisible(value);\n          if (!value) {\n            setOpenKeys([]);\n          }\n        }}\n        open={visible}\n      >\n        <span\n          id={`hidden-span-${id}`}\n          css={{\n            visibility: 'hidden',\n            position: 'fixed',\n            top: clientY,\n            left: clientX,\n            width: 1,\n            height: 1,\n          }}\n        />\n      </Dropdown>\n      {showDrillToDetail && (\n        <DrillDetailModal\n          initialFilters={modalFilters}\n          chartId={id}\n          formData={formData}\n          showModal={drillModalIsOpen}\n          onHideModal={() => {\n            setDrillModalIsOpen(false);\n          }}\n        />\n      )}\n      {showDrillByModal && drillByColumn && dataset && filters?.drillBy && (\n        <DrillByModal\n          column={drillByColumn}\n          drillByConfig={filters?.drillBy}\n          formData={formData}\n          onHideModal={handleCloseDrillByModal}\n          dataset={{ ...dataset!, verbose_map: verboseMap }}\n          canDownload={canDownload}\n        />\n      )}\n    </>,\n    document.body,\n  );\n};\n\nexport default forwardRef(ChartContextMenu);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}