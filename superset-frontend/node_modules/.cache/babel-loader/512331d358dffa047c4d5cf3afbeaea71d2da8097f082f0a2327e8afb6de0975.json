{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getColumnLabel, isDefined } from '@superset-ui/core';\nimport { getCrossFilterIndicator } from '../../selectors';\nexport const crossFiltersSelector = (props) => {\n  const { dataMask, chartIds, chartLayoutItems, verboseMaps } = props;\n  return chartIds.\n  map((chartId) => {\n    const filterIndicator = getCrossFilterIndicator(chartId, dataMask[chartId], chartLayoutItems);\n    if (isDefined(filterIndicator.column) &&\n    isDefined(filterIndicator.value)) {var _verboseMaps$chartId;\n      const verboseColName = ((_verboseMaps$chartId = verboseMaps[chartId]) == null ? void 0 : _verboseMaps$chartId[getColumnLabel(filterIndicator.column)]) ||\n      filterIndicator.column;\n      return {\n        ...filterIndicator,\n        column: verboseColName,\n        emitterId: chartId\n      };\n    }\n    return null;\n  }).\n  filter(Boolean);\n};const _default =\ncrossFiltersSelector;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(crossFiltersSelector, \"crossFiltersSelector\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["getColumnLabel","isDefined","getCrossFilterIndicator","crossFiltersSelector","props","dataMask","chartIds","chartLayoutItems","verboseMaps","map","chartId","filterIndicator","column","value","_verboseMaps$chartId","verboseColName","emitterId","filter","Boolean","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  DataMaskStateWithId,\n  getColumnLabel,\n  isDefined,\n} from '@superset-ui/core';\nimport { LayoutItem } from 'src/dashboard/types';\nimport { CrossFilterIndicator, getCrossFilterIndicator } from '../../selectors';\n\nexport const crossFiltersSelector = (props: {\n  dataMask: DataMaskStateWithId;\n  chartIds: number[];\n  chartLayoutItems: LayoutItem[];\n  verboseMaps: { [key: string]: Record<string, string> };\n}): CrossFilterIndicator[] => {\n  const { dataMask, chartIds, chartLayoutItems, verboseMaps } = props;\n\n  return chartIds\n    .map(chartId => {\n      const filterIndicator = getCrossFilterIndicator(\n        chartId,\n        dataMask[chartId],\n        chartLayoutItems,\n      );\n      if (\n        isDefined(filterIndicator.column) &&\n        isDefined(filterIndicator.value)\n      ) {\n        const verboseColName =\n          verboseMaps[chartId]?.[getColumnLabel(filterIndicator.column)] ||\n          filterIndicator.column;\n        return {\n          ...filterIndicator,\n          column: verboseColName,\n          emitterId: chartId,\n        };\n      }\n      return null;\n    })\n    .filter(Boolean) as CrossFilterIndicator[];\n};\n\nexport default crossFiltersSelector;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,SAEEA,cAAc,EACdC,SAAS,QACJ,mBAAmB;AAE1B,SAA+BC,uBAAuB,QAAQ,iBAAiB;AAE/E,OAAO,MAAMC,oBAAoB,GAAGA,CAACC,KAKpC,KAA4B;EAC3B,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,gBAAgB,EAAEC,WAAW,EAAE,GAAGJ,KAAK;EAEnE,OAAOE,QAAQ;EACZG,GAAG,CAAC,CAAAC,OAAO,KAAG;IACb,MAAMC,eAAe,GAAGT,uBAAuB,CAC7CQ,OAAO,EACPL,QAAQ,CAACK,OAAO,CAAC,EACjBH,gBAAgB,CACjB;IACD,IACEN,SAAS,CAACU,eAAe,CAACC,MAAM,CAAC;IACjCX,SAAS,CAACU,eAAe,CAACE,KAAK,CAAC,EAChC,KAAAC,oBAAA;MACA,MAAMC,cAAc,GAClB,EAAAD,oBAAA,GAAAN,WAAW,CAACE,OAAO,CAAC,qBAApBI,oBAAA,CAAuBd,cAAc,CAACW,eAAe,CAACC,MAAM,CAAC,CAAC;MAC9DD,eAAe,CAACC,MAAM;MACxB,OAAO;QACL,GAAGD,eAAe;QAClBC,MAAM,EAAEG,cAAc;QACtBC,SAAS,EAAEN;OACZ;;IAEH,OAAO,IAAI;EACb,CAAC,CAAC;EACDO,MAAM,CAACC,OAAO,CAA2B;AAC9C,CAAC,CAAC,MAAAC,QAAA;AAEahB,oBAAoB,CAAnC,eAAAgB,QAAA,CAAoC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAjCvBrB,oBAAoB,mJAAAiB,cAAA,CAAAI,QAAA,CAAAL,QAAA,8JAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}