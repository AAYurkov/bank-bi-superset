{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { css } from '@superset-ui/core';\nimport { Icons } from 'src/components/Icons';\nimport { getChartKey } from 'src/explore/exploreUtils';\nimport { VizTile } from './VizTile';\nimport { FEATURED_CHARTS } from './constants';import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nexport const antdIconProps = {\n  iconSize: 'l',\n  css: (theme) => css`\n    padding: ${theme.gridUnit}px;\n    & > * {\n      line-height: 0;\n    }\n  `\n};\nexport const FastVizSwitcher = /*#__PURE__*/memo(__signature__(({ currentSelection, onChange }) => {\n  const currentViz = useSelector((state) => {var _state$charts, _state$charts$getChar, _state$charts$getChar2;return (_state$charts = state.charts) == null ? void 0 : (_state$charts$getChar = _state$charts[getChartKey(state.explore)]) == null ? void 0 : (_state$charts$getChar2 = _state$charts$getChar.latestQueryFormData) == null ? void 0 : _state$charts$getChar2.\n    viz_type;});\n  const vizTiles = useMemo(() => {\n    const vizTiles = [...FEATURED_CHARTS];\n    if (currentSelection &&\n    FEATURED_CHARTS.every((featuredVizMeta) => featuredVizMeta.name !== currentSelection) &&\n    currentSelection !== currentViz) {\n      vizTiles.unshift({\n        name: currentSelection,\n        icon: _jsx(Icons.MonitorOutlined, { ...antdIconProps, \"aria-label\": \"monitor\" })\n      });\n    }\n    if (currentViz &&\n    FEATURED_CHARTS.every((featuredVizMeta) => featuredVizMeta.name !== currentViz)) {\n      vizTiles.unshift({\n        name: currentViz,\n        icon: _jsx(Icons.CheckSquareOutlined, { ...antdIconProps, \"aria-label\": \"check-square\" })\n      });\n    }\n    return vizTiles;\n  }, [currentSelection, currentViz]);\n  return _jsx(\"div\", { css: (theme) => css`\n          display: flex;\n          justify-content: space-between;\n          column-gap: ${theme.gridUnit}px;\n        `, \"data-test\": \"fast-viz-switcher\", children:\n    vizTiles.map((vizMeta) => _jsx(VizTile, { vizMeta: vizMeta, isActive: currentSelection === vizMeta.name, isRendered: currentViz === vizMeta.name, onTileClick: onChange }, vizMeta.name)) }\n  );\n}, \"useSelector{currentViz}\\nuseMemo{vizTiles}\", () => [useSelector]));;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(antdIconProps, \"antdIconProps\", \"/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/VizTypeControl/FastVizSwitcher.tsx\");reactHotLoader.register(FastVizSwitcher, \"FastVizSwitcher\", \"/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/VizTypeControl/FastVizSwitcher.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["memo","useMemo","useSelector","css","Icons","getChartKey","VizTile","FEATURED_CHARTS","jsx","_jsx","antdIconProps","iconSize","theme","gridUnit","FastVizSwitcher","__signature__","currentSelection","onChange","currentViz","state","_state$charts","_state$charts$getChar","_state$charts$getChar2","charts","explore","latestQueryFormData","viz_type","vizTiles","every","featuredVizMeta","name","unshift","icon","MonitorOutlined","CheckSquareOutlined","children","map","vizMeta","isActive","isRendered","onTileClick","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/VizTypeControl/FastVizSwitcher.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { css, SupersetTheme } from '@superset-ui/core';\nimport { Icons } from 'src/components/Icons';\nimport { getChartKey } from 'src/explore/exploreUtils';\nimport { ExplorePageState } from 'src/explore/types';\nimport { FastVizSwitcherProps } from './types';\nimport { VizTile } from './VizTile';\nimport { FEATURED_CHARTS } from './constants';\n\nexport const antdIconProps = {\n  iconSize: 'l' as const,\n  css: (theme: SupersetTheme) => css`\n    padding: ${theme.gridUnit}px;\n    & > * {\n      line-height: 0;\n    }\n  `,\n};\n\nexport const FastVizSwitcher = memo(\n  ({ currentSelection, onChange }: FastVizSwitcherProps) => {\n    const currentViz = useSelector<ExplorePageState, string | undefined>(\n      state =>\n        state.charts?.[getChartKey(state.explore)]?.latestQueryFormData\n          ?.viz_type,\n    );\n    const vizTiles = useMemo(() => {\n      const vizTiles = [...FEATURED_CHARTS];\n      if (\n        currentSelection &&\n        FEATURED_CHARTS.every(\n          featuredVizMeta => featuredVizMeta.name !== currentSelection,\n        ) &&\n        currentSelection !== currentViz\n      ) {\n        vizTiles.unshift({\n          name: currentSelection,\n          icon: (\n            <Icons.MonitorOutlined {...antdIconProps} aria-label=\"monitor\" />\n          ),\n        });\n      }\n      if (\n        currentViz &&\n        FEATURED_CHARTS.every(\n          featuredVizMeta => featuredVizMeta.name !== currentViz,\n        )\n      ) {\n        vizTiles.unshift({\n          name: currentViz,\n          icon: (\n            <Icons.CheckSquareOutlined\n              {...antdIconProps}\n              aria-label=\"check-square\"\n            />\n          ),\n        });\n      }\n      return vizTiles;\n    }, [currentSelection, currentViz]);\n\n    return (\n      <div\n        css={(theme: SupersetTheme) => css`\n          display: flex;\n          justify-content: space-between;\n          column-gap: ${theme.gridUnit}px;\n        `}\n        data-test=\"fast-viz-switcher\"\n      >\n        {vizTiles.map(vizMeta => (\n          <VizTile\n            vizMeta={vizMeta}\n            isActive={currentSelection === vizMeta.name}\n            isRendered={currentViz === vizMeta.name}\n            onTileClick={onChange}\n            key={vizMeta.name}\n          />\n        ))}\n      </div>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}