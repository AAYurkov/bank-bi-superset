{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useCallback } from 'react';\nimport { t, useTheme } from '@superset-ui/core';\nimport { Select } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport { CronPicker } from 'src/components/CronPicker';\nimport { StyledInputContainer } from '../AlertReportModal';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nvar ScheduleType;\n(function (ScheduleType) {\n  ScheduleType[\"Picker\"] = \"picker\";\n  ScheduleType[\"Input\"] = \"input\";\n})(ScheduleType || (ScheduleType = {}));\nconst SCHEDULE_TYPE_OPTIONS = [\n{\n  label: t('Recurring (every)'),\n  value: ScheduleType.Picker\n},\n{\n  label: t('CRON Schedule'),\n  value: ScheduleType.Input\n}];\n\nexport const AlertReportCronScheduler = ({ value, onChange }) => {\n  const theme = useTheme();\n  const [scheduleFormat, setScheduleFormat] = useState(ScheduleType.Picker);\n  const customSetValue = useCallback((newValue) => {\n    onChange(newValue);\n  }, [onChange]);\n  const handleBlur = useCallback((event) => {\n    onChange(event.target.value);\n  }, [onChange]);\n  const handlePressEnter = useCallback(() => {\n    onChange(value || '');\n  }, [onChange, value]);\n  const [error, onError] = useState();\n  return _jsxs(_Fragment, { children: [\n    _jsxs(StyledInputContainer, { children: [\n      _jsxs(\"div\", { className: \"control-label\", children: [\n        t('Schedule type'),\n        _jsx(\"span\", { className: \"required\", children: \"*\" })] }\n      ),\n      _jsx(\"div\", { className: \"input-container\", children:\n        _jsx(Select, { ariaLabel: t('Schedule type'), placeholder: t('Schedule type'), onChange: (e) => {\n            setScheduleFormat(e);\n          }, value: scheduleFormat, options: SCHEDULE_TYPE_OPTIONS }) }\n      )] }\n    ),\n\n    _jsxs(StyledInputContainer, { \"data-test\": \"input-content\", className: \"styled-input\", children: [\n      _jsxs(\"div\", { className: \"control-label\", children: [\n        t('Schedule'),\n        _jsx(\"span\", { className: \"required\", children: \"*\" })] }\n      ),\n      scheduleFormat === ScheduleType.Input && _jsx(Input, { type: \"text\", name: \"crontab\", style: error ? { borderColor: theme.colors.error.base } : {}, placeholder: t('CRON expression'), value: value, onBlur: handleBlur, onChange: (e) => customSetValue(e.target.value), onPressEnter: handlePressEnter }),\n      scheduleFormat === ScheduleType.Picker && _jsx(CronPicker, { clearButton: false, value: value, setValue: customSetValue, displayError: scheduleFormat === ScheduleType.Picker, onError: onError })] }\n    )] }\n  );\n};__signature__(AlertReportCronScheduler, \"useTheme{theme}\\nuseState{[scheduleFormat, setScheduleFormat](ScheduleType.Picker)}\\nuseCallback{customSetValue}\\nuseCallback{handleBlur}\\nuseCallback{handlePressEnter}\\nuseState{[error, onError]}\", () => [useTheme]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ScheduleType, \"ScheduleType\", \"/Users/aryurkov/superset/superset-frontend/src/features/alerts/components/AlertReportCronScheduler.tsx\");reactHotLoader.register(SCHEDULE_TYPE_OPTIONS, \"SCHEDULE_TYPE_OPTIONS\", \"/Users/aryurkov/superset/superset-frontend/src/features/alerts/components/AlertReportCronScheduler.tsx\");reactHotLoader.register(AlertReportCronScheduler, \"AlertReportCronScheduler\", \"/Users/aryurkov/superset/superset-frontend/src/features/alerts/components/AlertReportCronScheduler.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","useCallback","t","useTheme","Select","Input","CronPicker","StyledInputContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScheduleType","SCHEDULE_TYPE_OPTIONS","label","value","Picker","AlertReportCronScheduler","onChange","theme","scheduleFormat","setScheduleFormat","customSetValue","newValue","handleBlur","event","target","handlePressEnter","error","onError","children","className","ariaLabel","placeholder","e","options","type","name","style","borderColor","colors","base","onBlur","onPressEnter","clearButton","setValue","displayError","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/features/alerts/components/AlertReportCronScheduler.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useCallback, FocusEvent, FC } from 'react';\n\nimport { t, useTheme } from '@superset-ui/core';\n\nimport { Select } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport { CronPicker, CronError } from 'src/components/CronPicker';\nimport { StyledInputContainer } from '../AlertReportModal';\n\nexport interface AlertReportCronSchedulerProps {\n  value: string;\n  onChange: (change: string) => any;\n}\n\nenum ScheduleType {\n  Picker = 'picker',\n  Input = 'input',\n}\n\nconst SCHEDULE_TYPE_OPTIONS = [\n  {\n    label: t('Recurring (every)'),\n    value: ScheduleType.Picker,\n  },\n  {\n    label: t('CRON Schedule'),\n    value: ScheduleType.Input,\n  },\n];\n\nexport const AlertReportCronScheduler: FC<AlertReportCronSchedulerProps> = ({\n  value,\n  onChange,\n}) => {\n  const theme = useTheme();\n  const [scheduleFormat, setScheduleFormat] = useState<ScheduleType>(\n    ScheduleType.Picker,\n  );\n\n  const customSetValue = useCallback(\n    (newValue: string) => {\n      onChange(newValue);\n    },\n    [onChange],\n  );\n\n  const handleBlur = useCallback(\n    (event: FocusEvent<HTMLInputElement>) => {\n      onChange(event.target.value);\n    },\n    [onChange],\n  );\n\n  const handlePressEnter = useCallback(() => {\n    onChange(value || '');\n  }, [onChange, value]);\n\n  const [error, onError] = useState<CronError>();\n\n  return (\n    <>\n      <StyledInputContainer>\n        <div className=\"control-label\">\n          {t('Schedule type')}\n          <span className=\"required\">*</span>\n        </div>\n        <div className=\"input-container\">\n          <Select\n            ariaLabel={t('Schedule type')}\n            placeholder={t('Schedule type')}\n            onChange={(e: ScheduleType) => {\n              setScheduleFormat(e);\n            }}\n            value={scheduleFormat}\n            options={SCHEDULE_TYPE_OPTIONS}\n          />\n        </div>\n      </StyledInputContainer>\n\n      <StyledInputContainer data-test=\"input-content\" className=\"styled-input\">\n        <div className=\"control-label\">\n          {t('Schedule')}\n          <span className=\"required\">*</span>\n        </div>\n        {scheduleFormat === ScheduleType.Input && (\n          <Input\n            type=\"text\"\n            name=\"crontab\"\n            style={error ? { borderColor: theme.colors.error.base } : {}}\n            placeholder={t('CRON expression')}\n            value={value}\n            onBlur={handleBlur}\n            onChange={e => customSetValue(e.target.value)}\n            onPressEnter={handlePressEnter}\n          />\n        )}\n        {scheduleFormat === ScheduleType.Picker && (\n          <CronPicker\n            clearButton={false}\n            value={value}\n            setValue={customSetValue}\n            displayError={scheduleFormat === ScheduleType.Picker}\n            onError={onError}\n          />\n        )}\n      </StyledInputContainer>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}