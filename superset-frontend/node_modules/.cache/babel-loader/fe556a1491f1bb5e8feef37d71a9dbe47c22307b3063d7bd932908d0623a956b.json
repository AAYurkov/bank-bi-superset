{"ast":null,"code":"import _isNil from \"lodash/isNil\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { isValidElement, cloneElement, useMemo, useRef, useState } from 'react';\n\nimport { css, styled, t } from '@superset-ui/core';\nimport { Modal as AntdModal } from 'antd-v5';\nimport Button from 'src/components/Button';\nimport { Resizable } from 're-resizable';\nimport Draggable from 'react-draggable';import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\nexport const BaseModal = (props) =>\n// Removes mask animation. Fixed in 4.6.0.\n// https://github.com/ant-design/ant-design/issues/27192\n_jsx(AntdModal, { ...props, maskTransitionName: \"\" });\nexport const StyledModal = styled(BaseModal)`\n  ${({ theme, responsive, maxWidth }) => responsive &&\ncss`\n      max-width: ${maxWidth != null ? maxWidth : '900px'};\n      padding-left: ${theme.gridUnit * 3}px;\n      padding-right: ${theme.gridUnit * 3}px;\n      padding-bottom: 0;\n      top: 0;\n    `}\n\n  .antd5-modal-content {\n    display: flex;\n    flex-direction: column;\n    max-height: ${({ theme }) => `calc(100vh - ${theme.gridUnit * 8}px)`};\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: ${({ theme }) => theme.gridUnit * 4}px;\n    padding: 0;\n  }\n\n  .antd5-modal-header {\n    flex: 0 0 auto;\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding: ${({ theme }) => theme.gridUnit * 4}px\n      ${({ theme }) => theme.gridUnit * 6}px;\n\n    .antd5-modal-title {\n      font-weight: ${({ theme }) => theme.typography.weights.medium};\n    }\n\n    .antd5-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .antd5-modal-close {\n    width: ${({ theme }) => theme.gridUnit * 14}px;\n    height: ${({ theme }) => theme.gridUnit * 14}px;\n    top: 0;\n    right: 0;\n  }\n\n  .antd5-modal-close:hover {\n    background: transparent;\n  }\n\n  .antd5-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .antd5-modal-body {\n    flex: 0 1 auto;\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .antd5-modal-footer {\n    flex: 0 0 1;\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: 0;\n\n    .btn {\n      font-size: 12px;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .antd5-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) => draggable &&\n`\n    .antd5-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) => resizable &&\n`\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .antd5-modal-content {\n        height: 100%;\n\n        .antd5-modal-body {\n          /* 100% - header height - footer height */\n          height: ${hideFooter ?\n`calc(100% - ${MODAL_HEADER_HEIGHT}px);` :\n`calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`}\n        }\n      }\n    }\n  `}\n`;\nconst defaultResizableConfig = (hideFooter) => ({\n  maxHeight: RESIZABLE_MAX_HEIGHT,\n  maxWidth: RESIZABLE_MAX_WIDTH,\n  minHeight: hideFooter ?\n  RESIZABLE_MIN_HEIGHT :\n  RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n  minWidth: RESIZABLE_MIN_WIDTH,\n  enable: {\n    bottom: true,\n    bottomLeft: false,\n    bottomRight: true,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n    right: true\n  }\n});\nconst CustomModal = ({ children, disablePrimaryButton = false, primaryTooltipMessage, primaryButtonLoading = false, onHide, onHandledPrimaryAction, primaryButtonName = t('OK'), primaryButtonType = 'primary', show, name, title, width, maxWidth, responsive = false, centered, footer, hideFooter, wrapProps, draggable = false, resizable = false, resizableConfig = defaultResizableConfig(hideFooter), draggableConfig, destroyOnClose, ...rest }) => {\n  const draggableRef = useRef(null);\n  const [bounds, setBounds] = useState();\n  const [dragDisabled, setDragDisabled] = useState(true);\n  let FooterComponent;\n  if (/*#__PURE__*/isValidElement(footer)) {\n    // If a footer component is provided inject a closeModal function\n    // so the footer can provide a \"close\" button if desired\n    FooterComponent = /*#__PURE__*/cloneElement(footer, {\n      closeModal: onHide\n    });\n  }\n  const modalFooter = _isNil(FooterComponent) ?\n  [\n  _jsx(Button, { onClick: onHide, cta: true, \"data-test\": \"modal-cancel-button\", children:\n    t('Cancel') }, \"back\"\n  ),\n  _jsx(Button, { buttonStyle: primaryButtonType, disabled: disablePrimaryButton, tooltip: primaryTooltipMessage, loading: primaryButtonLoading, onClick: onHandledPrimaryAction, cta: true, \"data-test\": \"modal-confirm-button\", children:\n    primaryButtonName }, \"submit\"\n  )] :\n\n  FooterComponent;\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n  const onDragStart = (_, uiData) => {var _window, _window$document, _draggableRef$current;\n    const { clientWidth, clientHeight } = (_window = window) == null ? void 0 : (_window$document = _window.document) == null ? void 0 : _window$document.documentElement;\n    const targetRect = draggableRef == null ? void 0 : (_draggableRef$current = draggableRef.current) == null ? void 0 : _draggableRef$current.getBoundingClientRect();\n    if (targetRect) {\n      setBounds({\n        left: -(targetRect == null ? void 0 : targetRect.left) + (uiData == null ? void 0 : uiData.x),\n        right: clientWidth - ((targetRect == null ? void 0 : targetRect.right) - (uiData == null ? void 0 : uiData.x)),\n        top: -(targetRect == null ? void 0 : targetRect.top) + (uiData == null ? void 0 : uiData.y),\n        bottom: clientHeight - ((targetRect == null ? void 0 : targetRect.bottom) - (uiData == null ? void 0 : uiData.y))\n      });\n    }\n  };\n  const getResizableConfig = useMemo(() => {\n    if (Object.keys(resizableConfig).length === 0) {\n      return defaultResizableConfig(hideFooter);\n    }\n    return resizableConfig;\n  }, [hideFooter, resizableConfig]);\n  const ModalTitle = () => draggable ? _jsx(\"div\", { className: \"draggable-trigger\", onMouseOver: () => dragDisabled && setDragDisabled(false), onMouseOut: () => !dragDisabled && setDragDisabled(true), children:\n    title }\n  ) : _jsx(_Fragment, { children: title });\n  return _jsx(StyledModal, { centered: !!centered, onOk: onHandledPrimaryAction, onCancel: onHide, width: modalWidth, maxWidth: maxWidth, responsive: responsive, open: show, title: _jsx(ModalTitle, {}), closeIcon: _jsx(\"span\", { className: \"close\", \"aria-hidden\": \"true\", children: \"\\xD7\" }\n\n    ), footer: !hideFooter ? modalFooter : null, hideFooter: hideFooter, wrapProps: { 'data-test': `${name || title}-modal`, ...wrapProps }, modalRender: (modal) => resizable || draggable ? _jsx(Draggable, { disabled: !draggable || dragDisabled, bounds: bounds, onStart: (event, uiData) => onDragStart(event, uiData), ...draggableConfig, children:\n      resizable ? _jsx(Resizable, { className: \"resizable\", ...getResizableConfig, children:\n        _jsx(\"div\", { className: \"resizable-wrapper\", ref: draggableRef, children:\n          modal }\n        ) }\n      ) : _jsx(\"div\", { ref: draggableRef, children: modal }) }\n    ) : modal, mask: shouldShowMask, draggable: draggable, resizable: resizable, destroyOnClose: destroyOnClose, ...rest, children:\n    children }\n  );\n};__signature__(CustomModal, \"useRef{draggableRef}\\nuseState{[bounds, setBounds]}\\nuseState{[dragDisabled, setDragDisabled](true)}\\nuseMemo{getResizableConfig}\");\nCustomModal.displayName = 'Modal';\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: AntdModal.error,\n  warning: AntdModal.warning,\n  confirm: AntdModal.confirm,\n  useModal: AntdModal.useModal\n});const _default =\nModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(MODAL_HEADER_HEIGHT, \"MODAL_HEADER_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_MIN_CONTENT_HEIGHT, \"MODAL_MIN_CONTENT_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_FOOTER_HEIGHT, \"MODAL_FOOTER_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_HEIGHT, \"RESIZABLE_MIN_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_WIDTH, \"RESIZABLE_MIN_WIDTH\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_HEIGHT, \"RESIZABLE_MAX_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_WIDTH, \"RESIZABLE_MAX_WIDTH\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(BaseModal, \"BaseModal\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(StyledModal, \"StyledModal\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(defaultResizableConfig, \"defaultResizableConfig\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(CustomModal, \"CustomModal\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(Modal, \"Modal\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["isValidElement","cloneElement","useMemo","useRef","useState","css","styled","t","Modal","AntdModal","Button","Resizable","Draggable","jsx","_jsx","Fragment","_Fragment","MODAL_HEADER_HEIGHT","MODAL_MIN_CONTENT_HEIGHT","MODAL_FOOTER_HEIGHT","RESIZABLE_MIN_HEIGHT","RESIZABLE_MIN_WIDTH","RESIZABLE_MAX_HEIGHT","RESIZABLE_MAX_WIDTH","BaseModal","props","maskTransitionName","StyledModal","theme","responsive","maxWidth","gridUnit","borderRadius","typography","weights","medium","colors","secondary","dark1","light","resizable","height","grayscale","light2","draggable","hideFooter","defaultResizableConfig","maxHeight","minHeight","minWidth","enable","bottom","bottomLeft","bottomRight","left","top","topLeft","topRight","right","CustomModal","children","disablePrimaryButton","primaryTooltipMessage","primaryButtonLoading","onHide","onHandledPrimaryAction","primaryButtonName","primaryButtonType","show","name","title","width","centered","footer","wrapProps","resizableConfig","draggableConfig","destroyOnClose","rest","draggableRef","bounds","setBounds","dragDisabled","setDragDisabled","FooterComponent","closeModal","modalFooter","_isNil","onClick","cta","buttonStyle","disabled","tooltip","loading","modalWidth","shouldShowMask","onDragStart","_","uiData","_window","_window$document","_draggableRef$current","clientWidth","clientHeight","window","document","documentElement","targetRect","current","getBoundingClientRect","x","y","getResizableConfig","Object","keys","length","ModalTitle","className","onMouseOver","onMouseOut","onOk","onCancel","open","closeIcon","modalRender","modal","onStart","event","ref","mask","__signature__","displayName","assign","error","warning","confirm","useModal","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/Modal/Modal.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  isValidElement,\n  cloneElement,\n  CSSProperties,\n  ReactNode,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { isNil } from 'lodash';\nimport { css, styled, t } from '@superset-ui/core';\nimport {\n  Modal as AntdModal,\n  ModalProps as AntdModalProps,\n  ModalFuncProps,\n} from 'antd-v5';\nimport Button from 'src/components/Button';\nimport { Resizable, ResizableProps } from 're-resizable';\nimport Draggable, {\n  DraggableBounds,\n  DraggableData,\n  DraggableEvent,\n  DraggableProps,\n} from 'react-draggable';\n\nexport interface ModalProps {\n  className?: string;\n  children: ReactNode;\n  disablePrimaryButton?: boolean;\n  primaryTooltipMessage?: ReactNode;\n  primaryButtonLoading?: boolean;\n  onHide: () => void;\n  onHandledPrimaryAction?: () => void;\n  primaryButtonName?: string;\n  primaryButtonType?: 'primary' | 'danger';\n  show: boolean;\n  name?: string;\n  title: ReactNode;\n  width?: string;\n  maxWidth?: string;\n  responsive?: boolean;\n  hideFooter?: boolean;\n  centered?: boolean;\n  footer?: ReactNode;\n  wrapProps?: object;\n  height?: string;\n  closable?: boolean;\n  resizable?: boolean;\n  resizableConfig?: ResizableProps;\n  draggable?: boolean;\n  draggableConfig?: DraggableProps;\n  destroyOnClose?: boolean;\n  maskClosable?: boolean;\n  zIndex?: number;\n  bodyStyle?: CSSProperties;\n}\n\ninterface StyledModalProps {\n  maxWidth?: string;\n  responsive?: boolean;\n  height?: string;\n  hideFooter?: boolean;\n  draggable?: boolean;\n  resizable?: boolean;\n}\n\nexport type { ModalFuncProps };\n\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\n\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\n\nexport const BaseModal = (props: AntdModalProps) => (\n  // Removes mask animation. Fixed in 4.6.0.\n  // https://github.com/ant-design/ant-design/issues/27192\n  <AntdModal {...props} maskTransitionName=\"\" />\n);\n\nexport const StyledModal = styled(BaseModal)<StyledModalProps>`\n  ${({ theme, responsive, maxWidth }) =>\n    responsive &&\n    css`\n      max-width: ${maxWidth ?? '900px'};\n      padding-left: ${theme.gridUnit * 3}px;\n      padding-right: ${theme.gridUnit * 3}px;\n      padding-bottom: 0;\n      top: 0;\n    `}\n\n  .antd5-modal-content {\n    display: flex;\n    flex-direction: column;\n    max-height: ${({ theme }) => `calc(100vh - ${theme.gridUnit * 8}px)`};\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: ${({ theme }) => theme.gridUnit * 4}px;\n    padding: 0;\n  }\n\n  .antd5-modal-header {\n    flex: 0 0 auto;\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding: ${({ theme }) => theme.gridUnit * 4}px\n      ${({ theme }) => theme.gridUnit * 6}px;\n\n    .antd5-modal-title {\n      font-weight: ${({ theme }) => theme.typography.weights.medium};\n    }\n\n    .antd5-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .antd5-modal-close {\n    width: ${({ theme }) => theme.gridUnit * 14}px;\n    height: ${({ theme }) => theme.gridUnit * 14}px;\n    top: 0;\n    right: 0;\n  }\n\n  .antd5-modal-close:hover {\n    background: transparent;\n  }\n\n  .antd5-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .antd5-modal-body {\n    flex: 0 1 auto;\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .antd5-modal-footer {\n    flex: 0 0 1;\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: 0;\n\n    .btn {\n      font-size: 12px;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .antd5-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) =>\n    draggable &&\n    `\n    .antd5-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) =>\n    resizable &&\n    `\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .antd5-modal-content {\n        height: 100%;\n\n        .antd5-modal-body {\n          /* 100% - header height - footer height */\n          height: ${\n            hideFooter\n              ? `calc(100% - ${MODAL_HEADER_HEIGHT}px);`\n              : `calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`\n          }\n        }\n      }\n    }\n  `}\n`;\n\nconst defaultResizableConfig = (hideFooter: boolean | undefined) => ({\n  maxHeight: RESIZABLE_MAX_HEIGHT,\n  maxWidth: RESIZABLE_MAX_WIDTH,\n  minHeight: hideFooter\n    ? RESIZABLE_MIN_HEIGHT\n    : RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n  minWidth: RESIZABLE_MIN_WIDTH,\n  enable: {\n    bottom: true,\n    bottomLeft: false,\n    bottomRight: true,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n    right: true,\n  },\n});\n\nconst CustomModal = ({\n  children,\n  disablePrimaryButton = false,\n  primaryTooltipMessage,\n  primaryButtonLoading = false,\n  onHide,\n  onHandledPrimaryAction,\n  primaryButtonName = t('OK'),\n  primaryButtonType = 'primary',\n  show,\n  name,\n  title,\n  width,\n  maxWidth,\n  responsive = false,\n  centered,\n  footer,\n  hideFooter,\n  wrapProps,\n  draggable = false,\n  resizable = false,\n  resizableConfig = defaultResizableConfig(hideFooter),\n  draggableConfig,\n  destroyOnClose,\n  ...rest\n}: ModalProps) => {\n  const draggableRef = useRef<HTMLDivElement>(null);\n  const [bounds, setBounds] = useState<DraggableBounds>();\n  const [dragDisabled, setDragDisabled] = useState<boolean>(true);\n  let FooterComponent;\n  if (isValidElement(footer)) {\n    // If a footer component is provided inject a closeModal function\n    // so the footer can provide a \"close\" button if desired\n    FooterComponent = cloneElement(footer, {\n      closeModal: onHide,\n    } as Partial<unknown>);\n  }\n  const modalFooter = isNil(FooterComponent)\n    ? [\n        <Button key=\"back\" onClick={onHide} cta data-test=\"modal-cancel-button\">\n          {t('Cancel')}\n        </Button>,\n        <Button\n          key=\"submit\"\n          buttonStyle={primaryButtonType}\n          disabled={disablePrimaryButton}\n          tooltip={primaryTooltipMessage}\n          loading={primaryButtonLoading}\n          onClick={onHandledPrimaryAction}\n          cta\n          data-test=\"modal-confirm-button\"\n        >\n          {primaryButtonName}\n        </Button>,\n      ]\n    : FooterComponent;\n\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n\n  const onDragStart = (_: DraggableEvent, uiData: DraggableData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = draggableRef?.current?.getBoundingClientRect();\n\n    if (targetRect) {\n      setBounds({\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n      });\n    }\n  };\n\n  const getResizableConfig = useMemo(() => {\n    if (Object.keys(resizableConfig).length === 0) {\n      return defaultResizableConfig(hideFooter);\n    }\n    return resizableConfig;\n  }, [hideFooter, resizableConfig]);\n\n  const ModalTitle = () =>\n    draggable ? (\n      <div\n        className=\"draggable-trigger\"\n        onMouseOver={() => dragDisabled && setDragDisabled(false)}\n        onMouseOut={() => !dragDisabled && setDragDisabled(true)}\n      >\n        {title}\n      </div>\n    ) : (\n      <>{title}</>\n    );\n\n  return (\n    <StyledModal\n      centered={!!centered}\n      onOk={onHandledPrimaryAction}\n      onCancel={onHide}\n      width={modalWidth}\n      maxWidth={maxWidth}\n      responsive={responsive}\n      open={show}\n      title={<ModalTitle />}\n      closeIcon={\n        <span className=\"close\" aria-hidden=\"true\">\n          ×\n        </span>\n      }\n      footer={!hideFooter ? modalFooter : null}\n      hideFooter={hideFooter}\n      wrapProps={{ 'data-test': `${name || title}-modal`, ...wrapProps }}\n      modalRender={modal =>\n        resizable || draggable ? (\n          <Draggable\n            disabled={!draggable || dragDisabled}\n            bounds={bounds}\n            onStart={(event, uiData) => onDragStart(event, uiData)}\n            {...draggableConfig}\n          >\n            {resizable ? (\n              <Resizable className=\"resizable\" {...getResizableConfig}>\n                <div className=\"resizable-wrapper\" ref={draggableRef}>\n                  {modal}\n                </div>\n              </Resizable>\n            ) : (\n              <div ref={draggableRef}>{modal}</div>\n            )}\n          </Draggable>\n        ) : (\n          modal\n        )\n      }\n      mask={shouldShowMask}\n      draggable={draggable}\n      resizable={resizable}\n      destroyOnClose={destroyOnClose}\n      {...rest}\n    >\n      {children}\n    </StyledModal>\n  );\n};\nCustomModal.displayName = 'Modal';\n\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: AntdModal.error,\n  warning: AntdModal.warning,\n  confirm: AntdModal.confirm,\n  useModal: AntdModal.useModal,\n});\n\nexport default Modal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}