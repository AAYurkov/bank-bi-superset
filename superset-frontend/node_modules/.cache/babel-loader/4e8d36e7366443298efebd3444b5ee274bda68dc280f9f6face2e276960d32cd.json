{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport { useTheme } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport { getRelatedCharts } from './getRelatedCharts';\nconst unfocusedChartStyles = { opacity: 0.3, pointerEvents: 'none' };\nconst EMPTY = {};\nconst useFilterFocusHighlightStyles = (chartId) => {\n  const theme = useTheme();\n  const focusedChartStyles = useMemo(() => ({\n    borderColor: theme.colors.primary.light2,\n    opacity: 1,\n    boxShadow: `0px 0px ${theme.gridUnit * 2}px ${theme.colors.primary.base}`,\n    pointerEvents: 'auto'\n  }), [theme]);\n  const nativeFilters = useSelector((state) => state.nativeFilters);\n  const slices = useSelector((state) => state.sliceEntities.slices) || {};\n  const highlightedFilterId = (nativeFilters == null ? void 0 : nativeFilters.focusedFilterId) || (nativeFilters == null ? void 0 : nativeFilters.hoveredFilterId);\n  if (!highlightedFilterId) {\n    return EMPTY;\n  }\n  const relatedCharts = getRelatedCharts(highlightedFilterId, nativeFilters.filters[highlightedFilterId], slices);\n  if (highlightedFilterId && relatedCharts.includes(chartId)) {\n    return focusedChartStyles;\n  }\n  // inline styles are used here due to a performance issue when adding/changing a class, which causes a reflow\n  return unfocusedChartStyles;\n};__signature__(useFilterFocusHighlightStyles, \"useTheme{theme}\\nuseMemo{focusedChartStyles}\\nuseSelector{nativeFilters}\\nuseSelector{}\", () => [useTheme, useSelector, useSelector]);const _default =\nuseFilterFocusHighlightStyles;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(unfocusedChartStyles, \"unfocusedChartStyles\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");reactHotLoader.register(EMPTY, \"EMPTY\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");reactHotLoader.register(useFilterFocusHighlightStyles, \"useFilterFocusHighlightStyles\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","useTheme","useSelector","getRelatedCharts","unfocusedChartStyles","opacity","pointerEvents","EMPTY","useFilterFocusHighlightStyles","chartId","theme","focusedChartStyles","borderColor","colors","primary","light2","boxShadow","gridUnit","base","nativeFilters","state","slices","sliceEntities","highlightedFilterId","focusedFilterId","hoveredFilterId","relatedCharts","filters","includes","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport { Filter, useTheme } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\n\nimport { RootState } from 'src/dashboard/types';\nimport { getRelatedCharts } from './getRelatedCharts';\n\nconst unfocusedChartStyles = { opacity: 0.3, pointerEvents: 'none' };\nconst EMPTY = {};\n\nconst useFilterFocusHighlightStyles = (chartId: number) => {\n  const theme = useTheme();\n\n  const focusedChartStyles = useMemo(\n    () => ({\n      borderColor: theme.colors.primary.light2,\n      opacity: 1,\n      boxShadow: `0px 0px ${theme.gridUnit * 2}px ${theme.colors.primary.base}`,\n      pointerEvents: 'auto',\n    }),\n    [theme],\n  );\n\n  const nativeFilters = useSelector((state: RootState) => state.nativeFilters);\n\n  const slices =\n    useSelector((state: RootState) => state.sliceEntities.slices) || {};\n\n  const highlightedFilterId =\n    nativeFilters?.focusedFilterId || nativeFilters?.hoveredFilterId;\n\n  if (!highlightedFilterId) {\n    return EMPTY;\n  }\n\n  const relatedCharts = getRelatedCharts(\n    highlightedFilterId as string,\n    nativeFilters.filters[highlightedFilterId as string] as Filter,\n    slices,\n  );\n\n  if (highlightedFilterId && relatedCharts.includes(chartId)) {\n    return focusedChartStyles;\n  }\n\n  // inline styles are used here due to a performance issue when adding/changing a class, which causes a reflow\n  return unfocusedChartStyles;\n};\n\nexport default useFilterFocusHighlightStyles;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAAiBC,QAAQ,QAAQ,mBAAmB;AACpD,SAASC,WAAW,QAAQ,aAAa;AAGzC,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD,MAAMC,oBAAoB,GAAG,EAAEC,OAAO,EAAE,GAAG,EAAEC,aAAa,EAAE,MAAM,EAAE;AACpE,MAAMC,KAAK,GAAG,EAAE;AAEhB,MAAMC,6BAA6B,GAAGA,CAACC,OAAe,KAAI;EACxD,MAAMC,KAAK,GAAGT,QAAQ,EAAE;EAExB,MAAMU,kBAAkB,GAAGX,OAAO,CAChC,OAAO;IACLY,WAAW,EAAEF,KAAK,CAACG,MAAM,CAACC,OAAO,CAACC,MAAM;IACxCV,OAAO,EAAE,CAAC;IACVW,SAAS,EAAE,WAAWN,KAAK,CAACO,QAAQ,GAAG,CAAC,MAAMP,KAAK,CAACG,MAAM,CAACC,OAAO,CAACI,IAAI,EAAE;IACzEZ,aAAa,EAAE;GAChB,CAAC,EACF,CAACI,KAAK,CAAC,CACR;EAED,MAAMS,aAAa,GAAGjB,WAAW,CAAC,CAACkB,KAAgB,KAAKA,KAAK,CAACD,aAAa,CAAC;EAE5E,MAAME,MAAM,GACVnB,WAAW,CAAC,CAACkB,KAAgB,KAAKA,KAAK,CAACE,aAAa,CAACD,MAAM,CAAC,IAAI,EAAE;EAErE,MAAME,mBAAmB,GACvB,CAAAJ,aAAa,oBAAbA,aAAa,CAAEK,eAAe,MAAIL,aAAa,oBAAbA,aAAa,CAAEM,eAAe;EAElE,IAAI,CAACF,mBAAmB,EAAE;IACxB,OAAOhB,KAAK;;EAGd,MAAMmB,aAAa,GAAGvB,gBAAgB,CACpCoB,mBAA6B,EAC7BJ,aAAa,CAACQ,OAAO,CAACJ,mBAA6B,CAAW,EAC9DF,MAAM,CACP;EAED,IAAIE,mBAAmB,IAAIG,aAAa,CAACE,QAAQ,CAACnB,OAAO,CAAC,EAAE;IAC1D,OAAOE,kBAAkB;;EAG3B;EACA,OAAOP,oBAAoB;AAC7B,CAAC,CAACyB,aAAA,CArCIrB,6BAA6B,oGACnBP,QAAQ,EAYAC,WAAW,EAG/BA,WAAW,SAAA4B,QAAA;AAuBAtB,6BAA6B,CAA5C,eAAAsB,QAAA,CAA6C,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA1CvC/B,oBAAoB,4HAAA2B,cAAA,CAAAI,QAAA,CACpB5B,KAAK,6GAAAwB,cAAA,CAAAI,QAAA,CAEL3B,6BAA6B,qIAAAuB,cAAA,CAAAI,QAAA,CAAAL,QAAA,uIAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}