{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport ModalTrigger from 'src/components/ModalTrigger';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport const ViewResultsModalTrigger = ({ canExplore, exploreUrl, triggerNode, modalTitle, modalBody, modalRef }) => {\n  const history = useHistory();\n  const exploreChart = () => history.push(exploreUrl);\n  const theme = useTheme();\n  const handleCloseModal = useCallback(() => {var _modalRef$current;\n    modalRef == null ? void 0 : (_modalRef$current = modalRef.current) == null ? void 0 : _modalRef$current.close();\n  }, [modalRef]);\n  return _jsx(ModalTrigger, { ref: modalRef, triggerNode: triggerNode, modalTitle: modalTitle, modalBody: modalBody, responsive: true, resizable: true, resizableConfig: {\n      minHeight: theme.gridUnit * 128,\n      minWidth: theme.gridUnit * 128,\n      defaultSize: {\n        width: 'auto',\n        height: '75vh'\n      }\n    }, draggable: true, destroyOnClose: true, modalFooter: _jsxs(_Fragment, { children: [\n      _jsx(Button, { buttonStyle: \"secondary\", buttonSize: \"small\", onClick: exploreChart, disabled: !canExplore, tooltip: !canExplore ?\n        t('You do not have sufficient permissions to edit the chart') :\n        undefined, children:\n        t('Edit chart') }\n      ),\n      _jsx(Button, { buttonStyle: \"primary\", buttonSize: \"small\", onClick: handleCloseModal, css: css`\n              margin-left: ${theme.gridUnit * 2}px;\n            `, children:\n        t('Close') }\n      )] }\n    ) });\n};__signature__(ViewResultsModalTrigger, \"useHistory{history}\\nuseTheme{theme}\\nuseCallback{handleCloseModal}\", () => [useHistory, useTheme]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ViewResultsModalTrigger, \"ViewResultsModalTrigger\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeaderControls/ViewResultsModalTrigger.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useHistory","css","t","useTheme","Button","ModalTrigger","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ViewResultsModalTrigger","canExplore","exploreUrl","triggerNode","modalTitle","modalBody","modalRef","history","exploreChart","push","theme","handleCloseModal","_modalRef$current","current","close","ref","responsive","resizable","resizableConfig","minHeight","gridUnit","minWidth","defaultSize","width","height","draggable","destroyOnClose","modalFooter","children","buttonStyle","buttonSize","onClick","disabled","tooltip","undefined","__signature__","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/components/SliceHeaderControls/ViewResultsModalTrigger.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactChild, RefObject, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport ModalTrigger from 'src/components/ModalTrigger';\n\nexport const ViewResultsModalTrigger = ({\n  canExplore,\n  exploreUrl,\n  triggerNode,\n  modalTitle,\n  modalBody,\n  modalRef,\n}: {\n  canExplore?: boolean;\n  exploreUrl: string;\n  triggerNode: ReactChild;\n  modalTitle: string;\n  modalBody: ReactChild;\n  modalRef?: RefObject<any>;\n}) => {\n  const history = useHistory();\n  const exploreChart = () => history.push(exploreUrl);\n  const theme = useTheme();\n  const handleCloseModal = useCallback(() => {\n    modalRef?.current?.close();\n  }, [modalRef]);\n  return (\n    <ModalTrigger\n      ref={modalRef}\n      triggerNode={triggerNode}\n      modalTitle={modalTitle}\n      modalBody={modalBody}\n      responsive\n      resizable\n      resizableConfig={{\n        minHeight: theme.gridUnit * 128,\n        minWidth: theme.gridUnit * 128,\n        defaultSize: {\n          width: 'auto',\n          height: '75vh',\n        },\n      }}\n      draggable\n      destroyOnClose\n      modalFooter={\n        <>\n          <Button\n            buttonStyle=\"secondary\"\n            buttonSize=\"small\"\n            onClick={exploreChart}\n            disabled={!canExplore}\n            tooltip={\n              !canExplore\n                ? t('You do not have sufficient permissions to edit the chart')\n                : undefined\n            }\n          >\n            {t('Edit chart')}\n          </Button>\n          <Button\n            buttonStyle=\"primary\"\n            buttonSize=\"small\"\n            onClick={handleCloseModal}\n            css={css`\n              margin-left: ${theme.gridUnit * 2}px;\n            `}\n          >\n            {t('Close')}\n          </Button>\n        </>\n      }\n    />\n  );\n};\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAAgCA,WAAW,QAAQ,OAAO;AAC1D,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,GAAG,EAAEC,CAAC,EAAEC,QAAQ,QAAQ,mBAAmB;AACpD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,YAAY,MAAM,6BAA6B,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAEvD,OAAO,MAAMC,uBAAuB,GAAGA,CAAC,EACtCC,UAAU,EACVC,UAAU,EACVC,WAAW,EACXC,UAAU,EACVC,SAAS,EACTC,QAAQ,EAQT,KAAI;EACH,MAAMC,OAAO,GAAGnB,UAAU,EAAE;EAC5B,MAAMoB,YAAY,GAAGA,CAAA,KAAMD,OAAO,CAACE,IAAI,CAACP,UAAU,CAAC;EACnD,MAAMQ,KAAK,GAAGnB,QAAQ,EAAE;EACxB,MAAMoB,gBAAgB,GAAGxB,WAAW,CAAC,MAAK,KAAAyB,iBAAA;IACxCN,QAAQ,qBAAAM,iBAAA,GAARN,QAAQ,CAAEO,OAAO,qBAAjBD,iBAAA,CAAmBE,KAAK,EAAE;EAC5B,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EACd,OACEX,IAAA,CAACF,YAAY,IACXsB,GAAG,EAAET,QAAS,EACdH,WAAW,EAAEA,WAAY,EACzBC,UAAU,EAAEA,UAAW,EACvBC,SAAS,EAAEA,SAAU,EACrBW,UAAU,QACVC,SAAS,QACTC,eAAe,EAAE;MACfC,SAAS,EAAET,KAAK,CAACU,QAAQ,GAAG,GAAG;MAC/BC,QAAQ,EAAEX,KAAK,CAACU,QAAQ,GAAG,GAAG;MAC9BE,WAAW,EAAE;QACXC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE;;KAEV,EACFC,SAAS,QACTC,cAAc,QACdC,WAAW,EACT5B,KAAA,CAAAF,SAAA,IAAA+B,QAAA;MACEjC,IAAA,CAACH,MAAM,IACLqC,WAAW,EAAC,WAAW,EACvBC,UAAU,EAAC,OAAO,EAClBC,OAAO,EAAEvB,YAAa,EACtBwB,QAAQ,EAAE,CAAC/B,UAAW,EACtBgC,OAAO,EACL,CAAChC,UAAU;QACPX,CAAC,CAAC,0DAA0D,CAAC;QAC7D4C,SACL,EAAAN,QAAA;QAEAtC,CAAC,CAAC,YAAY,CAAC;MACV,CACR;MAAAK,IAAA,CAACH,MAAM,IACLqC,WAAW,EAAC,SAAS,EACrBC,UAAU,EAAC,OAAO,EAClBC,OAAO,EAAEpB,gBAAiB,EAC1BtB,GAAG,EAAEA,GAAG;6BACSqB,KAAK,CAACU,QAAQ,GAAG,CAAC;aACjC,EAAAQ,QAAA;QAEDtC,CAAC,CAAC,OAAO,CAAC;MACL,CACV;IAAA,CACD,GACD;AAEN,CAAC,CAAC6C,aAAA,CApEWnC,uBAAuB,gFAelBZ,UAAU,EAEZG,QAAQ,sBAAA6C,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAJ,SAAA,MAAAE,cAAA,WAAAA,cAAA,CAAAG,QAAA,CAjBXvC,uBAAuB,4KAAAwC,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAN,SAAA,CAAAM,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}