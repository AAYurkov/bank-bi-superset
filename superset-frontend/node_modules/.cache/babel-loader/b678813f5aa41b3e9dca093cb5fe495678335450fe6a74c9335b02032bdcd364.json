{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * License); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useRef } from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport AntTable from 'antd/lib/table'; // TODO: Remove antd\nimport { t, useTheme, logging, styled } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\nimport InteractiveTableUtils from './utils/InteractiveTableUtils';\nimport VirtualTable from './VirtualTable';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport const SUPERSET_TABLE_COLUMN = 'superset/table-column';\nexport var SelectionType;\n(function (SelectionType) {\n  SelectionType[\"Disabled\"] = \"disabled\";\n  SelectionType[\"Single\"] = \"single\";\n  SelectionType[\"Multi\"] = \"multi\";\n})(SelectionType || (SelectionType = {}));\nexport var ETableAction;\n(function (ETableAction) {\n  ETableAction[\"Paginate\"] = \"paginate\";\n  ETableAction[\"Sort\"] = \"sort\";\n  ETableAction[\"Filter\"] = \"filter\";\n})(ETableAction || (ETableAction = {}));\nexport var TableSize;\n(function (TableSize) {\n  TableSize[\"Small\"] = \"small\";\n  TableSize[\"Middle\"] = \"middle\";\n})(TableSize || (TableSize = {}));\nconst defaultRowSelection = [];\nconst PAGINATION_HEIGHT = 40;\nconst HEADER_HEIGHT = 68;\nconst StyledTable = styled(AntTable)(({ theme, height }) => `\n    .ant-table-body {\n      overflow: auto;\n      height: ${height ? `${height}px` : undefined};\n    }\n\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-table-tbody > tr > td {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n    }\n\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  `);\nconst StyledVirtualTable = styled(VirtualTable)(({ theme }) => `\n  .virtual-table .ant-table-container:before,\n  .virtual-table .ant-table-container:after {\n    display: none;\n  }\n  .virtual-table-cell {\n    box-sizing: border-box;\n    padding: ${theme.gridUnit * 4}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`);\nconst defaultLocale = {\n  filterTitle: t('Filter menu'),\n  filterConfirm: t('OK'),\n  filterReset: t('Reset'),\n  filterEmptyText: t('No filters'),\n  filterCheckall: t('Select all items'),\n  filterSearchPlaceholder: t('Search in filters'),\n  emptyText: t('No data'),\n  selectAll: t('Select current page'),\n  selectInvert: t('Invert current page'),\n  selectNone: t('Clear all data'),\n  selectionAll: t('Select all data'),\n  sortTitle: t('Sort'),\n  expand: t('Expand row'),\n  collapse: t('Collapse row'),\n  triggerDesc: t('Click to sort descending'),\n  triggerAsc: t('Click to sort ascending'),\n  cancelSort: t('Click to cancel sorting')\n};\nconst selectionMap = {\n  [SelectionType.Multi]: 'checkbox',\n  [SelectionType.Single]: 'radio',\n  [SelectionType.Disabled]: null\n};\nconst noop = () => {};\nexport function Table(props) {\n  const { data, bordered, columns, selectedRows = defaultRowSelection, handleRowSelection, size = TableSize.Small, selectionType = SelectionType.Disabled, sticky = true, loading = false, resizable = false, reorderable = false, usePagination = true, defaultPageSize = 15, pageSizeOptions = ['5', '15', '25', '50', '100'], hideData = false, locale, height, virtualize = false, onChange = noop, recordCount, onRow, allowHTML = false, childrenColumnName } = props;\n  const wrapperRef = useRef(null);\n  const [derivedColumns, setDerivedColumns] = useState(columns);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n  const [mergedLocale, setMergedLocale] = useState({ ...defaultLocale });\n  const [selectedRowKeys, setSelectedRowKeys] = useState(selectedRows);\n  const interactiveTableUtils = useRef(null);\n  const onSelectChange = (newSelectedRowKeys) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n    handleRowSelection == null ? void 0 : handleRowSelection(newSelectedRowKeys);\n  };\n  const selectionTypeValue = selectionMap[selectionType];\n  const rowSelection = {\n    type: selectionMap[selectionType],\n    selectedRowKeys,\n    onChange: onSelectChange\n  };\n  // Log use of experimental features\n  useEffect(() => {\n    if (reorderable === true) {\n      logging.warn('EXPERIMENTAL FEATURE ENABLED: The \"reorderable\" prop of Table is experimental and NOT recommended for use in production deployments.');\n    }\n    if (resizable === true) {\n      logging.warn('EXPERIMENTAL FEATURE ENABLED: The \"resizable\" prop of Table is experimental and NOT recommended for use in production deployments.');\n    }\n  }, [reorderable, resizable]);\n  useEffect(() => {\n    let updatedLocale;\n    if (locale) {\n      // This spread allows for locale to only contain a subset of locale overrides on props\n      updatedLocale = { ...defaultLocale, ...locale };\n    } else\n    {\n      updatedLocale = { ...defaultLocale };\n    }\n    setMergedLocale(updatedLocale);\n  }, [locale]);\n  useEffect(() => setDerivedColumns(columns), [columns]);\n  useEffect(() => {var _wrapperRef$current;\n    if (interactiveTableUtils.current) {var _interactiveTableUtil;\n      (_interactiveTableUtil = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil.clearListeners();\n    }\n    const table = (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.getElementsByTagName('table')[0];\n    if (table) {\n      interactiveTableUtils.current = new InteractiveTableUtils(table, derivedColumns, setDerivedColumns);\n      if (reorderable) {var _interactiveTableUtil2;\n        interactiveTableUtils == null ? void 0 : (_interactiveTableUtil2 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil2.initializeDragDropColumns(reorderable, table);\n      }\n      if (resizable) {var _interactiveTableUtil3;\n        interactiveTableUtils == null ? void 0 : (_interactiveTableUtil3 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil3.initializeResizableColumns(resizable, table);\n      }\n    }\n    return () => {var _interactiveTableUtil4;\n      interactiveTableUtils == null ? void 0 : (_interactiveTableUtil4 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil4.clearListeners == null ? void 0 : _interactiveTableUtil4.clearListeners();\n    };\n    /**\n     * We DO NOT want this effect to trigger when derivedColumns changes as it will break functionality\n     * The exclusion from the effect dependencies is intentional and should not be modified\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [wrapperRef, reorderable, resizable, virtualize, interactiveTableUtils]);\n  const theme = useTheme();\n  const paginationSettings = usePagination ?\n  {\n    hideOnSinglePage: true,\n    pageSize,\n    pageSizeOptions,\n    onShowSizeChange: (page, size) => setPageSize(size)\n  } :\n  false;\n  /**\n   * When recordCount is provided it lets the user of Table control total number of pages\n   * independent from data.length.  This allows the parent component do things like server side paging\n   * where the user can be shown the total mount of data they can page through, but the component can provide\n   * data one page at a time, and respond to the onPageChange event to fetch and set new data\n   */\n  if (paginationSettings && recordCount) {\n    paginationSettings.total = recordCount;\n  }\n  let bodyHeight = height;\n  if (bodyHeight) {\n    bodyHeight -= HEADER_HEIGHT;\n    const hasPagination = usePagination && recordCount && recordCount > pageSize;\n    if (hasPagination) {\n      bodyHeight -= PAGINATION_HEIGHT;\n    }\n  }\n  const sharedProps = {\n    loading: { spinning: loading != null ? loading : false, indicator: _jsx(Loading, {}) },\n    hasData: hideData ? false : data,\n    columns: derivedColumns,\n    dataSource: hideData ? undefined : data,\n    size,\n    pagination: paginationSettings,\n    locale: mergedLocale,\n    showSorterTooltip: false,\n    onChange,\n    onRow,\n    theme,\n    height: bodyHeight,\n    bordered,\n    expandable: {\n      childrenColumnName\n    }\n  };\n  return _jsxs(\"div\", { ref: wrapperRef, children: [\n    !virtualize && _jsx(StyledTable, { ...sharedProps, rowSelection: selectionTypeValue !== null ? rowSelection : undefined, sticky: sticky }),\n    virtualize && _jsx(StyledVirtualTable, { ...sharedProps, scroll: {\n        y: 300,\n        x: '100vw',\n        // To avoid jest failure by scrollTo\n        ...(process.env.WEBPACK_MODE === 'test' && {\n          scrollToFirstRowOnChange: false\n        })\n      }, allowHTML: allowHTML })] }\n  );\n}__signature__(Table, \"useRef{wrapperRef}\\nuseState{[derivedColumns, setDerivedColumns](columns)}\\nuseState{[pageSize, setPageSize](defaultPageSize)}\\nuseState{[mergedLocale, setMergedLocale]({ ...defaultLocale })}\\nuseState{[selectedRowKeys, setSelectedRowKeys](selectedRows)}\\nuseRef{interactiveTableUtils}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseTheme{theme}\", () => [useTheme]);const _default =\nTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SUPERSET_TABLE_COLUMN, \"SUPERSET_TABLE_COLUMN\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(SelectionType, \"SelectionType\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(ETableAction, \"ETableAction\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(TableSize, \"TableSize\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(defaultRowSelection, \"defaultRowSelection\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(PAGINATION_HEIGHT, \"PAGINATION_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(HEADER_HEIGHT, \"HEADER_HEIGHT\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(StyledTable, \"StyledTable\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(StyledVirtualTable, \"StyledVirtualTable\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(defaultLocale, \"defaultLocale\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(selectionMap, \"selectionMap\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(noop, \"noop\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(Table, \"Table\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","useEffect","useRef","AntTable","t","useTheme","logging","styled","Loading","InteractiveTableUtils","VirtualTable","jsx","_jsx","jsxs","_jsxs","SUPERSET_TABLE_COLUMN","SelectionType","ETableAction","TableSize","defaultRowSelection","PAGINATION_HEIGHT","HEADER_HEIGHT","StyledTable","theme","height","undefined","typography","weights","bold","colors","grayscale","dark1","light3","primary","base","sizes","s","StyledVirtualTable","gridUnit","defaultLocale","filterTitle","filterConfirm","filterReset","filterEmptyText","filterCheckall","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","selectionMap","Multi","Single","Disabled","noop","Table","props","data","bordered","columns","selectedRows","handleRowSelection","size","Small","selectionType","sticky","loading","resizable","reorderable","usePagination","defaultPageSize","pageSizeOptions","hideData","locale","virtualize","onChange","recordCount","onRow","allowHTML","childrenColumnName","wrapperRef","derivedColumns","setDerivedColumns","pageSize","setPageSize","mergedLocale","setMergedLocale","selectedRowKeys","setSelectedRowKeys","interactiveTableUtils","onSelectChange","newSelectedRowKeys","selectionTypeValue","rowSelection","type","warn","updatedLocale","_wrapperRef$current","current","_interactiveTableUtil","clearListeners","table","getElementsByTagName","_interactiveTableUtil2","initializeDragDropColumns","_interactiveTableUtil3","initializeResizableColumns","_interactiveTableUtil4","paginationSettings","hideOnSinglePage","onShowSizeChange","page","total","bodyHeight","hasPagination","sharedProps","spinning","indicator","hasData","dataSource","pagination","showSorterTooltip","expandable","ref","children","scroll","y","x","process","env","WEBPACK_MODE","scrollToFirstRowOnChange","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/Table/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * License); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useRef, Key } from 'react';\n\n// eslint-disable-next-line no-restricted-imports\nimport AntTable, {\n  ColumnsType,\n  TableProps as AntTableProps,\n} from 'antd/lib/table'; // TODO: Remove antd\n// eslint-disable-next-line no-restricted-imports\nimport { PaginationProps } from 'antd/lib/pagination'; // TODO: Remove antd\nimport { t, useTheme, logging, styled } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\n// eslint-disable-next-line no-restricted-imports\nimport { RowSelectionType } from 'antd/lib/table/interface'; // TODO: Remove antd\nimport InteractiveTableUtils from './utils/InteractiveTableUtils';\nimport VirtualTable from './VirtualTable';\n\nexport const SUPERSET_TABLE_COLUMN = 'superset/table-column';\n\nexport enum SelectionType {\n  Disabled = 'disabled',\n  Single = 'single',\n  Multi = 'multi',\n}\n\nexport type SortOrder = 'descend' | 'ascend' | null;\n\nexport enum ETableAction {\n  Paginate = 'paginate',\n  Sort = 'sort',\n  Filter = 'filter',\n}\n\nexport type { ColumnsType };\nexport type OnChangeFunction<RecordType> =\n  AntTableProps<RecordType>['onChange'];\n\nexport enum TableSize {\n  Small = 'small',\n  Middle = 'middle',\n}\n\nexport interface TableProps<RecordType> {\n  /**\n   * Data that will populate the each row and map to the column key.\n   */\n  data: RecordType[];\n  /**\n   * Whether to show all table borders\n   */\n  bordered?: boolean;\n  /**\n   * Table column definitions.\n   */\n  columns: ColumnsType<RecordType>;\n  /**\n   * Array of row keys to represent list of selected rows.\n   */\n  selectedRows?: Key[];\n  /**\n   * Callback function invoked when a row is selected by user.\n   */\n  handleRowSelection?: (newSelectedRowKeys: Key[]) => void;\n  /**\n   * Controls the size of the table.\n   */\n  size: TableSize;\n  /**\n   * Controls if table rows are selectable and if multiple select is supported.\n   */\n  selectionType?: SelectionType;\n  /*\n   * Places table in visual loading state.  Use while waiting to retrieve data or perform an async operation that will update the table.\n   */\n  loading?: boolean;\n  /**\n   * Uses a sticky header which always displays when vertically scrolling the table.  Default: true\n   */\n  sticky?: boolean;\n  /**\n   * Controls if columns are resizable by user.\n   */\n  resizable?: boolean;\n  /**\n   * EXPERIMENTAL: Controls if columns are re-orderable by user drag drop.\n   */\n  reorderable?: boolean;\n  /**\n   * Controls if pagination is active or disabled.\n   */\n  usePagination?: boolean;\n  /**\n   * Default number of rows table will display per page of data.\n   */\n  defaultPageSize?: number;\n  /**\n   * Array of numeric options for the number of rows table will display per page of data.\n   * The user can select from these options in the page size drop down menu.\n   */\n  pageSizeOptions?: string[];\n  /**\n   * Set table to display no data even if data has been provided\n   */\n  hideData?: boolean;\n  /**\n   * Enables setting the text displayed in various components and tooltips within the Table UI.\n   */\n  locale?: Partial<AntTableProps<RecordType>['locale']>;\n  /**\n   * Restricts the visible height of the table and allows for internal scrolling within the table\n   * when the number of rows exceeds the visible space.\n   */\n  height?: number;\n  /**\n   * Sets the table to use react-window for scroll virtualization in cases where\n   * there are unknown amount of columns, or many, many rows\n   */\n  virtualize?: boolean;\n  /**\n   * Used to override page controls total record count when using server-side paging.\n   */\n  recordCount?: number;\n  /**\n   * Invoked when the tables sorting, paging, or filtering is changed.\n   */\n  onChange?: OnChangeFunction<RecordType>;\n  /**\n   * Returns props that should be applied to each row component.\n   */\n  onRow?: AntTableProps<RecordType>['onRow'];\n  /**\n   * Will render html safely if set to true, anchor tags and such. Currently\n   * only supported for virtualize == true\n   */\n  allowHTML?: boolean;\n\n  /**\n   * The column that contains children to display.\n   * Check https://ant.design/components/table#table for more details.\n   */\n  childrenColumnName?: string;\n}\n\nconst defaultRowSelection: Key[] = [];\n\nconst PAGINATION_HEIGHT = 40;\nconst HEADER_HEIGHT = 68;\n\nconst StyledTable = styled(AntTable)<{ height?: number }>(\n  ({ theme, height }) => `\n    .ant-table-body {\n      overflow: auto;\n      height: ${height ? `${height}px` : undefined};\n    }\n\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-table-tbody > tr > td {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n    }\n\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  `,\n);\nconst StyledVirtualTable = styled(VirtualTable)(\n  ({ theme }) => `\n  .virtual-table .ant-table-container:before,\n  .virtual-table .ant-table-container:after {\n    display: none;\n  }\n  .virtual-table-cell {\n    box-sizing: border-box;\n    padding: ${theme.gridUnit * 4}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`,\n);\n\nconst defaultLocale = {\n  filterTitle: t('Filter menu'),\n  filterConfirm: t('OK'),\n  filterReset: t('Reset'),\n  filterEmptyText: t('No filters'),\n  filterCheckall: t('Select all items'),\n  filterSearchPlaceholder: t('Search in filters'),\n  emptyText: t('No data'),\n  selectAll: t('Select current page'),\n  selectInvert: t('Invert current page'),\n  selectNone: t('Clear all data'),\n  selectionAll: t('Select all data'),\n  sortTitle: t('Sort'),\n  expand: t('Expand row'),\n  collapse: t('Collapse row'),\n  triggerDesc: t('Click to sort descending'),\n  triggerAsc: t('Click to sort ascending'),\n  cancelSort: t('Click to cancel sorting'),\n};\n\nconst selectionMap = {\n  [SelectionType.Multi]: 'checkbox',\n  [SelectionType.Single]: 'radio',\n  [SelectionType.Disabled]: null,\n};\nconst noop = () => {};\n\nexport function Table<RecordType extends object>(\n  props: TableProps<RecordType>,\n) {\n  const {\n    data,\n    bordered,\n    columns,\n    selectedRows = defaultRowSelection,\n    handleRowSelection,\n    size = TableSize.Small,\n    selectionType = SelectionType.Disabled,\n    sticky = true,\n    loading = false,\n    resizable = false,\n    reorderable = false,\n    usePagination = true,\n    defaultPageSize = 15,\n    pageSizeOptions = ['5', '15', '25', '50', '100'],\n    hideData = false,\n    locale,\n    height,\n    virtualize = false,\n    onChange = noop,\n    recordCount,\n    onRow,\n    allowHTML = false,\n    childrenColumnName,\n  } = props;\n\n  const wrapperRef = useRef<HTMLDivElement | null>(null);\n  const [derivedColumns, setDerivedColumns] = useState(columns);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n  const [mergedLocale, setMergedLocale] = useState<\n    Required<AntTableProps<RecordType>>['locale']\n  >({ ...defaultLocale });\n  const [selectedRowKeys, setSelectedRowKeys] = useState<Key[]>(selectedRows);\n  const interactiveTableUtils = useRef<InteractiveTableUtils | null>(null);\n\n  const onSelectChange = (newSelectedRowKeys: Key[]) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n    handleRowSelection?.(newSelectedRowKeys);\n  };\n\n  const selectionTypeValue = selectionMap[selectionType];\n  const rowSelection = {\n    type: selectionMap[selectionType] as RowSelectionType,\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  // Log use of experimental features\n  useEffect(() => {\n    if (reorderable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"reorderable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n    if (resizable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"resizable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n  }, [reorderable, resizable]);\n\n  useEffect(() => {\n    let updatedLocale;\n    if (locale) {\n      // This spread allows for locale to only contain a subset of locale overrides on props\n      updatedLocale = { ...defaultLocale, ...locale };\n    } else {\n      updatedLocale = { ...defaultLocale };\n    }\n    setMergedLocale(updatedLocale);\n  }, [locale]);\n\n  useEffect(() => setDerivedColumns(columns), [columns]);\n\n  useEffect(() => {\n    if (interactiveTableUtils.current) {\n      interactiveTableUtils.current?.clearListeners();\n    }\n    const table = wrapperRef.current?.getElementsByTagName('table')[0];\n    if (table) {\n      interactiveTableUtils.current = new InteractiveTableUtils(\n        table,\n        derivedColumns,\n        setDerivedColumns,\n      );\n      if (reorderable) {\n        interactiveTableUtils?.current?.initializeDragDropColumns(\n          reorderable,\n          table,\n        );\n      }\n      if (resizable) {\n        interactiveTableUtils?.current?.initializeResizableColumns(\n          resizable,\n          table,\n        );\n      }\n    }\n    return () => {\n      interactiveTableUtils?.current?.clearListeners?.();\n    };\n    /**\n     * We DO NOT want this effect to trigger when derivedColumns changes as it will break functionality\n     * The exclusion from the effect dependencies is intentional and should not be modified\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [wrapperRef, reorderable, resizable, virtualize, interactiveTableUtils]);\n\n  const theme = useTheme();\n\n  const paginationSettings: PaginationProps | false = usePagination\n    ? {\n        hideOnSinglePage: true,\n        pageSize,\n        pageSizeOptions,\n        onShowSizeChange: (page: number, size: number) => setPageSize(size),\n      }\n    : false;\n\n  /**\n   * When recordCount is provided it lets the user of Table control total number of pages\n   * independent from data.length.  This allows the parent component do things like server side paging\n   * where the user can be shown the total mount of data they can page through, but the component can provide\n   * data one page at a time, and respond to the onPageChange event to fetch and set new data\n   */\n  if (paginationSettings && recordCount) {\n    paginationSettings.total = recordCount;\n  }\n\n  let bodyHeight = height;\n  if (bodyHeight) {\n    bodyHeight -= HEADER_HEIGHT;\n    const hasPagination =\n      usePagination && recordCount && recordCount > pageSize;\n    if (hasPagination) {\n      bodyHeight -= PAGINATION_HEIGHT;\n    }\n  }\n\n  const sharedProps = {\n    loading: { spinning: loading ?? false, indicator: <Loading /> },\n    hasData: hideData ? false : data,\n    columns: derivedColumns,\n    dataSource: hideData ? undefined : data,\n    size,\n    pagination: paginationSettings,\n    locale: mergedLocale,\n    showSorterTooltip: false,\n    onChange,\n    onRow,\n    theme,\n    height: bodyHeight,\n    bordered,\n    expandable: {\n      childrenColumnName,\n    },\n  };\n\n  return (\n    <div ref={wrapperRef}>\n      {!virtualize && (\n        <StyledTable\n          {...sharedProps}\n          rowSelection={selectionTypeValue !== null ? rowSelection : undefined}\n          sticky={sticky}\n        />\n      )}\n      {virtualize && (\n        <StyledVirtualTable\n          {...sharedProps}\n          scroll={{\n            y: 300,\n            x: '100vw',\n            // To avoid jest failure by scrollTo\n            ...(process.env.WEBPACK_MODE === 'test' && {\n              scrollToFirstRowOnChange: false,\n            }),\n          }}\n          allowHTML={allowHTML}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Table;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}