{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { styled, t, css } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { detectOS } from 'src/utils/common';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst userOS = detectOS();\nexport var KeyboardShortcut;\n(function (KeyboardShortcut) {\n  KeyboardShortcut[\"CtrlR\"] = \"ctrl+r\";\n  KeyboardShortcut[\"CtrlEnter\"] = \"ctrl+enter\";\n  KeyboardShortcut[\"CtrlShiftEnter\"] = \"ctrl+shift+enter\";\n  KeyboardShortcut[\"CtrlP\"] = \"ctrl+p\";\n  KeyboardShortcut[\"CtrlQ\"] = \"ctrl+q\";\n  KeyboardShortcut[\"CtrlE\"] = \"ctrl+e\";\n  KeyboardShortcut[\"CtrlT\"] = \"ctrl+t\";\n  KeyboardShortcut[\"CtrlX\"] = \"ctrl+x\";\n  KeyboardShortcut[\"AltEnter\"] = \"alt+enter\";\n  KeyboardShortcut[\"CmdF\"] = \"cmd+f\";\n  KeyboardShortcut[\"CmdOptF\"] = \"cmd+opt+f\";\n  KeyboardShortcut[\"CtrlF\"] = \"ctrl+f\";\n  KeyboardShortcut[\"CtrlH\"] = \"ctrl+h\";\n  KeyboardShortcut[\"CtrlShiftF\"] = \"ctrl+shift+f\";\n  KeyboardShortcut[\"CtrlLeft\"] = \"ctrl+[\";\n  KeyboardShortcut[\"CtrlRight\"] = \"ctrl+]\";\n})(KeyboardShortcut || (KeyboardShortcut = {}));\nexport const KEY_MAP = {\n  [KeyboardShortcut.CtrlR]: t('Run query'),\n  [KeyboardShortcut.CtrlEnter]: t('Run query'),\n  [KeyboardShortcut.AltEnter]: t('Run query'),\n  [KeyboardShortcut.CtrlShiftEnter]: t('Run current query'),\n  [KeyboardShortcut.CtrlX]: userOS === 'MacOS' ? t('Stop query') : undefined,\n  [KeyboardShortcut.CtrlE]: userOS !== 'MacOS' ? t('Stop query') : undefined,\n  [KeyboardShortcut.CtrlQ]: userOS === 'Windows' ? t('New tab') : undefined,\n  [KeyboardShortcut.CtrlT]: userOS !== 'Windows' ? t('New tab') : undefined,\n  [KeyboardShortcut.CtrlP]: t('Previous Line'),\n  [KeyboardShortcut.CtrlShiftF]: t('Format SQL'),\n  [KeyboardShortcut.CtrlLeft]: t('Switch to the previous tab'),\n  [KeyboardShortcut.CtrlRight]: t('Switch to the next tab'),\n  // default ace editor shortcuts\n  [KeyboardShortcut.CmdF]: userOS === 'MacOS' ? t('Find') : undefined,\n  [KeyboardShortcut.CtrlF]: userOS !== 'MacOS' ? t('Find') : undefined,\n  [KeyboardShortcut.CmdOptF]: userOS === 'MacOS' ? t('Replace') : undefined,\n  [KeyboardShortcut.CtrlH]: userOS !== 'MacOS' ? t('Replace') : undefined\n};\nconst KeyMapByCommand = Object.entries(KEY_MAP).reduce((acc, [shortcut, command]) => {\n  if (command) {\n    acc[command] = [...(acc[command] || []), shortcut];\n  }\n  return acc;\n}, {});\nconst ShortcutDescription = styled.span`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  color: ${({ theme }) => theme.colors.text.help};\n  padding-left: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst ShortcutWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${({ theme }) => theme.gridUnit}px;\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst ShortcutCode = styled.code`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  border-radius: ${({ theme }) => theme.borderRadius}px;\n  padding: ${({ theme }) => `${theme.gridUnit}px ${theme.gridUnit * 2}px`};\n`;\nconst KeyboardShortcutButton = ({ children }) => _jsx(ModalTrigger, { modalTitle: t('Keyboard shortcuts'), modalBody: _jsx(\"div\", { children:\n    Object.entries(KeyMapByCommand).map(([description, shortcuts]) => _jsxs(\"div\", { css: css`\n              display: table-row;\n            `, children: [\n      _jsx(\"div\", { css: css`\n                display: table-cell;\n                max-width: 200px;\n                vertical-align: middle;\n              `, children:\n        _jsx(ShortcutDescription, { children: description }) }\n      ),\n      _jsx(\"div\", { css: css`\n                display: table-cell;\n              `, children:\n        _jsx(ShortcutWrapper, { children:\n          shortcuts.map((shortcut) => _jsx(ShortcutCode, { children: shortcut }, shortcut)) }\n        ) }\n      )] }, description\n    )) }\n  ), triggerNode: children });const _default =\nKeyboardShortcutButton;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(userOS, \"userOS\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(KeyboardShortcut, \"KeyboardShortcut\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(KEY_MAP, \"KEY_MAP\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(KeyMapByCommand, \"KeyMapByCommand\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(ShortcutDescription, \"ShortcutDescription\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(ShortcutWrapper, \"ShortcutWrapper\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(ShortcutCode, \"ShortcutCode\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(KeyboardShortcutButton, \"KeyboardShortcutButton\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["styled","t","css","ModalTrigger","detectOS","jsx","_jsx","jsxs","_jsxs","userOS","KeyboardShortcut","KEY_MAP","CtrlR","CtrlEnter","AltEnter","CtrlShiftEnter","CtrlX","undefined","CtrlE","CtrlQ","CtrlT","CtrlP","CtrlShiftF","CtrlLeft","CtrlRight","CmdF","CtrlF","CmdOptF","CtrlH","KeyMapByCommand","Object","entries","reduce","acc","shortcut","command","ShortcutDescription","span","theme","typography","sizes","m","colors","text","help","gridUnit","ShortcutWrapper","div","ShortcutCode","code","s","grayscale","dark1","borderRadius","KeyboardShortcutButton","children","modalTitle","modalBody","map","description","shortcuts","triggerNode","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/KeyboardShortcutButton/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { FC } from 'react';\nimport { styled, t, css } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { detectOS } from 'src/utils/common';\n\nconst userOS = detectOS();\n\nexport enum KeyboardShortcut {\n  CtrlR = 'ctrl+r',\n  CtrlEnter = 'ctrl+enter',\n  CtrlShiftEnter = 'ctrl+shift+enter',\n  CtrlP = 'ctrl+p',\n  CtrlQ = 'ctrl+q',\n  CtrlE = 'ctrl+e',\n  CtrlT = 'ctrl+t',\n  CtrlX = 'ctrl+x',\n  AltEnter = 'alt+enter',\n  CmdF = 'cmd+f',\n  CmdOptF = 'cmd+opt+f',\n  CtrlF = 'ctrl+f',\n  CtrlH = 'ctrl+h',\n  CtrlShiftF = 'ctrl+shift+f',\n  CtrlLeft = 'ctrl+[',\n  CtrlRight = 'ctrl+]',\n}\n\nexport const KEY_MAP: Record<KeyboardShortcut, string | undefined> = {\n  [KeyboardShortcut.CtrlR]: t('Run query'),\n  [KeyboardShortcut.CtrlEnter]: t('Run query'),\n  [KeyboardShortcut.AltEnter]: t('Run query'),\n  [KeyboardShortcut.CtrlShiftEnter]: t('Run current query'),\n  [KeyboardShortcut.CtrlX]: userOS === 'MacOS' ? t('Stop query') : undefined,\n  [KeyboardShortcut.CtrlE]: userOS !== 'MacOS' ? t('Stop query') : undefined,\n  [KeyboardShortcut.CtrlQ]: userOS === 'Windows' ? t('New tab') : undefined,\n  [KeyboardShortcut.CtrlT]: userOS !== 'Windows' ? t('New tab') : undefined,\n  [KeyboardShortcut.CtrlP]: t('Previous Line'),\n  [KeyboardShortcut.CtrlShiftF]: t('Format SQL'),\n  [KeyboardShortcut.CtrlLeft]: t('Switch to the previous tab'),\n  [KeyboardShortcut.CtrlRight]: t('Switch to the next tab'),\n  // default ace editor shortcuts\n  [KeyboardShortcut.CmdF]: userOS === 'MacOS' ? t('Find') : undefined,\n  [KeyboardShortcut.CtrlF]: userOS !== 'MacOS' ? t('Find') : undefined,\n  [KeyboardShortcut.CmdOptF]: userOS === 'MacOS' ? t('Replace') : undefined,\n  [KeyboardShortcut.CtrlH]: userOS !== 'MacOS' ? t('Replace') : undefined,\n};\n\nconst KeyMapByCommand = Object.entries(KEY_MAP).reduce<\n  Record<string, string[]>\n>((acc, [shortcut, command]) => {\n  if (command) {\n    acc[command] = [...(acc[command] || []), shortcut];\n  }\n  return acc;\n}, {});\n\nconst ShortcutDescription = styled.span`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  color: ${({ theme }) => theme.colors.text.help};\n  padding-left: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nconst ShortcutWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${({ theme }) => theme.gridUnit}px;\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nconst ShortcutCode = styled.code`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  border-radius: ${({ theme }) => theme.borderRadius}px;\n  padding: ${({ theme }) => `${theme.gridUnit}px ${theme.gridUnit * 2}px`};\n`;\n\nconst KeyboardShortcutButton: FC<{}> = ({ children }) => (\n  <ModalTrigger\n    modalTitle={t('Keyboard shortcuts')}\n    modalBody={\n      <div>\n        {Object.entries(KeyMapByCommand).map(([description, shortcuts]) => (\n          <div\n            key={description}\n            css={css`\n              display: table-row;\n            `}\n          >\n            <div\n              css={css`\n                display: table-cell;\n                max-width: 200px;\n                vertical-align: middle;\n              `}\n            >\n              <ShortcutDescription>{description}</ShortcutDescription>\n            </div>\n            <div\n              css={css`\n                display: table-cell;\n              `}\n            >\n              <ShortcutWrapper>\n                {shortcuts.map(shortcut => (\n                  <ShortcutCode key={shortcut}>{shortcut}</ShortcutCode>\n                ))}\n              </ShortcutWrapper>\n            </div>\n          </div>\n        ))}\n      </div>\n    }\n    triggerNode={children}\n  />\n);\n\nexport default KeyboardShortcutButton;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}