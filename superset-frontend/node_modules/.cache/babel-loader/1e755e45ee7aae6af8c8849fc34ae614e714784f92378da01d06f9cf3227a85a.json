{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getChartTransformPropsRegistry } from '@superset-ui/core';\nimport { getChartConfigs, parseSelectedChart } from '../util/transformPropsUtil';\nexport default function transformProps(chartProps) {\n  const { width, height, formData, hooks, theme } = chartProps;\n  const { geomColumn, selectedChart: selectedChartString, chartSize, layerConfigs, mapView, chartBackgroundColor, chartBackgroundBorderRadius } = formData;\n  const { setControlValue = () => {} } = hooks;\n  const selectedChart = parseSelectedChart(selectedChartString);\n  const transformPropsRegistry = getChartTransformPropsRegistry();\n  const chartTransformer = transformPropsRegistry.get(selectedChart.viz_type);\n  const chartConfigs = getChartConfigs(selectedChart, geomColumn, chartProps, chartTransformer);\n  return {\n    width,\n    height,\n    geomColumn,\n    selectedChart,\n    chartConfigs,\n    chartVizType: selectedChart.viz_type,\n    chartSize,\n    layerConfigs,\n    mapView,\n    chartBackgroundColor,\n    chartBackgroundBorderRadius,\n    setControlValue,\n    theme\n  };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(transformProps, \"transformProps\", \"/Users/aryurkov/superset/superset-frontend/plugins/plugin-chart-cartodiagram/src/plugin/transformProps.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["getChartTransformPropsRegistry","getChartConfigs","parseSelectedChart","transformProps","chartProps","width","height","formData","hooks","theme","geomColumn","selectedChart","selectedChartString","chartSize","layerConfigs","mapView","chartBackgroundColor","chartBackgroundBorderRadius","setControlValue","transformPropsRegistry","chartTransformer","get","viz_type","chartConfigs","chartVizType","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/plugins/plugin-chart-cartodiagram/src/plugin/transformProps.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ChartProps, getChartTransformPropsRegistry } from '@superset-ui/core';\nimport {\n  getChartConfigs,\n  parseSelectedChart,\n} from '../util/transformPropsUtil';\n\nexport default function transformProps(chartProps: ChartProps) {\n  const { width, height, formData, hooks, theme } = chartProps;\n  const {\n    geomColumn,\n    selectedChart: selectedChartString,\n    chartSize,\n    layerConfigs,\n    mapView,\n    chartBackgroundColor,\n    chartBackgroundBorderRadius,\n  } = formData;\n  const { setControlValue = () => {} } = hooks;\n  const selectedChart = parseSelectedChart(selectedChartString);\n  const transformPropsRegistry = getChartTransformPropsRegistry();\n  const chartTransformer = transformPropsRegistry.get(selectedChart.viz_type);\n\n  const chartConfigs = getChartConfigs(\n    selectedChart,\n    geomColumn,\n    chartProps,\n    chartTransformer,\n  );\n\n  return {\n    width,\n    height,\n    geomColumn,\n    selectedChart,\n    chartConfigs,\n    chartVizType: selectedChart.viz_type,\n    chartSize,\n    layerConfigs,\n    mapView,\n    chartBackgroundColor,\n    chartBackgroundBorderRadius,\n    setControlValue,\n    theme,\n  };\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAAqBA,8BAA8B,QAAQ,mBAAmB;AAC9E,SACEC,eAAe,EACfC,kBAAkB,QACb,4BAA4B;AAEnC,eAAc,SAAUC,cAAcA,CAACC,UAAsB;EAC3D,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,KAAK,EAAE,GAAGL,UAAU;EAC5D,MAAM,EACJM,UAAU,EACVC,aAAa,EAAEC,mBAAmB,EAClCC,SAAS,EACTC,YAAY,EACZC,OAAO,EACPC,oBAAoB,EACpBC,2BAA2B,EAC5B,GAAGV,QAAQ;EACZ,MAAM,EAAEW,eAAe,GAAGA,CAAA,KAAK,CAAE,CAAC,EAAE,GAAGV,KAAK;EAC5C,MAAMG,aAAa,GAAGT,kBAAkB,CAACU,mBAAmB,CAAC;EAC7D,MAAMO,sBAAsB,GAAGnB,8BAA8B,EAAE;EAC/D,MAAMoB,gBAAgB,GAAGD,sBAAsB,CAACE,GAAG,CAACV,aAAa,CAACW,QAAQ,CAAC;EAE3E,MAAMC,YAAY,GAAGtB,eAAe,CAClCU,aAAa,EACbD,UAAU,EACVN,UAAU,EACVgB,gBAAgB,CACjB;EAED,OAAO;IACLf,KAAK;IACLC,MAAM;IACNI,UAAU;IACVC,aAAa;IACbY,YAAY;IACZC,YAAY,EAAEb,aAAa,CAACW,QAAQ;IACpCT,SAAS;IACTC,YAAY;IACZC,OAAO;IACPC,oBAAoB;IACpBC,2BAA2B;IAC3BC,eAAe;IACfT;GACD;AACH,CAAC,mBAAAgB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAtCuB1B,cAAc,yJAAA2B,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}