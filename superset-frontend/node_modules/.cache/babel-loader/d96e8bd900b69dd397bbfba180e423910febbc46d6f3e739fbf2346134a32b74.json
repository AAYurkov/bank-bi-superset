{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState } from 'react';\nimport rison from 'rison';\nimport { t, SupersetClient, useTheme, css } from '@superset-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport { createFetchRelated, createErrorHandler } from 'src/views/CRUD/utils';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport SubMenu from 'src/features/home/SubMenu';\nimport ActionsBar from 'src/components/ListView/ActionsBar';\nimport ListView, { FilterOperator } from 'src/components/ListView';\nimport DeleteModal from 'src/components/DeleteModal';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport AnnotationLayerModal from 'src/features/annotationLayers/AnnotationLayerModal';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\nimport { QueryObjectColumns } from 'src/views/CRUD/types';\nimport { Icons } from 'src/components/Icons';\nimport { navigateTo } from 'src/utils/navigationUtils';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst PAGE_SIZE = 25;\nfunction AnnotationLayersList({ addDangerToast, addSuccessToast, user }) {\n  const theme = useTheme();\n  const { state: { loading, resourceCount: layersCount, resourceCollection: layers, bulkSelectEnabled }, hasPerm, fetchData, refreshData, toggleBulkSelect } = useListViewResource('annotation_layer', t('Annotation layers'), addDangerToast);\n  const [annotationLayerModalOpen, setAnnotationLayerModalOpen] = useState(false);\n  const [currentAnnotationLayer, setCurrentAnnotationLayer] = useState(null);\n  const [layerCurrentlyDeleting, setLayerCurrentlyDeleting] = useState(null);\n  const handleLayerDelete = ({ id, name }) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${id}`\n    }).then(() => {\n      refreshData();\n      setLayerCurrentlyDeleting(null);\n      addSuccessToast(t('Deleted: %s', name));\n    }, createErrorHandler((errMsg) => addDangerToast(t('There was an issue deleting %s: %s', name, errMsg))));\n  };\n  const handleBulkLayerDelete = (layersToDelete) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/?q=${rison.encode(layersToDelete.map(({ id }) => id))}`\n    }).then(({ json = {} }) => {\n      refreshData();\n      addSuccessToast(json.message);\n    }, createErrorHandler((errMsg) => addDangerToast(t('There was an issue deleting the selected layers: %s', errMsg))));\n  };\n  const canCreate = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n  const canDelete = hasPerm('can_write');\n  function handleAnnotationLayerEdit(layer) {\n    setCurrentAnnotationLayer(layer);\n    setAnnotationLayerModalOpen(true);\n  }\n  const initialSort = [{ id: 'name', desc: true }];\n  const columns = useMemo(() => [\n  {\n    accessor: 'name',\n    Header: t('Name'),\n    Cell: __signature__(({ row: { original: { id, name } } }) => {\n      let hasHistory = true;\n      try {\n        useHistory();\n      }\n      catch (err) {\n        // If error is thrown, we know not to use <Link> in render\n        hasHistory = false;\n      }\n      if (hasHistory) {\n        return _jsx(Link, { to: `/annotationlayer/${id}/annotation`, children: name });\n      }\n      return _jsx(\"a\", { href: `/annotationlayer/${id}/annotation`, children: name });\n    }, \"useHistory{}\", () => [useHistory])\n  },\n  {\n    accessor: 'descr',\n    Header: t('Description')\n  },\n  {\n    Cell: ({ row: { original: { changed_on_delta_humanized: changedOn, changed_by: changedBy } } }) => _jsx(ModifiedInfo, { date: changedOn, user: changedBy }),\n    Header: t('Last modified'),\n    accessor: 'changed_on',\n    size: 'xl'\n  },\n  {\n    Cell: ({ row: { original } }) => {\n      const handleEdit = () => handleAnnotationLayerEdit(original);\n      const handleDelete = () => setLayerCurrentlyDeleting(original);\n      const actions = [\n      canEdit ?\n      {\n        label: 'edit-action',\n        tooltip: t('Edit template'),\n        placement: 'bottom',\n        icon: 'EditOutlined',\n        onClick: handleEdit\n      } :\n      null,\n      canDelete ?\n      {\n        label: 'delete-action',\n        tooltip: t('Delete template'),\n        placement: 'bottom',\n        icon: 'DeleteOutlined',\n        onClick: handleDelete\n      } :\n      null].\n      filter((item) => !!item);\n      return _jsx(ActionsBar, { actions: actions });\n    },\n    Header: t('Actions'),\n    id: 'actions',\n    disableSortBy: true,\n    hidden: !canEdit && !canDelete,\n    size: 'xl'\n  },\n  {\n    accessor: QueryObjectColumns.ChangedBy,\n    hidden: true\n  }],\n  [canDelete, canCreate]);\n  const subMenuButtons = [];\n  if (canCreate) {\n    subMenuButtons.push({\n      name: _jsxs(_Fragment, { children: [\n        _jsx(Icons.PlusOutlined, { iconColor: theme.colors.primary.light5, iconSize: \"m\", css: css`\n              vertical-align: text-top;\n            ` }),\n        t('Annotation layer')] }\n      ),\n      buttonStyle: 'primary',\n      onClick: () => {\n        handleAnnotationLayerEdit(null);\n      }\n    });\n  }\n  if (canDelete) {\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      onClick: toggleBulkSelect,\n      buttonStyle: 'secondary'\n    });\n  }\n  const filters = useMemo(() => [\n  {\n    Header: t('Name'),\n    key: 'search',\n    id: 'name',\n    input: 'search',\n    operator: FilterOperator.Contains\n  },\n  {\n    Header: t('Changed by'),\n    key: 'changed_by',\n    id: 'changed_by',\n    input: 'select',\n    operator: FilterOperator.RelationOneMany,\n    unfilteredLabel: t('All'),\n    fetchSelects: createFetchRelated('annotation_layer', 'changed_by', createErrorHandler((errMsg) => t('An error occurred while fetching dataset datasource values: %s', errMsg)), user),\n    paginate: true\n  }],\n  []);\n  const emptyState = {\n    title: t('No annotation layers yet'),\n    image: 'filter-results.svg',\n    buttonAction: () => handleAnnotationLayerEdit(null),\n    buttonText: _jsxs(_Fragment, { children: [\n      _jsx(Icons.PlusOutlined, { iconSize: \"m\", iconColor: theme.colors.primary.light5 }),\n      t('Annotation layer')] }\n    )\n  };\n  const onLayerAdd = (id) => {\n    navigateTo(`/annotationlayer/${id}/annotation`);\n  };\n  const onModalHide = () => {\n    refreshData();\n    setAnnotationLayerModalOpen(false);\n  };\n  return _jsxs(_Fragment, { children: [\n    _jsx(SubMenu, { name: t('Annotation layers'), buttons: subMenuButtons }),\n    _jsx(AnnotationLayerModal, { addDangerToast: addDangerToast, layer: currentAnnotationLayer, onLayerAdd: onLayerAdd, onHide: onModalHide, show: annotationLayerModalOpen }),\n    layerCurrentlyDeleting && _jsx(DeleteModal, { description: t('This action will permanently delete the layer.'), onConfirm: () => {\n        if (layerCurrentlyDeleting) {\n          handleLayerDelete(layerCurrentlyDeleting);\n        }\n      }, onHide: () => setLayerCurrentlyDeleting(null), open: true, title: t('Delete Layer?') }),\n    _jsx(ConfirmStatusChange, { title: t('Please confirm'), description: t('Are you sure you want to delete the selected layers?'), onConfirm: handleBulkLayerDelete, children:\n      (confirmDelete) => {\n        const bulkActions = canDelete ?\n        [\n        {\n          key: 'delete',\n          name: t('Delete'),\n          onSelect: confirmDelete,\n          type: 'danger'\n        }] :\n\n        [];\n        return _jsx(ListView, { className: \"annotation-layers-list-view\", columns: columns, count: layersCount, data: layers, fetchData: fetchData, filters: filters, initialSort: initialSort, loading: loading, pageSize: PAGE_SIZE, bulkActions: bulkActions, bulkSelectEnabled: bulkSelectEnabled, disableBulkSelect: toggleBulkSelect, addDangerToast: addDangerToast, addSuccessToast: addSuccessToast, emptyState: emptyState, refreshData: refreshData });\n      } }\n    )] }\n  );\n}__signature__(AnnotationLayersList, \"useTheme{theme}\\nuseListViewResource{{ state: { loading, resourceCount: layersCount, resourceCollection: layers, bulkSelectEnabled, }, hasPerm, fetchData, refreshData, toggleBulkSelect, }}\\nuseState{[annotationLayerModalOpen, setAnnotationLayerModalOpen](false)}\\nuseState{[currentAnnotationLayer, setCurrentAnnotationLayer](null)}\\nuseState{[layerCurrentlyDeleting, setLayerCurrentlyDeleting](null)}\\nuseMemo{columns}\\nuseMemo{filters}\", () => [useTheme, useListViewResource]);const _default =\nwithToasts(AnnotationLayersList);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(PAGE_SIZE, \"PAGE_SIZE\", \"/Users/aryurkov/superset/superset-frontend/src/pages/AnnotationLayerList/index.tsx\");reactHotLoader.register(AnnotationLayersList, \"AnnotationLayersList\", \"/Users/aryurkov/superset/superset-frontend/src/pages/AnnotationLayerList/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/pages/AnnotationLayerList/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","useState","rison","t","SupersetClient","useTheme","css","Link","useHistory","useListViewResource","createFetchRelated","createErrorHandler","withToasts","SubMenu","ActionsBar","ListView","FilterOperator","DeleteModal","ConfirmStatusChange","AnnotationLayerModal","ModifiedInfo","QueryObjectColumns","Icons","navigateTo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PAGE_SIZE","AnnotationLayersList","addDangerToast","addSuccessToast","user","theme","state","loading","resourceCount","layersCount","resourceCollection","layers","bulkSelectEnabled","hasPerm","fetchData","refreshData","toggleBulkSelect","annotationLayerModalOpen","setAnnotationLayerModalOpen","currentAnnotationLayer","setCurrentAnnotationLayer","layerCurrentlyDeleting","setLayerCurrentlyDeleting","handleLayerDelete","id","name","delete","endpoint","then","errMsg","handleBulkLayerDelete","layersToDelete","encode","map","json","message","canCreate","canEdit","canDelete","handleAnnotationLayerEdit","layer","initialSort","desc","columns","accessor","Header","Cell","__signature__","row","original","hasHistory","err","to","children","href","changed_on_delta_humanized","changedOn","changed_by","changedBy","date","size","handleEdit","handleDelete","actions","label","tooltip","placement","icon","onClick","filter","item","disableSortBy","hidden","ChangedBy","subMenuButtons","push","PlusOutlined","iconColor","colors","primary","light5","iconSize","buttonStyle","filters","key","input","operator","Contains","RelationOneMany","unfilteredLabel","fetchSelects","paginate","emptyState","title","image","buttonAction","buttonText","onLayerAdd","onModalHide","buttons","onHide","show","description","onConfirm","open","confirmDelete","bulkActions","onSelect","type","className","count","data","pageSize","disableBulkSelect","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/pages/AnnotationLayerList/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useMemo, useState } from 'react';\nimport rison from 'rison';\nimport { t, SupersetClient, useTheme, css } from '@superset-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport { createFetchRelated, createErrorHandler } from 'src/views/CRUD/utils';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport ActionsBar, { ActionProps } from 'src/components/ListView/ActionsBar';\nimport ListView, {\n  ListViewProps,\n  Filters,\n  FilterOperator,\n} from 'src/components/ListView';\nimport DeleteModal from 'src/components/DeleteModal';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport AnnotationLayerModal from 'src/features/annotationLayers/AnnotationLayerModal';\nimport { AnnotationLayerObject } from 'src/features/annotationLayers/types';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\nimport { QueryObjectColumns } from 'src/views/CRUD/types';\nimport { Icons } from 'src/components/Icons';\nimport { navigateTo } from 'src/utils/navigationUtils';\n\nconst PAGE_SIZE = 25;\n\ninterface AnnotationLayersListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nfunction AnnotationLayersList({\n  addDangerToast,\n  addSuccessToast,\n  user,\n}: AnnotationLayersListProps) {\n  const theme = useTheme();\n  const {\n    state: {\n      loading,\n      resourceCount: layersCount,\n      resourceCollection: layers,\n      bulkSelectEnabled,\n    },\n    hasPerm,\n    fetchData,\n    refreshData,\n    toggleBulkSelect,\n  } = useListViewResource<AnnotationLayerObject>(\n    'annotation_layer',\n    t('Annotation layers'),\n    addDangerToast,\n  );\n\n  const [annotationLayerModalOpen, setAnnotationLayerModalOpen] =\n    useState<boolean>(false);\n  const [currentAnnotationLayer, setCurrentAnnotationLayer] =\n    useState<AnnotationLayerObject | null>(null);\n\n  const [layerCurrentlyDeleting, setLayerCurrentlyDeleting] =\n    useState<AnnotationLayerObject | null>(null);\n\n  const handleLayerDelete = ({ id, name }: AnnotationLayerObject) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${id}`,\n    }).then(\n      () => {\n        refreshData();\n        setLayerCurrentlyDeleting(null);\n        addSuccessToast(t('Deleted: %s', name));\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(t('There was an issue deleting %s: %s', name, errMsg)),\n      ),\n    );\n  };\n\n  const handleBulkLayerDelete = (layersToDelete: AnnotationLayerObject[]) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/?q=${rison.encode(\n        layersToDelete.map(({ id }) => id),\n      )}`,\n    }).then(\n      ({ json = {} }) => {\n        refreshData();\n        addSuccessToast(json.message);\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting the selected layers: %s', errMsg),\n        ),\n      ),\n    );\n  };\n\n  const canCreate = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n  const canDelete = hasPerm('can_write');\n\n  function handleAnnotationLayerEdit(layer: AnnotationLayerObject | null) {\n    setCurrentAnnotationLayer(layer);\n    setAnnotationLayerModalOpen(true);\n  }\n\n  const initialSort = [{ id: 'name', desc: true }];\n  const columns = useMemo(\n    () => [\n      {\n        accessor: 'name',\n        Header: t('Name'),\n        Cell: ({\n          row: {\n            original: { id, name },\n          },\n        }: any) => {\n          let hasHistory = true;\n\n          try {\n            useHistory();\n          } catch (err) {\n            // If error is thrown, we know not to use <Link> in render\n            hasHistory = false;\n          }\n\n          if (hasHistory) {\n            return <Link to={`/annotationlayer/${id}/annotation`}>{name}</Link>;\n          }\n\n          return <a href={`/annotationlayer/${id}/annotation`}>{name}</a>;\n        },\n      },\n      {\n        accessor: 'descr',\n        Header: t('Description'),\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              changed_on_delta_humanized: changedOn,\n              changed_by: changedBy,\n            },\n          },\n        }: any) => <ModifiedInfo date={changedOn} user={changedBy} />,\n        Header: t('Last modified'),\n        accessor: 'changed_on',\n        size: 'xl',\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleEdit = () => handleAnnotationLayerEdit(original);\n          const handleDelete = () => setLayerCurrentlyDeleting(original);\n\n          const actions = [\n            canEdit\n              ? {\n                  label: 'edit-action',\n                  tooltip: t('Edit template'),\n                  placement: 'bottom',\n                  icon: 'EditOutlined',\n                  onClick: handleEdit,\n                }\n              : null,\n            canDelete\n              ? {\n                  label: 'delete-action',\n                  tooltip: t('Delete template'),\n                  placement: 'bottom',\n                  icon: 'DeleteOutlined',\n                  onClick: handleDelete,\n                }\n              : null,\n          ].filter(item => !!item);\n\n          return <ActionsBar actions={actions as ActionProps[]} />;\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        disableSortBy: true,\n        hidden: !canEdit && !canDelete,\n        size: 'xl',\n      },\n      {\n        accessor: QueryObjectColumns.ChangedBy,\n        hidden: true,\n      },\n    ],\n    [canDelete, canCreate],\n  );\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n\n  if (canCreate) {\n    subMenuButtons.push({\n      name: (\n        <>\n          <Icons.PlusOutlined\n            iconColor={theme.colors.primary.light5}\n            iconSize=\"m\"\n            css={css`\n              vertical-align: text-top;\n            `}\n          />\n          {t('Annotation layer')}\n        </>\n      ),\n      buttonStyle: 'primary',\n      onClick: () => {\n        handleAnnotationLayerEdit(null);\n      },\n    });\n  }\n\n  if (canDelete) {\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      onClick: toggleBulkSelect,\n      buttonStyle: 'secondary',\n    });\n  }\n\n  const filters: Filters = useMemo(\n    () => [\n      {\n        Header: t('Name'),\n        key: 'search',\n        id: 'name',\n        input: 'search',\n        operator: FilterOperator.Contains,\n      },\n      {\n        Header: t('Changed by'),\n        key: 'changed_by',\n        id: 'changed_by',\n        input: 'select',\n        operator: FilterOperator.RelationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'annotation_layer',\n          'changed_by',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset datasource values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n    ],\n    [],\n  );\n\n  const emptyState = {\n    title: t('No annotation layers yet'),\n    image: 'filter-results.svg',\n    buttonAction: () => handleAnnotationLayerEdit(null),\n    buttonText: (\n      <>\n        <Icons.PlusOutlined\n          iconSize=\"m\"\n          iconColor={theme.colors.primary.light5}\n        />\n        {t('Annotation layer')}\n      </>\n    ),\n  };\n\n  const onLayerAdd = (id?: number) => {\n    navigateTo(`/annotationlayer/${id}/annotation`);\n  };\n\n  const onModalHide = () => {\n    refreshData();\n    setAnnotationLayerModalOpen(false);\n  };\n\n  return (\n    <>\n      <SubMenu name={t('Annotation layers')} buttons={subMenuButtons} />\n      <AnnotationLayerModal\n        addDangerToast={addDangerToast}\n        layer={currentAnnotationLayer}\n        onLayerAdd={onLayerAdd}\n        onHide={onModalHide}\n        show={annotationLayerModalOpen}\n      />\n      {layerCurrentlyDeleting && (\n        <DeleteModal\n          description={t('This action will permanently delete the layer.')}\n          onConfirm={() => {\n            if (layerCurrentlyDeleting) {\n              handleLayerDelete(layerCurrentlyDeleting);\n            }\n          }}\n          onHide={() => setLayerCurrentlyDeleting(null)}\n          open\n          title={t('Delete Layer?')}\n        />\n      )}\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t('Are you sure you want to delete the selected layers?')}\n        onConfirm={handleBulkLayerDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = canDelete\n            ? [\n                {\n                  key: 'delete',\n                  name: t('Delete'),\n                  onSelect: confirmDelete,\n                  type: 'danger',\n                },\n              ]\n            : [];\n\n          return (\n            <ListView<AnnotationLayerObject>\n              className=\"annotation-layers-list-view\"\n              columns={columns}\n              count={layersCount}\n              data={layers}\n              fetchData={fetchData}\n              filters={filters}\n              initialSort={initialSort}\n              loading={loading}\n              pageSize={PAGE_SIZE}\n              bulkActions={bulkActions}\n              bulkSelectEnabled={bulkSelectEnabled}\n              disableBulkSelect={toggleBulkSelect}\n              addDangerToast={addDangerToast}\n              addSuccessToast={addSuccessToast}\n              emptyState={emptyState}\n              refreshData={refreshData}\n            />\n          );\n        }}\n      </ConfirmStatusChange>\n    </>\n  );\n}\n\nexport default withToasts(AnnotationLayersList);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}