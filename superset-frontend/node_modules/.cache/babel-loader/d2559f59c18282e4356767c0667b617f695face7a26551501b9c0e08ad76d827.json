{"ast":null,"code":"import { css as _css } from \"@emotion/react\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState } from 'react';\nimport { useTheme, t, GenericDataType } from '@superset-ui/core';\nimport { COLUMN_NAME_ALIASES } from '@superset-ui/chart-controls';\nimport ColumnConfigItem from './ColumnConfigItem';\nimport { DEFAULT_CONFIG_FORM_LAYOUT } from './constants';\nimport ControlHeader from '../../ControlHeader';\n/**\n * Max number of columns to show by default.\n */import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst MAX_NUM_COLS = 10;\n/**\n * Add per-column config to queried results.\n */\nexport default function ColumnConfigControl({ columnsPropsObject, appliedColumnNames = [], value, onChange, configFormLayout = DEFAULT_CONFIG_FORM_LAYOUT, width, height, ...props }) {\n  const { colnames: _colnames, coltypes: _coltypes } = columnsPropsObject || {};\n  let colnames = [];\n  let coltypes = [];\n  if (appliedColumnNames.length === 0) {\n    colnames = _colnames || [];\n    coltypes = _coltypes || [];\n  } else\n  {\n    const appliedCol = new Set(appliedColumnNames);\n    _colnames == null ? void 0 : _colnames.forEach((col, idx) => {\n      if (appliedCol.has(col)) {\n        colnames.push(col);\n        coltypes.push(_coltypes == null ? void 0 : _coltypes[idx]);\n      }\n    });\n  }\n  const theme = useTheme();\n  const columnConfigs = useMemo(() => {var _colnames2;\n    const configs = {};\n    (_colnames2 = colnames) == null ? void 0 : _colnames2.forEach((col, idx) => {var _coltypes2, _columnsPropsObject$c, _columnsPropsObject$c2, _columnsPropsObject$t, _columnsPropsObject$t2;\n      configs[col] = {\n        name: COLUMN_NAME_ALIASES[col] || col,\n        type: (_coltypes2 = coltypes) == null ? void 0 : _coltypes2[idx],\n        config: (value == null ? void 0 : value[col]) || {},\n        isChildColumn: (_columnsPropsObject$c = columnsPropsObject == null ? void 0 : (_columnsPropsObject$c2 = columnsPropsObject.childColumnMap) == null ? void 0 : _columnsPropsObject$c2[col]) != null ? _columnsPropsObject$c : false,\n        isTimeComparisonColumn: (_columnsPropsObject$t = columnsPropsObject == null ? void 0 : (_columnsPropsObject$t2 = columnsPropsObject.timeComparisonColumnMap) == null ? void 0 : _columnsPropsObject$t2[col]) != null ? _columnsPropsObject$t : false\n      };\n    });\n    return configs;\n  }, [value, colnames, coltypes, columnsPropsObject == null ? void 0 : columnsPropsObject.childColumnMap]);\n  const [showAllColumns, setShowAllColumns] = useState(false);\n  const getColumnInfo = (col) => columnConfigs[col] || {};\n  const setColumnConfig = (col, config) => {\n    if (onChange) {\n      // Only keep configs for known columns\n      const validConfigs = colnames && value ?\n      Object.fromEntries(Object.entries(value).filter(([key]) => colnames.includes(key))) :\n      { ...value };\n      onChange({\n        ...validConfigs,\n        [col]: config\n      });\n    }\n  };\n  if (!colnames || colnames.length === 0)\n  return null;\n  const needShowMoreButton = colnames.length > MAX_NUM_COLS + 2;\n  const cols = needShowMoreButton && !showAllColumns ?\n  colnames.slice(0, MAX_NUM_COLS) :\n  colnames;\n  const columnsWithChildInfo = cols.map((col) => getColumnInfo(col));\n  return _jsxs(_Fragment, { children: [\n    _jsx(ControlHeader, { ...props }),\n    _jsxs(\"div\", { css: /*#__PURE__*/_css({\n        border: `1px solid ${theme.colors.grayscale.light2}`,\n        borderRadius: theme.gridUnit\n      }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ColumnConfigControl;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnl1cmtvdi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NvbHVtbkNvbmZpZ0NvbnRyb2wvQ29sdW1uQ29uZmlnQ29udHJvbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUZXIiwiZmlsZSI6Ii9Vc2Vycy9hcnl1cmtvdi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NvbHVtbkNvbmZpZ0NvbnRyb2wvQ29sdW1uQ29uZmlnQ29udHJvbC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRoZW1lLCB0LCBHZW5lcmljRGF0YVR5cGUgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyBDT0xVTU5fTkFNRV9BTElBU0VTLCB9IGZyb20gJ0BzdXBlcnNldC11aS9jaGFydC1jb250cm9scyc7XG5pbXBvcnQgQ29sdW1uQ29uZmlnSXRlbSBmcm9tICcuL0NvbHVtbkNvbmZpZ0l0ZW0nO1xuaW1wb3J0IHsgREVGQVVMVF9DT05GSUdfRk9STV9MQVlPVVQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgQ29udHJvbEhlYWRlciBmcm9tICcuLi8uLi9Db250cm9sSGVhZGVyJztcbi8qKlxuICogTWF4IG51bWJlciBvZiBjb2x1bW5zIHRvIHNob3cgYnkgZGVmYXVsdC5cbiAqL1xuY29uc3QgTUFYX05VTV9DT0xTID0gMTA7XG4vKipcbiAqIEFkZCBwZXItY29sdW1uIGNvbmZpZyB0byBxdWVyaWVkIHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbHVtbkNvbmZpZ0NvbnRyb2woeyBjb2x1bW5zUHJvcHNPYmplY3QsIGFwcGxpZWRDb2x1bW5OYW1lcyA9IFtdLCB2YWx1ZSwgb25DaGFuZ2UsIGNvbmZpZ0Zvcm1MYXlvdXQgPSBERUZBVUxUX0NPTkZJR19GT1JNX0xBWU9VVCwgd2lkdGgsIGhlaWdodCwgLi4ucHJvcHMgfSkge1xuICAgIGNvbnN0IHsgY29sbmFtZXM6IF9jb2xuYW1lcywgY29sdHlwZXM6IF9jb2x0eXBlcyB9ID0gY29sdW1uc1Byb3BzT2JqZWN0IHx8IHt9O1xuICAgIGxldCBjb2xuYW1lcyA9IFtdO1xuICAgIGxldCBjb2x0eXBlcyA9IFtdO1xuICAgIGlmIChhcHBsaWVkQ29sdW1uTmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbG5hbWVzID0gX2NvbG5hbWVzIHx8IFtdO1xuICAgICAgICBjb2x0eXBlcyA9IF9jb2x0eXBlcyB8fCBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGFwcGxpZWRDb2wgPSBuZXcgU2V0KGFwcGxpZWRDb2x1bW5OYW1lcyk7XG4gICAgICAgIF9jb2xuYW1lcz8uZm9yRWFjaCgoY29sLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcHBsaWVkQ29sLmhhcyhjb2wpKSB7XG4gICAgICAgICAgICAgICAgY29sbmFtZXMucHVzaChjb2wpO1xuICAgICAgICAgICAgICAgIGNvbHR5cGVzLnB1c2goX2NvbHR5cGVzPy5baWR4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgY29uc3QgY29sdW1uQ29uZmlncyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBjb25maWdzID0ge307XG4gICAgICAgIGNvbG5hbWVzPy5mb3JFYWNoKChjb2wsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uZmlnc1tjb2xdID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IENPTFVNTl9OQU1FX0FMSUFTRVNbY29sXSB8fCBjb2wsXG4gICAgICAgICAgICAgICAgdHlwZTogY29sdHlwZXM/LltpZHhdLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogdmFsdWU/Lltjb2xdIHx8IHt9LFxuICAgICAgICAgICAgICAgIGlzQ2hpbGRDb2x1bW46IGNvbHVtbnNQcm9wc09iamVjdD8uY2hpbGRDb2x1bW5NYXA/Lltjb2xdID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzVGltZUNvbXBhcmlzb25Db2x1bW46IGNvbHVtbnNQcm9wc09iamVjdD8udGltZUNvbXBhcmlzb25Db2x1bW5NYXA/Lltjb2xdID8/IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25maWdzO1xuICAgIH0sIFt2YWx1ZSwgY29sbmFtZXMsIGNvbHR5cGVzLCBjb2x1bW5zUHJvcHNPYmplY3Q/LmNoaWxkQ29sdW1uTWFwXSk7XG4gICAgY29uc3QgW3Nob3dBbGxDb2x1bW5zLCBzZXRTaG93QWxsQ29sdW1uc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgZ2V0Q29sdW1uSW5mbyA9IChjb2wpID0+IGNvbHVtbkNvbmZpZ3NbY29sXSB8fCB7fTtcbiAgICBjb25zdCBzZXRDb2x1bW5Db25maWcgPSAoY29sLCBjb25maWcpID0+IHtcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGtlZXAgY29uZmlncyBmb3Iga25vd24gY29sdW1uc1xuICAgICAgICAgICAgY29uc3QgdmFsaWRDb25maWdzID0gY29sbmFtZXMgJiYgdmFsdWVcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh2YWx1ZSkuZmlsdGVyKChba2V5XSkgPT4gY29sbmFtZXMuaW5jbHVkZXMoa2V5KSkpXG4gICAgICAgICAgICAgICAgOiB7IC4uLnZhbHVlIH07XG4gICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgLi4udmFsaWRDb25maWdzLFxuICAgICAgICAgICAgICAgIFtjb2xdOiBjb25maWcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFjb2xuYW1lcyB8fCBjb2xuYW1lcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5lZWRTaG93TW9yZUJ1dHRvbiA9IGNvbG5hbWVzLmxlbmd0aCA+IE1BWF9OVU1fQ09MUyArIDI7XG4gICAgY29uc3QgY29scyA9IG5lZWRTaG93TW9yZUJ1dHRvbiAmJiAhc2hvd0FsbENvbHVtbnNcbiAgICAgICAgPyBjb2xuYW1lcy5zbGljZSgwLCBNQVhfTlVNX0NPTFMpXG4gICAgICAgIDogY29sbmFtZXM7XG4gICAgY29uc3QgY29sdW1uc1dpdGhDaGlsZEluZm8gPSBjb2xzLm1hcChjb2wgPT4gZ2V0Q29sdW1uSW5mbyhjb2wpKTtcbiAgICByZXR1cm4gKDw+XG4gICAgICA8Q29udHJvbEhlYWRlciB7Li4ucHJvcHN9Lz5cbiAgICAgIDxkaXYgY3NzPXt7XG4gICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0Mn1gLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5ncmlkVW5pdCxcbiAgICAgICAgfX0+XG4gICAgICAgIHtjb2x1bW5zV2l0aENoaWxkSW5mby5tYXAoY29sID0+ICg8Q29sdW1uQ29uZmlnSXRlbSBrZXk9e2NvbC5uYW1lfSBjb2x1bW49e2NvbH0gb25DaGFuZ2U9e2NvbmZpZyA9PiBzZXRDb2x1bW5Db25maWcoY29sLm5hbWUsIGNvbmZpZyl9IGNvbmZpZ0Zvcm1MYXlvdXQ9e2NvbC5pc1RpbWVDb21wYXJpc29uQ29sdW1uXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIFtjb2wudHlwZSA/PyBHZW5lcmljRGF0YVR5cGUuU3RyaW5nXTogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogJ0dlbmVyYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnY3VzdG9tQ29sdW1uTmFtZSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ2Rpc3BsYXlUeXBlSWNvbiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3Zpc2libGUnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjb25maWdGb3JtTGF5b3V0Py5bY29sLnR5cGUgPz8gR2VuZXJpY0RhdGFUeXBlLlN0cmluZ10gPz8gW10pLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IGNvbmZpZ0Zvcm1MYXlvdXR9IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9Lz4pKX1cbiAgICAgICAge25lZWRTaG93TW9yZUJ1dHRvbiAmJiAoPGRpdiByb2xlPVwiYnV0dG9uXCIgdGFiSW5kZXg9ey0xfSBjc3M9e3tcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5ncmlkVW5pdCAqIDIsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5zaXplcy54cyxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWUuY29sb3JzLnRleHQubGFiZWwsXG4gICAgICAgICAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0NCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfX0gb25DbGljaz17KCkgPT4gc2V0U2hvd0FsbENvbHVtbnMoIXNob3dBbGxDb2x1bW5zKX0+XG4gICAgICAgICAgICB7c2hvd0FsbENvbHVtbnMgPyAoPD5cbiAgICAgICAgICAgICAgICB7LyogVE9ETzogUmVtb3ZlIGZhLWljb24gKi99XG4gICAgICAgICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpY29ucy9uby1mYS1pY29ucy11c2FnZSAqL31cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1hbmdsZS11cFwiLz4gJm5ic3A7IHt0KCdTaG93IGxlc3MgY29sdW1ucycpfVxuICAgICAgICAgICAgICA8Lz4pIDogKDw+XG4gICAgICAgICAgICAgICAgey8qIFRPRE86IFJlbW92ZSBmYS1pY29uICovfVxuICAgICAgICAgICAgICAgIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaWNvbnMvbm8tZmEtaWNvbnMtdXNhZ2UgKi99XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtYW5nbGUtZG93blwiLz4gJm5ic3A7XG4gICAgICAgICAgICAgICAge3QoJ1Nob3cgYWxsIGNvbHVtbnMnKX1cbiAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICA8L2Rpdj4pfVxuICAgICAgPC9kaXY+XG4gICAgPC8+KTtcbn1cbiJdfQ== */\"), children: [\n      columnsWithChildInfo.map((col) => {var _col$type, _configFormLayout, _col$type2;return _jsx(ColumnConfigItem, { column: col, onChange: (config) => setColumnConfig(col.name, config), configFormLayout: col.isTimeComparisonColumn ?\n          {\n            [(_col$type = col.type) != null ? _col$type : GenericDataType.String]: [\n            {\n              tab: 'General',\n              children: [\n              ['customColumnName'],\n              ['displayTypeIcon'],\n              ['visible']]\n\n            },\n            ...((_configFormLayout = configFormLayout == null ? void 0 : configFormLayout[(_col$type2 = col.type) != null ? _col$type2 : GenericDataType.String]) != null ? _configFormLayout : [])]\n\n          } :\n          configFormLayout, width: width, height: height }, col.name);}),\n      needShowMoreButton && _jsx(\"div\", { role: \"button\", tabIndex: -1, css: /*#__PURE__*/_css({\n          padding: theme.gridUnit * 2,\n          textAlign: 'center',\n          cursor: 'pointer',\n          fontSize: theme.typography.sizes.xs,\n          color: theme.colors.text.label,\n          ':hover': {\n            backgroundColor: theme.colors.grayscale.light4\n          }\n        }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ColumnConfigControl;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnl1cmtvdi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NvbHVtbkNvbmZpZ0NvbnRyb2wvQ29sdW1uQ29uZmlnQ29udHJvbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0dpRSIsImZpbGUiOiIvVXNlcnMvYXJ5dXJrb3Yvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Db2x1bW5Db25maWdDb250cm9sL0NvbHVtbkNvbmZpZ0NvbnRyb2wudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUaGVtZSwgdCwgR2VuZXJpY0RhdGFUeXBlIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgQ09MVU1OX05BTUVfQUxJQVNFUywgfSBmcm9tICdAc3VwZXJzZXQtdWkvY2hhcnQtY29udHJvbHMnO1xuaW1wb3J0IENvbHVtbkNvbmZpZ0l0ZW0gZnJvbSAnLi9Db2x1bW5Db25maWdJdGVtJztcbmltcG9ydCB7IERFRkFVTFRfQ09ORklHX0ZPUk1fTEFZT1VUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IENvbnRyb2xIZWFkZXIgZnJvbSAnLi4vLi4vQ29udHJvbEhlYWRlcic7XG4vKipcbiAqIE1heCBudW1iZXIgb2YgY29sdW1ucyB0byBzaG93IGJ5IGRlZmF1bHQuXG4gKi9cbmNvbnN0IE1BWF9OVU1fQ09MUyA9IDEwO1xuLyoqXG4gKiBBZGQgcGVyLWNvbHVtbiBjb25maWcgdG8gcXVlcmllZCByZXN1bHRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2x1bW5Db25maWdDb250cm9sKHsgY29sdW1uc1Byb3BzT2JqZWN0LCBhcHBsaWVkQ29sdW1uTmFtZXMgPSBbXSwgdmFsdWUsIG9uQ2hhbmdlLCBjb25maWdGb3JtTGF5b3V0ID0gREVGQVVMVF9DT05GSUdfRk9STV9MQVlPVVQsIHdpZHRoLCBoZWlnaHQsIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCB7IGNvbG5hbWVzOiBfY29sbmFtZXMsIGNvbHR5cGVzOiBfY29sdHlwZXMgfSA9IGNvbHVtbnNQcm9wc09iamVjdCB8fCB7fTtcbiAgICBsZXQgY29sbmFtZXMgPSBbXTtcbiAgICBsZXQgY29sdHlwZXMgPSBbXTtcbiAgICBpZiAoYXBwbGllZENvbHVtbk5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb2xuYW1lcyA9IF9jb2xuYW1lcyB8fCBbXTtcbiAgICAgICAgY29sdHlwZXMgPSBfY29sdHlwZXMgfHwgW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBhcHBsaWVkQ29sID0gbmV3IFNldChhcHBsaWVkQ29sdW1uTmFtZXMpO1xuICAgICAgICBfY29sbmFtZXM/LmZvckVhY2goKGNvbCwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXBwbGllZENvbC5oYXMoY29sKSkge1xuICAgICAgICAgICAgICAgIGNvbG5hbWVzLnB1c2goY29sKTtcbiAgICAgICAgICAgICAgICBjb2x0eXBlcy5wdXNoKF9jb2x0eXBlcz8uW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGNvbHVtbkNvbmZpZ3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlncyA9IHt9O1xuICAgICAgICBjb2xuYW1lcz8uZm9yRWFjaCgoY29sLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZ3NbY29sXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBDT0xVTU5fTkFNRV9BTElBU0VTW2NvbF0gfHwgY29sLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbHR5cGVzPy5baWR4XSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHZhbHVlPy5bY29sXSB8fCB7fSxcbiAgICAgICAgICAgICAgICBpc0NoaWxkQ29sdW1uOiBjb2x1bW5zUHJvcHNPYmplY3Q/LmNoaWxkQ29sdW1uTWFwPy5bY29sXSA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RpbWVDb21wYXJpc29uQ29sdW1uOiBjb2x1bW5zUHJvcHNPYmplY3Q/LnRpbWVDb21wYXJpc29uQ29sdW1uTWFwPy5bY29sXSA/PyBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29uZmlncztcbiAgICB9LCBbdmFsdWUsIGNvbG5hbWVzLCBjb2x0eXBlcywgY29sdW1uc1Byb3BzT2JqZWN0Py5jaGlsZENvbHVtbk1hcF0pO1xuICAgIGNvbnN0IFtzaG93QWxsQ29sdW1ucywgc2V0U2hvd0FsbENvbHVtbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGdldENvbHVtbkluZm8gPSAoY29sKSA9PiBjb2x1bW5Db25maWdzW2NvbF0gfHwge307XG4gICAgY29uc3Qgc2V0Q29sdW1uQ29uZmlnID0gKGNvbCwgY29uZmlnKSA9PiB7XG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgLy8gT25seSBrZWVwIGNvbmZpZ3MgZm9yIGtub3duIGNvbHVtbnNcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ29uZmlncyA9IGNvbG5hbWVzICYmIHZhbHVlXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModmFsdWUpLmZpbHRlcigoW2tleV0pID0+IGNvbG5hbWVzLmluY2x1ZGVzKGtleSkpKVxuICAgICAgICAgICAgICAgIDogeyAuLi52YWx1ZSB9O1xuICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIC4uLnZhbGlkQ29uZmlncyxcbiAgICAgICAgICAgICAgICBbY29sXTogY29uZmlnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmICghY29sbmFtZXMgfHwgY29sbmFtZXMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBuZWVkU2hvd01vcmVCdXR0b24gPSBjb2xuYW1lcy5sZW5ndGggPiBNQVhfTlVNX0NPTFMgKyAyO1xuICAgIGNvbnN0IGNvbHMgPSBuZWVkU2hvd01vcmVCdXR0b24gJiYgIXNob3dBbGxDb2x1bW5zXG4gICAgICAgID8gY29sbmFtZXMuc2xpY2UoMCwgTUFYX05VTV9DT0xTKVxuICAgICAgICA6IGNvbG5hbWVzO1xuICAgIGNvbnN0IGNvbHVtbnNXaXRoQ2hpbGRJbmZvID0gY29scy5tYXAoY29sID0+IGdldENvbHVtbkluZm8oY29sKSk7XG4gICAgcmV0dXJuICg8PlxuICAgICAgPENvbnRyb2xIZWFkZXIgey4uLnByb3BzfS8+XG4gICAgICA8ZGl2IGNzcz17e1xuICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDJ9YCxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogdGhlbWUuZ3JpZFVuaXQsXG4gICAgICAgIH19PlxuICAgICAgICB7Y29sdW1uc1dpdGhDaGlsZEluZm8ubWFwKGNvbCA9PiAoPENvbHVtbkNvbmZpZ0l0ZW0ga2V5PXtjb2wubmFtZX0gY29sdW1uPXtjb2x9IG9uQ2hhbmdlPXtjb25maWcgPT4gc2V0Q29sdW1uQ29uZmlnKGNvbC5uYW1lLCBjb25maWcpfSBjb25maWdGb3JtTGF5b3V0PXtjb2wuaXNUaW1lQ29tcGFyaXNvbkNvbHVtblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBbY29sLnR5cGUgPz8gR2VuZXJpY0RhdGFUeXBlLlN0cmluZ106IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWI6ICdHZW5lcmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ2N1c3RvbUNvbHVtbk5hbWUnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWydkaXNwbGF5VHlwZUljb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyd2aXNpYmxlJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oY29uZmlnRm9ybUxheW91dD8uW2NvbC50eXBlID8/IEdlbmVyaWNEYXRhVHlwZS5TdHJpbmddID8/IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBjb25maWdGb3JtTGF5b3V0fSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fS8+KSl9XG4gICAgICAgIHtuZWVkU2hvd01vcmVCdXR0b24gJiYgKDxkaXYgcm9sZT1cImJ1dHRvblwiIHRhYkluZGV4PXstMX0gY3NzPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogdGhlbWUuZ3JpZFVuaXQgKiAyLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMueHMsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoZW1lLmNvbG9ycy50ZXh0LmxhYmVsLFxuICAgICAgICAgICAgICAgICc6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19IG9uQ2xpY2s9eygpID0+IHNldFNob3dBbGxDb2x1bW5zKCFzaG93QWxsQ29sdW1ucyl9PlxuICAgICAgICAgICAge3Nob3dBbGxDb2x1bW5zID8gKDw+XG4gICAgICAgICAgICAgICAgey8qIFRPRE86IFJlbW92ZSBmYS1pY29uICovfVxuICAgICAgICAgICAgICAgIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaWNvbnMvbm8tZmEtaWNvbnMtdXNhZ2UgKi99XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtYW5nbGUtdXBcIi8+ICZuYnNwOyB7dCgnU2hvdyBsZXNzIGNvbHVtbnMnKX1cbiAgICAgICAgICAgICAgPC8+KSA6ICg8PlxuICAgICAgICAgICAgICAgIHsvKiBUT0RPOiBSZW1vdmUgZmEtaWNvbiAqL31cbiAgICAgICAgICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGljb25zL25vLWZhLWljb25zLXVzYWdlICovfVxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWFuZ2xlLWRvd25cIi8+ICZuYnNwO1xuICAgICAgICAgICAgICAgIHt0KCdTaG93IGFsbCBjb2x1bW5zJyl9XG4gICAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgPC9kaXY+KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvPik7XG59XG4iXX0= */\"), onClick: () => setShowAllColumns(!showAllColumns), children:\n        showAllColumns ? _jsxs(_Fragment, { children: [\n\n\n          _jsx(\"i\", { className: \"fa fa-angle-up\" }), \" \\xA0 \", t('Show less columns')] }\n        ) : _jsxs(_Fragment, { children: [\n\n\n          _jsx(\"i\", { className: \"fa fa-angle-down\" }), \" \\xA0\",\n          t('Show all columns')] }\n        ) }\n      )] }\n    )] }\n  );\n}__signature__(ColumnConfigControl, \"useTheme{theme}\\nuseMemo{columnConfigs}\\nuseState{[showAllColumns, setShowAllColumns](false)}\", () => [useTheme]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(MAX_NUM_COLS, \"MAX_NUM_COLS\", \"/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ColumnConfigControl.tsx\");reactHotLoader.register(ColumnConfigControl, \"ColumnConfigControl\", \"/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ColumnConfigControl.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","useState","useTheme","t","GenericDataType","COLUMN_NAME_ALIASES","ColumnConfigItem","DEFAULT_CONFIG_FORM_LAYOUT","ControlHeader","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MAX_NUM_COLS","ColumnConfigControl","columnsPropsObject","appliedColumnNames","value","onChange","configFormLayout","width","height","props","colnames","_colnames","coltypes","_coltypes","length","appliedCol","Set","forEach","col","idx","has","push","theme","columnConfigs","_colnames2","configs","_coltypes2","_columnsPropsObject$c","_columnsPropsObject$c2","_columnsPropsObject$t","_columnsPropsObject$t2","name","type","config","isChildColumn","childColumnMap","isTimeComparisonColumn","timeComparisonColumnMap","showAllColumns","setShowAllColumns","getColumnInfo","setColumnConfig","validConfigs","Object","fromEntries","entries","filter","key","includes","needShowMoreButton","cols","slice","columnsWithChildInfo","map","children","css","_css","border","colors","grayscale","light2","borderRadius","gridUnit","process","env","NODE_ENV","_col$type","_configFormLayout","_col$type2","column","String","tab","role","tabIndex","padding","textAlign","cursor","fontSize","typography","sizes","xs","color","text","label","backgroundColor","light4","onClick","className","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ColumnConfigControl.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState } from 'react';\nimport { useTheme, t, GenericDataType } from '@superset-ui/core';\n\nimport {\n  COLUMN_NAME_ALIASES,\n  ControlComponentProps,\n} from '@superset-ui/chart-controls';\nimport ColumnConfigItem from './ColumnConfigItem';\nimport {\n  ColumnConfigInfo,\n  ColumnConfig,\n  ColumnConfigFormLayout,\n} from './types';\nimport { DEFAULT_CONFIG_FORM_LAYOUT } from './constants';\nimport ControlHeader from '../../ControlHeader';\n\nexport type ColumnConfigControlProps<T extends ColumnConfig> =\n  ControlComponentProps<Record<string, T>> & {\n    columnsPropsObject?: {\n      colnames: string[];\n      coltypes: GenericDataType[];\n      childColumnMap?: Record<string, boolean>;\n      timeComparisonColumnMap?: Record<string, boolean>;\n    };\n    configFormLayout?: ColumnConfigFormLayout;\n    appliedColumnNames?: string[];\n    width?: number | string;\n    height?: number | string;\n  };\n\n/**\n * Max number of columns to show by default.\n */\nconst MAX_NUM_COLS = 10;\n\n/**\n * Add per-column config to queried results.\n */\nexport default function ColumnConfigControl<T extends ColumnConfig>({\n  columnsPropsObject,\n  appliedColumnNames = [],\n  value,\n  onChange,\n  configFormLayout = DEFAULT_CONFIG_FORM_LAYOUT,\n  width,\n  height,\n  ...props\n}: ColumnConfigControlProps<T>) {\n  const { colnames: _colnames, coltypes: _coltypes } = columnsPropsObject || {};\n  let colnames: string[] = [];\n  let coltypes: GenericDataType[] = [];\n  if (appliedColumnNames.length === 0) {\n    colnames = _colnames || [];\n    coltypes = _coltypes || [];\n  } else {\n    const appliedCol = new Set(appliedColumnNames);\n    _colnames?.forEach((col, idx) => {\n      if (appliedCol.has(col)) {\n        colnames.push(col);\n        coltypes.push(_coltypes?.[idx] as GenericDataType);\n      }\n    });\n  }\n  const theme = useTheme();\n  const columnConfigs = useMemo(() => {\n    const configs: Record<string, ColumnConfigInfo> = {};\n    colnames?.forEach((col, idx) => {\n      configs[col] = {\n        name: COLUMN_NAME_ALIASES[col] || col,\n        type: coltypes?.[idx],\n        config: value?.[col] || {},\n        isChildColumn: columnsPropsObject?.childColumnMap?.[col] ?? false,\n        isTimeComparisonColumn:\n          columnsPropsObject?.timeComparisonColumnMap?.[col] ?? false,\n      };\n    });\n    return configs;\n  }, [value, colnames, coltypes, columnsPropsObject?.childColumnMap]);\n\n  const [showAllColumns, setShowAllColumns] = useState(false);\n\n  const getColumnInfo = (col: string) => columnConfigs[col] || {};\n  const setColumnConfig = (col: string, config: T) => {\n    if (onChange) {\n      // Only keep configs for known columns\n      const validConfigs: Record<string, T> =\n        colnames && value\n          ? Object.fromEntries(\n              Object.entries(value).filter(([key]) => colnames.includes(key)),\n            )\n          : { ...value };\n      onChange({\n        ...validConfigs,\n        [col]: config,\n      });\n    }\n  };\n\n  if (!colnames || colnames.length === 0) return null;\n\n  const needShowMoreButton = colnames.length > MAX_NUM_COLS + 2;\n  const cols =\n    needShowMoreButton && !showAllColumns\n      ? colnames.slice(0, MAX_NUM_COLS)\n      : colnames;\n\n  const columnsWithChildInfo = cols.map(col => getColumnInfo(col));\n\n  return (\n    <>\n      <ControlHeader {...props} />\n      <div\n        css={{\n          border: `1px solid ${theme.colors.grayscale.light2}`,\n          borderRadius: theme.gridUnit,\n        }}\n      >\n        {columnsWithChildInfo.map(col => (\n          <ColumnConfigItem\n            key={col.name}\n            column={col}\n            onChange={config => setColumnConfig(col.name, config as T)}\n            configFormLayout={\n              col.isTimeComparisonColumn\n                ? ({\n                    [col.type ?? GenericDataType.String]: [\n                      {\n                        tab: 'General',\n                        children: [\n                          ['customColumnName'],\n                          ['displayTypeIcon'],\n                          ['visible'],\n                        ],\n                      },\n                      ...(configFormLayout?.[\n                        col.type ?? GenericDataType.String\n                      ] ?? []),\n                    ],\n                  } as ColumnConfigFormLayout)\n                : configFormLayout\n            }\n            width={width}\n            height={height}\n          />\n        ))}\n        {needShowMoreButton && (\n          <div\n            role=\"button\"\n            tabIndex={-1}\n            css={{\n              padding: theme.gridUnit * 2,\n              textAlign: 'center',\n              cursor: 'pointer',\n              fontSize: theme.typography.sizes.xs,\n              color: theme.colors.text.label,\n              ':hover': {\n                backgroundColor: theme.colors.grayscale.light4,\n              },\n            }}\n            onClick={() => setShowAllColumns(!showAllColumns)}\n          >\n            {showAllColumns ? (\n              <>\n                {/* TODO: Remove fa-icon */}\n                {/* eslint-disable-next-line icons/no-fa-icons-usage */}\n                <i className=\"fa fa-angle-up\" /> &nbsp; {t('Show less columns')}\n              </>\n            ) : (\n              <>\n                {/* TODO: Remove fa-icon */}\n                {/* eslint-disable-next-line icons/no-fa-icons-usage */}\n                <i className=\"fa fa-angle-down\" /> &nbsp;\n                {t('Show all columns')}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}