{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useState } from 'react';\nimport { Radio } from 'src/components/Radio';\nimport { AsyncSelect } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport StyledModal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport { styled, t, SupersetClient, VizType } from '@superset-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport dayjs from 'dayjs';\nimport rison from 'rison';\nimport { createDatasource } from 'src/SqlLab/actions/sqlLab';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\nimport { DatasetRadioState, EXPLORE_CHART_DEFAULT } from 'src/SqlLab/types';\nimport { mountExploreUrl } from 'src/explore/exploreUtils';\nimport { postFormData } from 'src/explore/exploreUtils/formData';\nimport { URL_PARAMS } from 'src/constants';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n\nconst Styles = styled.div`\n  ${({ theme }) => `\n  .sdm-body {\n    margin: 0 ${theme.gridUnit * 2}px;\n  }\n  .sdm-input {\n    margin-left: ${theme.gridUnit * 10}px;\n    width: 401px;\n  }\n  .sdm-autocomplete {\n    width: 401px;\n    align-self: center;\n    margin-left: ${theme.gridUnit}px;\n  }\n  .sdm-radio {\n    height: 30px;\n    margin: 10px 0px;\n    line-height: 30px;\n  }\n  .sdm-radio span {\n    display: inline-flex;\n    padding-right: 0px;\n  }\n  .sdm-overwrite-msg {\n    margin: ${theme.gridUnit * 2}px;\n  }\n  .sdm-overwrite-container {\n    flex: 1 1 auto;\n    display: flex;\n  `}\n`;\nconst updateDataset = async (dbId, datasetId, sql, columns, owners, overrideColumns) => {\n  const endpoint = `api/v1/dataset/${datasetId}?override_columns=${overrideColumns}`;\n  const headers = { 'Content-Type': 'application/json' };\n  const body = JSON.stringify({\n    sql,\n    columns,\n    owners,\n    database_id: dbId\n  });\n  const data = await SupersetClient.put({\n    endpoint,\n    headers,\n    body\n  });\n  return data.json.result;\n};\nconst UNTITLED = t('Untitled Dataset');\nexport const SaveDatasetModal = ({ visible, onHide, buttonTextOnSave, buttonTextOnOverwrite, modalDescription, datasource, openWindow = true, formData = {} }) => {\n  const defaultVizType = useSelector((state) => {var _state$common, _state$common$conf;return ((_state$common = state.common) == null ? void 0 : (_state$common$conf = _state$common.conf) == null ? void 0 : _state$common$conf.DEFAULT_VIZ_TYPE) || VizType.Table;});\n  const getDefaultDatasetName = () => `${(datasource == null ? void 0 : datasource.name) || UNTITLED} ${dayjs().format('L HH:mm:ss')}`;\n  const [datasetName, setDatasetName] = useState(getDefaultDatasetName());\n  const [newOrOverwrite, setNewOrOverwrite] = useState(DatasetRadioState.SaveNew);\n  const [shouldOverwriteDataset, setShouldOverwriteDataset] = useState(false);\n  const [datasetToOverwrite, setDatasetToOverwrite] = useState({});\n  const [selectedDatasetToOverwrite, setSelectedDatasetToOverwrite] = useState(undefined);\n  const [loading, setLoading] = useState(false);\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n  const createWindow = (url) => {\n    if (openWindow) {\n      window.open(url, '_blank', 'noreferrer');\n    } else\n    {\n      window.location.href = url;\n    }\n  };\n  const formDataWithDefaults = {\n    ...EXPLORE_CHART_DEFAULT,\n    ...(formData || {})\n  };\n  const handleOverwriteDataset = async () => {var _datasource$columns, _datasetToOverwrite$o, _datasource$columns2;\n    // if user wants to overwrite a dataset we need to prompt them\n    if (!shouldOverwriteDataset) {\n      setShouldOverwriteDataset(true);\n      return;\n    }\n    setLoading(true);\n    const [, key] = await Promise.all([\n    updateDataset(datasource == null ? void 0 : datasource.dbId, datasetToOverwrite == null ? void 0 : datasetToOverwrite.datasetid, datasource == null ? void 0 : datasource.sql, datasource == null ? void 0 : (_datasource$columns = datasource.columns) == null ? void 0 : _datasource$columns.map((d) => ({\n      column_name: d.column_name,\n      type: d.type,\n      is_dttm: d.is_dttm\n    })), datasetToOverwrite == null ? void 0 : (_datasetToOverwrite$o = datasetToOverwrite.owners) == null ? void 0 : _datasetToOverwrite$o.map((o) => o.id), true),\n    postFormData(datasetToOverwrite.datasetid, 'table', {\n      ...formDataWithDefaults,\n      datasource: `${datasetToOverwrite.datasetid}__table`,\n      ...(defaultVizType === VizType.Table && {\n        all_columns: datasource == null ? void 0 : (_datasource$columns2 = datasource.columns) == null ? void 0 : _datasource$columns2.map((column) => column.column_name)\n      })\n    })]\n    );\n    setLoading(false);\n    const url = mountExploreUrl(null, {\n      [URL_PARAMS.formDataKey.name]: key\n    });\n    createWindow(url);\n    setShouldOverwriteDataset(false);\n    setDatasetName(getDefaultDatasetName());\n    onHide();\n  };\n  const loadDatasetOverwriteOptions = useCallback(async (input = '') => {\n    const { userId } = user;\n    const queryParams = rison.encode({\n      filters: [\n      {\n        col: 'table_name',\n        opr: 'ct',\n        value: input\n      },\n      {\n        col: 'owners',\n        opr: 'rel_m_m',\n        value: userId\n      }],\n\n      order_column: 'changed_on_delta_humanized',\n      order_direction: 'desc'\n    });\n    return SupersetClient.get({\n      endpoint: `/api/v1/dataset/?q=${queryParams}`\n    }).then((response) => ({\n      data: response.json.result.map((r) => ({\n        value: r.table_name,\n        label: r.table_name,\n        datasetid: r.id,\n        owners: r.owners\n      })),\n      totalCount: response.json.count\n    }));\n  }, [user]);\n  const handleSaveInDataset = () => {var _datasource$columns3, _datasource$database;\n    setLoading(true);\n    const selectedColumns = (_datasource$columns3 = datasource == null ? void 0 : datasource.columns) != null ? _datasource$columns3 : [];\n    // The filters param is only used to test jinja templates.\n    // Remove the special filters entry from the templateParams\n    // before saving the dataset.\n    let templateParams;\n    if (typeof (datasource == null ? void 0 : datasource.templateParams) === 'string') {\n      const p = JSON.parse(datasource.templateParams);\n      /* eslint-disable-next-line no-underscore-dangle */\n      if (p._filters) {\n        /* eslint-disable-next-line no-underscore-dangle */\n        delete p._filters;\n        // eslint-disable-next-line no-param-reassign\n        templateParams = JSON.stringify(p);\n      }\n    }\n    dispatch(createDatasource({\n      sql: datasource.sql,\n      dbId: datasource.dbId || (datasource == null ? void 0 : (_datasource$database = datasource.database) == null ? void 0 : _datasource$database.id),\n      catalog: datasource == null ? void 0 : datasource.catalog,\n      schema: datasource == null ? void 0 : datasource.schema,\n      templateParams,\n      datasourceName: datasetName\n    })).\n    then((data) => postFormData(data.id, 'table', {\n      ...formDataWithDefaults,\n      datasource: `${data.id}__table`,\n      ...(defaultVizType === VizType.Table && {\n        all_columns: selectedColumns.map((column) => column.column_name)\n      })\n    })).\n    then((key) => {\n      setLoading(false);\n      const url = mountExploreUrl(null, {\n        [URL_PARAMS.formDataKey.name]: key\n      });\n      createWindow(url);\n      setDatasetName(getDefaultDatasetName());\n      onHide();\n    }).\n    catch(() => {\n      setLoading(false);\n      addDangerToast(t('An error occurred saving dataset'));\n    });\n  };\n  const handleOverwriteDatasetOption = (value, option) => {\n    setDatasetToOverwrite(option);\n    setSelectedDatasetToOverwrite(value);\n  };\n  const handleDatasetNameChange = (e) => {\n    // @ts-expect-error\n    setDatasetName(e.target.value);\n  };\n  const handleOverwriteCancel = () => {\n    setShouldOverwriteDataset(false);\n    setDatasetToOverwrite({});\n  };\n  const disableSaveAndExploreBtn = newOrOverwrite === DatasetRadioState.SaveNew &&\n  datasetName.length === 0 ||\n  newOrOverwrite === DatasetRadioState.OverwriteDataset &&\n  _isEmpty(selectedDatasetToOverwrite);\n  const filterAutocompleteOption = (inputValue, option) => option.value.toLowerCase().includes(inputValue.toLowerCase());\n  return _jsx(StyledModal, { show: visible, title: t('Save or Overwrite Dataset'), onHide: onHide, footer: _jsxs(_Fragment, { children: [\n      newOrOverwrite === DatasetRadioState.SaveNew && _jsx(Button, { disabled: disableSaveAndExploreBtn, buttonStyle: \"primary\", onClick: handleSaveInDataset, loading: loading, children:\n        buttonTextOnSave }\n      ),\n      newOrOverwrite === DatasetRadioState.OverwriteDataset && _jsxs(_Fragment, { children: [\n        shouldOverwriteDataset && _jsx(Button, { onClick: handleOverwriteCancel, children: t('Back') }),\n        _jsx(Button, { className: \"md\", buttonStyle: \"primary\", onClick: handleOverwriteDataset, disabled: disableSaveAndExploreBtn, loading: loading, children:\n          buttonTextOnOverwrite }\n        )] }\n      )] }\n    ), children:\n    _jsxs(Styles, { children: [\n      !shouldOverwriteDataset && _jsxs(\"div\", { className: \"sdm-body\", children: [\n        modalDescription && _jsx(\"div\", { className: \"sdm-prompt\", children: modalDescription }),\n        _jsxs(Radio.Group, { onChange: (e) => {\n            setNewOrOverwrite(Number(e.target.value));\n          }, value: newOrOverwrite, children: [\n          _jsxs(Radio, { className: \"sdm-radio\", value: 1, children: [\n            t('Save as new'),\n            _jsx(Input, { className: \"sdm-input\", value: datasetName, onChange: handleDatasetNameChange, disabled: newOrOverwrite !== 1 })] }\n          ),\n          _jsxs(\"div\", { className: \"sdm-overwrite-container\", children: [\n            _jsx(Radio, { className: \"sdm-radio\", value: 2, children:\n              t('Overwrite existing') }\n            ),\n            _jsx(\"div\", { className: \"sdm-autocomplete\", children:\n              _jsx(AsyncSelect, { allowClear: true, showSearch: true, placeholder: t('Select or type dataset name'), ariaLabel: t('Existing dataset'), onChange: handleOverwriteDatasetOption, options: (input) => loadDatasetOverwriteOptions(input), value: selectedDatasetToOverwrite, filterOption: filterAutocompleteOption, disabled: newOrOverwrite !== 2, getPopupContainer: () => document.body }) }\n            )] }\n          )] }\n        )] }\n      ),\n      shouldOverwriteDataset && _jsx(\"div\", { className: \"sdm-overwrite-msg\", children:\n        t('Are you sure you want to overwrite this dataset?') }\n      )] }\n    ) }\n  );\n};__signature__(SaveDatasetModal, \"useSelector{defaultVizType}\\nuseState{[datasetName, setDatasetName](getDefaultDatasetName())}\\nuseState{[newOrOverwrite, setNewOrOverwrite](DatasetRadioState.SaveNew)}\\nuseState{[shouldOverwriteDataset, setShouldOverwriteDataset](false)}\\nuseState{[datasetToOverwrite, setDatasetToOverwrite]({})}\\nuseState{[selectedDatasetToOverwrite, setSelectedDatasetToOverwrite](undefined)}\\nuseState{[loading, setLoading](false)}\\nuseSelector{user}\\nuseDispatch{dispatch}\\nuseCallback{loadDatasetOverwriteOptions}\", () => [useSelector, useSelector, useDispatch]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Styles, \"Styles\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/SaveDatasetModal/index.tsx\");reactHotLoader.register(updateDataset, \"updateDataset\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/SaveDatasetModal/index.tsx\");reactHotLoader.register(UNTITLED, \"UNTITLED\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/SaveDatasetModal/index.tsx\");reactHotLoader.register(SaveDatasetModal, \"SaveDatasetModal\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/SaveDatasetModal/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useState","Radio","AsyncSelect","Input","StyledModal","Button","styled","t","SupersetClient","VizType","useSelector","useDispatch","dayjs","rison","createDatasource","addDangerToast","DatasetRadioState","EXPLORE_CHART_DEFAULT","mountExploreUrl","postFormData","URL_PARAMS","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Styles","div","theme","gridUnit","updateDataset","dbId","datasetId","sql","columns","owners","overrideColumns","endpoint","headers","body","JSON","stringify","database_id","data","put","json","result","UNTITLED","SaveDatasetModal","visible","onHide","buttonTextOnSave","buttonTextOnOverwrite","modalDescription","datasource","openWindow","formData","defaultVizType","state","_state$common","_state$common$conf","common","conf","DEFAULT_VIZ_TYPE","Table","getDefaultDatasetName","name","format","datasetName","setDatasetName","newOrOverwrite","setNewOrOverwrite","SaveNew","shouldOverwriteDataset","setShouldOverwriteDataset","datasetToOverwrite","setDatasetToOverwrite","selectedDatasetToOverwrite","setSelectedDatasetToOverwrite","undefined","loading","setLoading","user","dispatch","createWindow","url","window","open","location","href","formDataWithDefaults","handleOverwriteDataset","_datasource$columns","_datasetToOverwrite$o","_datasource$columns2","key","Promise","all","datasetid","map","d","column_name","type","is_dttm","o","id","all_columns","column","formDataKey","loadDatasetOverwriteOptions","input","userId","queryParams","encode","filters","col","opr","value","order_column","order_direction","get","then","response","r","table_name","label","totalCount","count","handleSaveInDataset","_datasource$columns3","_datasource$database","selectedColumns","templateParams","p","parse","_filters","database","catalog","schema","datasourceName","catch","handleOverwriteDatasetOption","option","handleDatasetNameChange","e","target","handleOverwriteCancel","disableSaveAndExploreBtn","length","OverwriteDataset","_isEmpty","filterAutocompleteOption","inputValue","toLowerCase","includes","show","title","footer","children","disabled","buttonStyle","onClick","className","Group","onChange","Number","allowClear","showSearch","placeholder","ariaLabel","options","filterOption","getPopupContainer","document","__signature__","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/SaveDatasetModal/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback, useState, FormEvent } from 'react';\n\nimport { Radio, RadioChangeEvent } from 'src/components/Radio';\nimport { AsyncSelect } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport StyledModal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport {\n  styled,\n  t,\n  SupersetClient,\n  JsonResponse,\n  JsonObject,\n  QueryResponse,\n  QueryFormData,\n  VizType,\n} from '@superset-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport dayjs from 'dayjs';\nimport rison from 'rison';\nimport { createDatasource } from 'src/SqlLab/actions/sqlLab';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\nimport { UserWithPermissionsAndRoles as User } from 'src/types/bootstrapTypes';\nimport {\n  DatasetRadioState,\n  EXPLORE_CHART_DEFAULT,\n  DatasetOwner,\n  SqlLabRootState,\n} from 'src/SqlLab/types';\nimport { mountExploreUrl } from 'src/explore/exploreUtils';\nimport { postFormData } from 'src/explore/exploreUtils/formData';\nimport { URL_PARAMS } from 'src/constants';\n// eslint-disable-next-line no-restricted-imports\nimport { SelectValue } from 'antd/lib/select'; // TODO: Remove antd\nimport { isEmpty } from 'lodash';\n\ninterface QueryDatabase {\n  id?: number;\n}\n\nexport type ExploreQuery = QueryResponse & {\n  database?: QueryDatabase | null | undefined;\n};\n\nexport interface ISimpleColumn {\n  column_name?: string | null;\n  name?: string | null;\n  type?: string | null;\n  is_dttm?: boolean | null;\n}\n\nexport type Database = {\n  backend: string;\n  id: number;\n  parameter: object;\n};\n\nexport interface ISaveableDatasource {\n  columns: ISimpleColumn[];\n  name: string;\n  dbId: number;\n  sql: string;\n  templateParams?: string | object | null;\n  catalog?: string | null;\n  schema?: string | null;\n  database?: Database;\n}\n\ninterface SaveDatasetModalProps {\n  visible: boolean;\n  onHide: () => void;\n  buttonTextOnSave: string;\n  buttonTextOnOverwrite: string;\n  modalDescription?: string;\n  datasource: ISaveableDatasource;\n  openWindow?: boolean;\n  formData?: Omit<QueryFormData, 'datasource'>;\n}\n\nconst Styles = styled.div`\n  ${({ theme }) => `\n  .sdm-body {\n    margin: 0 ${theme.gridUnit * 2}px;\n  }\n  .sdm-input {\n    margin-left: ${theme.gridUnit * 10}px;\n    width: 401px;\n  }\n  .sdm-autocomplete {\n    width: 401px;\n    align-self: center;\n    margin-left: ${theme.gridUnit}px;\n  }\n  .sdm-radio {\n    height: 30px;\n    margin: 10px 0px;\n    line-height: 30px;\n  }\n  .sdm-radio span {\n    display: inline-flex;\n    padding-right: 0px;\n  }\n  .sdm-overwrite-msg {\n    margin: ${theme.gridUnit * 2}px;\n  }\n  .sdm-overwrite-container {\n    flex: 1 1 auto;\n    display: flex;\n  `}\n`;\nconst updateDataset = async (\n  dbId: number,\n  datasetId: number,\n  sql: string,\n  columns: Array<Record<string, any>>,\n  owners: [number],\n  overrideColumns: boolean,\n) => {\n  const endpoint = `api/v1/dataset/${datasetId}?override_columns=${overrideColumns}`;\n  const headers = { 'Content-Type': 'application/json' };\n  const body = JSON.stringify({\n    sql,\n    columns,\n    owners,\n    database_id: dbId,\n  });\n\n  const data: JsonResponse = await SupersetClient.put({\n    endpoint,\n    headers,\n    body,\n  });\n  return data.json.result;\n};\n\nconst UNTITLED = t('Untitled Dataset');\n\nexport const SaveDatasetModal = ({\n  visible,\n  onHide,\n  buttonTextOnSave,\n  buttonTextOnOverwrite,\n  modalDescription,\n  datasource,\n  openWindow = true,\n  formData = {},\n}: SaveDatasetModalProps) => {\n  const defaultVizType = useSelector<SqlLabRootState, string>(\n    state => state.common?.conf?.DEFAULT_VIZ_TYPE || VizType.Table,\n  );\n\n  const getDefaultDatasetName = () =>\n    `${datasource?.name || UNTITLED} ${dayjs().format('L HH:mm:ss')}`;\n  const [datasetName, setDatasetName] = useState(getDefaultDatasetName());\n  const [newOrOverwrite, setNewOrOverwrite] = useState(\n    DatasetRadioState.SaveNew,\n  );\n  const [shouldOverwriteDataset, setShouldOverwriteDataset] = useState(false);\n  const [datasetToOverwrite, setDatasetToOverwrite] = useState<\n    Record<string, any>\n  >({});\n  const [selectedDatasetToOverwrite, setSelectedDatasetToOverwrite] = useState<\n    SelectValue | undefined\n  >(undefined);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const user = useSelector<SqlLabRootState, User>(state => state.user);\n  const dispatch = useDispatch<(dispatch: any) => Promise<JsonObject>>();\n\n  const createWindow = (url: string) => {\n    if (openWindow) {\n      window.open(url, '_blank', 'noreferrer');\n    } else {\n      window.location.href = url;\n    }\n  };\n  const formDataWithDefaults = {\n    ...EXPLORE_CHART_DEFAULT,\n    ...(formData || {}),\n  };\n  const handleOverwriteDataset = async () => {\n    // if user wants to overwrite a dataset we need to prompt them\n    if (!shouldOverwriteDataset) {\n      setShouldOverwriteDataset(true);\n      return;\n    }\n    setLoading(true);\n\n    const [, key] = await Promise.all([\n      updateDataset(\n        datasource?.dbId,\n        datasetToOverwrite?.datasetid,\n        datasource?.sql,\n        datasource?.columns?.map(\n          (d: { column_name: string; type: string; is_dttm: boolean }) => ({\n            column_name: d.column_name,\n            type: d.type,\n            is_dttm: d.is_dttm,\n          }),\n        ),\n        datasetToOverwrite?.owners?.map((o: DatasetOwner) => o.id),\n        true,\n      ),\n      postFormData(datasetToOverwrite.datasetid, 'table', {\n        ...formDataWithDefaults,\n        datasource: `${datasetToOverwrite.datasetid}__table`,\n        ...(defaultVizType === VizType.Table && {\n          all_columns: datasource?.columns?.map(column => column.column_name),\n        }),\n      }),\n    ]);\n    setLoading(false);\n\n    const url = mountExploreUrl(null, {\n      [URL_PARAMS.formDataKey.name]: key,\n    });\n    createWindow(url);\n\n    setShouldOverwriteDataset(false);\n    setDatasetName(getDefaultDatasetName());\n    onHide();\n  };\n\n  const loadDatasetOverwriteOptions = useCallback(\n    async (input = '') => {\n      const { userId } = user;\n      const queryParams = rison.encode({\n        filters: [\n          {\n            col: 'table_name',\n            opr: 'ct',\n            value: input,\n          },\n          {\n            col: 'owners',\n            opr: 'rel_m_m',\n            value: userId,\n          },\n        ],\n        order_column: 'changed_on_delta_humanized',\n        order_direction: 'desc',\n      });\n\n      return SupersetClient.get({\n        endpoint: `/api/v1/dataset/?q=${queryParams}`,\n      }).then(response => ({\n        data: response.json.result.map(\n          (r: { table_name: string; id: number; owners: [DatasetOwner] }) => ({\n            value: r.table_name,\n            label: r.table_name,\n            datasetid: r.id,\n            owners: r.owners,\n          }),\n        ),\n        totalCount: response.json.count,\n      }));\n    },\n    [user],\n  );\n\n  const handleSaveInDataset = () => {\n    setLoading(true);\n    const selectedColumns = datasource?.columns ?? [];\n\n    // The filters param is only used to test jinja templates.\n    // Remove the special filters entry from the templateParams\n    // before saving the dataset.\n    let templateParams;\n    if (typeof datasource?.templateParams === 'string') {\n      const p = JSON.parse(datasource.templateParams);\n      /* eslint-disable-next-line no-underscore-dangle */\n      if (p._filters) {\n        /* eslint-disable-next-line no-underscore-dangle */\n        delete p._filters;\n        // eslint-disable-next-line no-param-reassign\n        templateParams = JSON.stringify(p);\n      }\n    }\n\n    dispatch(\n      createDatasource({\n        sql: datasource.sql,\n        dbId: datasource.dbId || datasource?.database?.id,\n        catalog: datasource?.catalog,\n        schema: datasource?.schema,\n        templateParams,\n        datasourceName: datasetName,\n      }),\n    )\n      .then((data: { id: number }) =>\n        postFormData(data.id, 'table', {\n          ...formDataWithDefaults,\n          datasource: `${data.id}__table`,\n          ...(defaultVizType === VizType.Table && {\n            all_columns: selectedColumns.map(column => column.column_name),\n          }),\n        }),\n      )\n      .then((key: string) => {\n        setLoading(false);\n        const url = mountExploreUrl(null, {\n          [URL_PARAMS.formDataKey.name]: key,\n        });\n        createWindow(url);\n        setDatasetName(getDefaultDatasetName());\n        onHide();\n      })\n      .catch(() => {\n        setLoading(false);\n        addDangerToast(t('An error occurred saving dataset'));\n      });\n  };\n\n  const handleOverwriteDatasetOption = (value: SelectValue, option: any) => {\n    setDatasetToOverwrite(option);\n    setSelectedDatasetToOverwrite(value);\n  };\n\n  const handleDatasetNameChange = (e: FormEvent<HTMLInputElement>) => {\n    // @ts-expect-error\n    setDatasetName(e.target.value);\n  };\n\n  const handleOverwriteCancel = () => {\n    setShouldOverwriteDataset(false);\n    setDatasetToOverwrite({});\n  };\n\n  const disableSaveAndExploreBtn =\n    (newOrOverwrite === DatasetRadioState.SaveNew &&\n      datasetName.length === 0) ||\n    (newOrOverwrite === DatasetRadioState.OverwriteDataset &&\n      isEmpty(selectedDatasetToOverwrite));\n\n  const filterAutocompleteOption = (\n    inputValue: string,\n    option: { value: string; datasetid: number },\n  ) => option.value.toLowerCase().includes(inputValue.toLowerCase());\n\n  return (\n    <StyledModal\n      show={visible}\n      title={t('Save or Overwrite Dataset')}\n      onHide={onHide}\n      footer={\n        <>\n          {newOrOverwrite === DatasetRadioState.SaveNew && (\n            <Button\n              disabled={disableSaveAndExploreBtn}\n              buttonStyle=\"primary\"\n              onClick={handleSaveInDataset}\n              loading={loading}\n            >\n              {buttonTextOnSave}\n            </Button>\n          )}\n          {newOrOverwrite === DatasetRadioState.OverwriteDataset && (\n            <>\n              {shouldOverwriteDataset && (\n                <Button onClick={handleOverwriteCancel}>{t('Back')}</Button>\n              )}\n              <Button\n                className=\"md\"\n                buttonStyle=\"primary\"\n                onClick={handleOverwriteDataset}\n                disabled={disableSaveAndExploreBtn}\n                loading={loading}\n              >\n                {buttonTextOnOverwrite}\n              </Button>\n            </>\n          )}\n        </>\n      }\n    >\n      <Styles>\n        {!shouldOverwriteDataset && (\n          <div className=\"sdm-body\">\n            {modalDescription && (\n              <div className=\"sdm-prompt\">{modalDescription}</div>\n            )}\n            <Radio.Group\n              onChange={(e: RadioChangeEvent) => {\n                setNewOrOverwrite(Number(e.target.value));\n              }}\n              value={newOrOverwrite}\n            >\n              <Radio className=\"sdm-radio\" value={1}>\n                {t('Save as new')}\n                <Input\n                  className=\"sdm-input\"\n                  value={datasetName}\n                  onChange={handleDatasetNameChange}\n                  disabled={newOrOverwrite !== 1}\n                />\n              </Radio>\n              <div className=\"sdm-overwrite-container\">\n                <Radio className=\"sdm-radio\" value={2}>\n                  {t('Overwrite existing')}\n                </Radio>\n                <div className=\"sdm-autocomplete\">\n                  <AsyncSelect\n                    allowClear\n                    showSearch\n                    placeholder={t('Select or type dataset name')}\n                    ariaLabel={t('Existing dataset')}\n                    onChange={handleOverwriteDatasetOption}\n                    options={input => loadDatasetOverwriteOptions(input)}\n                    value={selectedDatasetToOverwrite}\n                    filterOption={filterAutocompleteOption}\n                    disabled={newOrOverwrite !== 2}\n                    getPopupContainer={() => document.body}\n                  />\n                </div>\n              </div>\n            </Radio.Group>\n          </div>\n        )}\n        {shouldOverwriteDataset && (\n          <div className=\"sdm-overwrite-msg\">\n            {t('Are you sure you want to overwrite this dataset?')}\n          </div>\n        )}\n      </Styles>\n    </StyledModal>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}