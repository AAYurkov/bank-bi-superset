{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useMemo } from 'react';\n\nimport { Behavior, css, extractQueryFields, getChartMetadataRegistry, removeHTMLTags, styled, t } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport { Menu } from 'src/components/Menu';\nimport { getSubmenuYOffset } from '../utils';\nimport { MenuItemTooltip } from '../DisabledMenuItemTooltip';\nimport { MenuItemWithTruncation } from '../MenuItemWithTruncation';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst DRILL_TO_DETAIL = t('Drill to detail');\nconst DRILL_TO_DETAIL_BY = t('Drill to detail by');\nconst DISABLED_REASONS = {\n  DATABASE: t('Drill to detail is disabled for this database. Change the database settings to enable it.'),\n  NO_AGGREGATIONS: t('Drill to detail is disabled because this chart does not group data by dimension value.'),\n  NO_FILTERS: t('Right-click on a dimension value to drill to detail by that value.'),\n  NOT_SUPPORTED: t('Drill to detail by value is not yet supported for this chart type.')\n};\nconst DisabledMenuItem = ({ children, menuKey, ...rest }) => _jsx(Menu.Item, { disabled: true, ...rest, children:\n  _jsx(\"div\", { css: css`\n        white-space: normal;\n        max-width: 160px;\n      `, children:\n    children }\n  ) }, menuKey\n);\nconst Filter = ({ children, stripHTML = false }) => {\n  const content = stripHTML && typeof children === 'string' ?\n  removeHTMLTags(children) :\n  children;\n  return _jsx(\"span\", { children: content });\n};\nconst StyledFilter = styled(Filter)`\n  ${({ theme }) => `\n     font-weight: ${theme.typography.weights.bold};\n     color: ${theme.colors.primary.base};\n   `}\n`;\nconst DrillDetailMenuItems = ({ formData, filters = [], isContextMenu = false, contextMenuY = 0, onSelection = () => null, onClick = () => null, submenuIndex = 0, setFilters, setShowModal, key, ...props }) => {\n  const drillToDetailDisabled = useSelector(({ datasources }) => {var _datasources$formData, _datasources$formData2;return (_datasources$formData = datasources[formData.datasource]) == null ? void 0 : (_datasources$formData2 = _datasources$formData.database) == null ? void 0 : _datasources$formData2.disable_drill_to_detail;});\n  const openModal = useCallback((filters, event) => {\n    onClick(event);\n    onSelection();\n    setFilters(filters);\n    setShowModal(true);\n  }, [onClick, onSelection]);\n  // Check for Behavior.DRILL_TO_DETAIL to tell if plugin handles the `contextmenu`\n  // event for dimensions.  If it doesn't, tell the user that drill to detail by\n  // dimension is not supported.  If it does, and the `contextmenu` handler didn't\n  // pass any filters, tell the user that they didn't select a dimension.\n  const handlesDimensionContextMenu = useMemo(() => {var _getChartMetadataRegi;return (_getChartMetadataRegi = getChartMetadataRegistry().\n    get(formData.viz_type)) == null ? void 0 : _getChartMetadataRegi.\n    behaviors.find((behavior) => behavior === Behavior.DrillToDetail);}, [formData.viz_type]);\n  // Check metrics to see if chart's current configuration lacks\n  // aggregations, in which case Drill to Detail should be disabled.\n  const noAggregations = useMemo(() => {\n    const { metrics } = extractQueryFields(formData);\n    return _isEmpty(metrics);\n  }, [formData]);\n  // Ensure submenu doesn't appear offscreen\n  const submenuYOffset = useMemo(() => getSubmenuYOffset(contextMenuY, filters.length > 1 ? filters.length + 1 : filters.length, submenuIndex), [contextMenuY, filters.length, submenuIndex]);\n  let drillDisabled;\n  let drillByDisabled;\n  if (drillToDetailDisabled) {\n    drillDisabled = DISABLED_REASONS.DATABASE;\n    drillByDisabled = DISABLED_REASONS.DATABASE;\n  } else\n  if (handlesDimensionContextMenu) {\n    if (noAggregations) {\n      drillDisabled = DISABLED_REASONS.NO_AGGREGATIONS;\n      drillByDisabled = DISABLED_REASONS.NO_AGGREGATIONS;\n    } else\n    if (!(filters != null && filters.length)) {\n      drillByDisabled = DISABLED_REASONS.NO_FILTERS;\n    }\n  } else\n  {\n    drillByDisabled = DISABLED_REASONS.NOT_SUPPORTED;\n  }\n  const drillToDetailMenuItem = drillDisabled ? _jsxs(DisabledMenuItem, { menuKey: \"drill-to-detail-disabled\", ...props, children: [\n    DRILL_TO_DETAIL,\n    _jsx(MenuItemTooltip, { title: drillDisabled })] }\n  ) : _jsx(Menu.Item, { onClick: openModal.bind(null, []), children:\n    DRILL_TO_DETAIL }, \"drill-to-detail\"\n  );\n  const drillToDetailByMenuItem = drillByDisabled ? _jsxs(DisabledMenuItem, { menuKey: \"drill-to-detail-by-disabled\", ...props, children: [\n    DRILL_TO_DETAIL_BY,\n    _jsx(MenuItemTooltip, { title: drillByDisabled })] }\n  ) : _jsx(Menu.SubMenu, { popupOffset: [0, submenuYOffset], popupClassName: \"chart-context-submenu\", title: DRILL_TO_DETAIL_BY, ...props, children:\n    _jsxs(\"div\", { \"data-test\": \"drill-to-detail-by-submenu\", children: [\n      filters.map((filter, i) => _jsxs(MenuItemWithTruncation, { tooltipText: `${DRILL_TO_DETAIL_BY} ${filter.formattedVal}`, menuKey: `drill-detail-filter-${i}`, onClick: openModal.bind(null, [filter]), children: [\n        `${DRILL_TO_DETAIL_BY} `,\n        _jsx(StyledFilter, { stripHTML: true, children: filter.formattedVal })] }\n      )),\n      filters.length > 1 && _jsx(Menu.Item, { onClick: openModal.bind(null, filters), children:\n        _jsxs(\"div\", { children: [\n          `${DRILL_TO_DETAIL_BY} `,\n          _jsx(StyledFilter, { stripHTML: false, children: t('all') })] }\n        ) }, \"drill-detail-filter-all\"\n      )] }\n    ) }, key\n  );\n  return _jsxs(_Fragment, { children: [\n    drillToDetailMenuItem,\n    isContextMenu && drillToDetailByMenuItem] }\n  );\n};__signature__(DrillDetailMenuItems, \"useSelector{drillToDetailDisabled}\\nuseCallback{openModal}\\nuseMemo{handlesDimensionContextMenu}\\nuseMemo{noAggregations}\\nuseMemo{submenuYOffset}\", () => [useSelector]);const _default =\nDrillDetailMenuItems;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DRILL_TO_DETAIL, \"DRILL_TO_DETAIL\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(DRILL_TO_DETAIL_BY, \"DRILL_TO_DETAIL_BY\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(DISABLED_REASONS, \"DISABLED_REASONS\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(DisabledMenuItem, \"DisabledMenuItem\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(Filter, \"Filter\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(StyledFilter, \"StyledFilter\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(DrillDetailMenuItems, \"DrillDetailMenuItems\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useMemo","Behavior","css","extractQueryFields","getChartMetadataRegistry","removeHTMLTags","styled","t","useSelector","Menu","getSubmenuYOffset","MenuItemTooltip","MenuItemWithTruncation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DRILL_TO_DETAIL","DRILL_TO_DETAIL_BY","DISABLED_REASONS","DATABASE","NO_AGGREGATIONS","NO_FILTERS","NOT_SUPPORTED","DisabledMenuItem","children","menuKey","rest","Item","disabled","Filter","stripHTML","content","StyledFilter","theme","typography","weights","bold","colors","primary","base","DrillDetailMenuItems","formData","filters","isContextMenu","contextMenuY","onSelection","onClick","submenuIndex","setFilters","setShowModal","key","props","drillToDetailDisabled","datasources","_datasources$formData","_datasources$formData2","datasource","database","disable_drill_to_detail","openModal","event","handlesDimensionContextMenu","_getChartMetadataRegi","get","viz_type","behaviors","find","behavior","DrillToDetail","noAggregations","metrics","_isEmpty","submenuYOffset","length","drillDisabled","drillByDisabled","drillToDetailMenuItem","title","bind","drillToDetailByMenuItem","SubMenu","popupOffset","popupClassName","map","filter","i","tooltipText","formattedVal","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/Chart/DrillDetail/DrillDetailMenuItems.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  Dispatch,\n  ReactNode,\n  SetStateAction,\n  useCallback,\n  useMemo,\n} from 'react';\nimport { isEmpty } from 'lodash';\nimport {\n  Behavior,\n  BinaryQueryObjectFilterClause,\n  css,\n  extractQueryFields,\n  getChartMetadataRegistry,\n  QueryFormData,\n  removeHTMLTags,\n  styled,\n  t,\n} from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport { Menu } from 'src/components/Menu';\nimport { RootState } from 'src/dashboard/types';\nimport { getSubmenuYOffset } from '../utils';\nimport { MenuItemTooltip } from '../DisabledMenuItemTooltip';\nimport { MenuItemWithTruncation } from '../MenuItemWithTruncation';\n\nconst DRILL_TO_DETAIL = t('Drill to detail');\nconst DRILL_TO_DETAIL_BY = t('Drill to detail by');\nconst DISABLED_REASONS = {\n  DATABASE: t(\n    'Drill to detail is disabled for this database. Change the database settings to enable it.',\n  ),\n  NO_AGGREGATIONS: t(\n    'Drill to detail is disabled because this chart does not group data by dimension value.',\n  ),\n  NO_FILTERS: t(\n    'Right-click on a dimension value to drill to detail by that value.',\n  ),\n  NOT_SUPPORTED: t(\n    'Drill to detail by value is not yet supported for this chart type.',\n  ),\n};\n\nconst DisabledMenuItem = ({\n  children,\n  menuKey,\n  ...rest\n}: {\n  children: ReactNode;\n  menuKey: string;\n}) => (\n  <Menu.Item disabled key={menuKey} {...rest}>\n    <div\n      css={css`\n        white-space: normal;\n        max-width: 160px;\n      `}\n    >\n      {children}\n    </div>\n  </Menu.Item>\n);\n\nconst Filter = ({\n  children,\n  stripHTML = false,\n}: {\n  children: ReactNode;\n  stripHTML: boolean;\n}) => {\n  const content =\n    stripHTML && typeof children === 'string'\n      ? removeHTMLTags(children)\n      : children;\n  return <span>{content}</span>;\n};\n\nconst StyledFilter = styled(Filter)`\n  ${({ theme }) => `\n     font-weight: ${theme.typography.weights.bold};\n     color: ${theme.colors.primary.base};\n   `}\n`;\n\nexport type DrillDetailMenuItemsProps = {\n  formData: QueryFormData;\n  filters?: BinaryQueryObjectFilterClause[];\n  setFilters: Dispatch<SetStateAction<BinaryQueryObjectFilterClause[]>>;\n  isContextMenu?: boolean;\n  contextMenuY?: number;\n  onSelection?: () => void;\n  onClick?: (event: MouseEvent) => void;\n  submenuIndex?: number;\n  setShowModal: (show: boolean) => void;\n  key?: string;\n  forceSubmenuRender?: boolean;\n};\n\nconst DrillDetailMenuItems = ({\n  formData,\n  filters = [],\n  isContextMenu = false,\n  contextMenuY = 0,\n  onSelection = () => null,\n  onClick = () => null,\n  submenuIndex = 0,\n  setFilters,\n  setShowModal,\n  key,\n  ...props\n}: DrillDetailMenuItemsProps) => {\n  const drillToDetailDisabled = useSelector<RootState, boolean | undefined>(\n    ({ datasources }) =>\n      datasources[formData.datasource]?.database?.disable_drill_to_detail,\n  );\n\n  const openModal = useCallback(\n    (filters, event) => {\n      onClick(event);\n      onSelection();\n      setFilters(filters);\n      setShowModal(true);\n    },\n    [onClick, onSelection],\n  );\n\n  // Check for Behavior.DRILL_TO_DETAIL to tell if plugin handles the `contextmenu`\n  // event for dimensions.  If it doesn't, tell the user that drill to detail by\n  // dimension is not supported.  If it does, and the `contextmenu` handler didn't\n  // pass any filters, tell the user that they didn't select a dimension.\n  const handlesDimensionContextMenu = useMemo(\n    () =>\n      getChartMetadataRegistry()\n        .get(formData.viz_type)\n        ?.behaviors.find(behavior => behavior === Behavior.DrillToDetail),\n    [formData.viz_type],\n  );\n\n  // Check metrics to see if chart's current configuration lacks\n  // aggregations, in which case Drill to Detail should be disabled.\n  const noAggregations = useMemo(() => {\n    const { metrics } = extractQueryFields(formData);\n    return isEmpty(metrics);\n  }, [formData]);\n\n  // Ensure submenu doesn't appear offscreen\n  const submenuYOffset = useMemo(\n    () =>\n      getSubmenuYOffset(\n        contextMenuY,\n        filters.length > 1 ? filters.length + 1 : filters.length,\n        submenuIndex,\n      ),\n    [contextMenuY, filters.length, submenuIndex],\n  );\n\n  let drillDisabled;\n  let drillByDisabled;\n  if (drillToDetailDisabled) {\n    drillDisabled = DISABLED_REASONS.DATABASE;\n    drillByDisabled = DISABLED_REASONS.DATABASE;\n  } else if (handlesDimensionContextMenu) {\n    if (noAggregations) {\n      drillDisabled = DISABLED_REASONS.NO_AGGREGATIONS;\n      drillByDisabled = DISABLED_REASONS.NO_AGGREGATIONS;\n    } else if (!filters?.length) {\n      drillByDisabled = DISABLED_REASONS.NO_FILTERS;\n    }\n  } else {\n    drillByDisabled = DISABLED_REASONS.NOT_SUPPORTED;\n  }\n\n  const drillToDetailMenuItem = drillDisabled ? (\n    <DisabledMenuItem menuKey=\"drill-to-detail-disabled\" {...props}>\n      {DRILL_TO_DETAIL}\n      <MenuItemTooltip title={drillDisabled} />\n    </DisabledMenuItem>\n  ) : (\n    <Menu.Item key=\"drill-to-detail\" onClick={openModal.bind(null, [])}>\n      {DRILL_TO_DETAIL}\n    </Menu.Item>\n  );\n\n  const drillToDetailByMenuItem = drillByDisabled ? (\n    <DisabledMenuItem menuKey=\"drill-to-detail-by-disabled\" {...props}>\n      {DRILL_TO_DETAIL_BY}\n      <MenuItemTooltip title={drillByDisabled} />\n    </DisabledMenuItem>\n  ) : (\n    <Menu.SubMenu\n      popupOffset={[0, submenuYOffset]}\n      popupClassName=\"chart-context-submenu\"\n      title={DRILL_TO_DETAIL_BY}\n      key={key}\n      {...props}\n    >\n      <div data-test=\"drill-to-detail-by-submenu\">\n        {filters.map((filter, i) => (\n          <MenuItemWithTruncation\n            tooltipText={`${DRILL_TO_DETAIL_BY} ${filter.formattedVal}`}\n            menuKey={`drill-detail-filter-${i}`}\n            onClick={openModal.bind(null, [filter])}\n          >\n            {`${DRILL_TO_DETAIL_BY} `}\n            <StyledFilter stripHTML>{filter.formattedVal}</StyledFilter>\n          </MenuItemWithTruncation>\n        ))}\n        {filters.length > 1 && (\n          <Menu.Item\n            key=\"drill-detail-filter-all\"\n            onClick={openModal.bind(null, filters)}\n          >\n            <div>\n              {`${DRILL_TO_DETAIL_BY} `}\n              <StyledFilter stripHTML={false}>{t('all')}</StyledFilter>\n            </div>\n          </Menu.Item>\n        )}\n      </div>\n    </Menu.SubMenu>\n  );\n\n  return (\n    <>\n      {drillToDetailMenuItem}\n      {isContextMenu && drillToDetailByMenuItem}\n    </>\n  );\n};\n\nexport default DrillDetailMenuItems;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}