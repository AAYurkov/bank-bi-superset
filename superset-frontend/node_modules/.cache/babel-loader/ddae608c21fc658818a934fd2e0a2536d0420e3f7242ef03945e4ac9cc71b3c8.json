{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport { css, t, isDefined, styled } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { OPEN_FILTER_BAR_WIDTH } from 'src/dashboard/constants';\nimport { rgba } from 'emotion-rgba';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { getFilterBarTestId } from '../utils';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst containerStyle = (theme) => css`\n  display: flex;\n\n  && > .filter-clear-all-button {\n    color: ${theme.colors.grayscale.base};\n    margin-left: 0;\n    &:hover {\n      color: ${theme.colors.primary.dark1};\n    }\n\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n    }\n  }\n`;\nconst verticalStyle = (theme, width) => css`\n  flex-direction: column;\n  align-items: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 100;\n\n  // filter bar width minus 1px for border\n  width: ${width - 1}px;\n  bottom: 0;\n\n  padding: ${theme.gridUnit * 4}px;\n  padding-top: ${theme.gridUnit * 6}px;\n\n  background: linear-gradient(\n    ${rgba(theme.colors.grayscale.light5, 0)},\n    ${theme.colors.grayscale.light5} ${theme.opacity.mediumLight}\n  );\n\n  & > button {\n    pointer-events: auto;\n  }\n\n  & > .filter-apply-button {\n    margin-bottom: ${theme.gridUnit * 3}px;\n  }\n`;\nconst horizontalStyle = (theme) => css`\n  align-items: center;\n  margin-left: auto;\n  && > .filter-clear-all-button {\n    text-transform: capitalize;\n    font-weight: ${theme.typography.weights.normal};\n  }\n  & > .filter-apply-button {\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n      background: ${theme.colors.grayscale.light3};\n    }\n  }\n`;\nconst ButtonsContainer = styled.div`\n  ${({ theme, isVertical, width }) => css`\n    ${containerStyle(theme)};\n    ${isVertical ? verticalStyle(theme, width) : horizontalStyle(theme)};\n  `}\n`;\nconst ActionButtons = ({ width = OPEN_FILTER_BAR_WIDTH, onApply, onClearAll, dataMaskApplied, dataMaskSelected, isApplyDisabled, filterBarOrientation = FilterBarOrientation.Vertical }) => {\n  const isClearAllEnabled = useMemo(() => Object.values(dataMaskApplied).some((filter) => {var _dataMaskSelected$fil, _dataMaskSelected$fil2, _filter$filterState;return isDefined((_dataMaskSelected$fil = dataMaskSelected[filter.id]) == null ? void 0 : (_dataMaskSelected$fil2 = _dataMaskSelected$fil.filterState) == null ? void 0 : _dataMaskSelected$fil2.value) ||\n    !dataMaskSelected[filter.id] &&\n    isDefined((_filter$filterState = filter.filterState) == null ? void 0 : _filter$filterState.value);}), [dataMaskApplied, dataMaskSelected]);\n  const isVertical = filterBarOrientation === FilterBarOrientation.Vertical;\n  return _jsxs(ButtonsContainer, { isVertical: isVertical, width: width, \"data-test\": \"filterbar-action-buttons\", children: [\n    _jsx(Button, { disabled: isApplyDisabled, buttonStyle: \"primary\", htmlType: \"submit\", className: \"filter-apply-button\", onClick: onApply, ...getFilterBarTestId('apply-button'), children:\n      isVertical ? t('Apply filters') : t('Apply') }\n    ),\n    _jsx(Button, { disabled: !isClearAllEnabled, buttonStyle: \"link\", buttonSize: \"small\", className: \"filter-clear-all-button\", onClick: onClearAll, ...getFilterBarTestId('clear-button'), children:\n      t('Clear all') }\n    )] }\n  );\n};__signature__(ActionButtons, \"useMemo{isClearAllEnabled}\");const _default =\nActionButtons;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(containerStyle, \"containerStyle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(verticalStyle, \"verticalStyle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(horizontalStyle, \"horizontalStyle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(ButtonsContainer, \"ButtonsContainer\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(ActionButtons, \"ActionButtons\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","css","t","isDefined","styled","Button","OPEN_FILTER_BAR_WIDTH","rgba","FilterBarOrientation","getFilterBarTestId","jsx","_jsx","jsxs","_jsxs","containerStyle","theme","colors","grayscale","base","primary","dark1","light1","verticalStyle","width","gridUnit","light5","opacity","mediumLight","horizontalStyle","typography","weights","normal","light3","ButtonsContainer","div","isVertical","ActionButtons","onApply","onClearAll","dataMaskApplied","dataMaskSelected","isApplyDisabled","filterBarOrientation","Vertical","isClearAllEnabled","Object","values","some","filter","_dataMaskSelected$fil","_dataMaskSelected$fil2","_filter$filterState","id","filterState","value","children","disabled","buttonStyle","htmlType","className","onClick","buttonSize","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport {\n  css,\n  DataMaskState,\n  DataMaskStateWithId,\n  t,\n  isDefined,\n  SupersetTheme,\n  styled,\n} from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { OPEN_FILTER_BAR_WIDTH } from 'src/dashboard/constants';\nimport { rgba } from 'emotion-rgba';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { getFilterBarTestId } from '../utils';\n\ninterface ActionButtonsProps {\n  width?: number;\n  onApply: () => void;\n  onClearAll: () => void;\n  dataMaskSelected: DataMaskState;\n  dataMaskApplied: DataMaskStateWithId;\n  isApplyDisabled: boolean;\n  filterBarOrientation?: FilterBarOrientation;\n}\n\nconst containerStyle = (theme: SupersetTheme) => css`\n  display: flex;\n\n  && > .filter-clear-all-button {\n    color: ${theme.colors.grayscale.base};\n    margin-left: 0;\n    &:hover {\n      color: ${theme.colors.primary.dark1};\n    }\n\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n    }\n  }\n`;\n\nconst verticalStyle = (theme: SupersetTheme, width: number) => css`\n  flex-direction: column;\n  align-items: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 100;\n\n  // filter bar width minus 1px for border\n  width: ${width - 1}px;\n  bottom: 0;\n\n  padding: ${theme.gridUnit * 4}px;\n  padding-top: ${theme.gridUnit * 6}px;\n\n  background: linear-gradient(\n    ${rgba(theme.colors.grayscale.light5, 0)},\n    ${theme.colors.grayscale.light5} ${theme.opacity.mediumLight}\n  );\n\n  & > button {\n    pointer-events: auto;\n  }\n\n  & > .filter-apply-button {\n    margin-bottom: ${theme.gridUnit * 3}px;\n  }\n`;\n\nconst horizontalStyle = (theme: SupersetTheme) => css`\n  align-items: center;\n  margin-left: auto;\n  && > .filter-clear-all-button {\n    text-transform: capitalize;\n    font-weight: ${theme.typography.weights.normal};\n  }\n  & > .filter-apply-button {\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n      background: ${theme.colors.grayscale.light3};\n    }\n  }\n`;\n\nconst ButtonsContainer = styled.div<{ isVertical: boolean; width: number }>`\n  ${({ theme, isVertical, width }) => css`\n    ${containerStyle(theme)};\n    ${isVertical ? verticalStyle(theme, width) : horizontalStyle(theme)};\n  `}\n`;\n\nconst ActionButtons = ({\n  width = OPEN_FILTER_BAR_WIDTH,\n  onApply,\n  onClearAll,\n  dataMaskApplied,\n  dataMaskSelected,\n  isApplyDisabled,\n  filterBarOrientation = FilterBarOrientation.Vertical,\n}: ActionButtonsProps) => {\n  const isClearAllEnabled = useMemo(\n    () =>\n      Object.values(dataMaskApplied).some(\n        filter =>\n          isDefined(dataMaskSelected[filter.id]?.filterState?.value) ||\n          (!dataMaskSelected[filter.id] &&\n            isDefined(filter.filterState?.value)),\n      ),\n    [dataMaskApplied, dataMaskSelected],\n  );\n  const isVertical = filterBarOrientation === FilterBarOrientation.Vertical;\n\n  return (\n    <ButtonsContainer\n      isVertical={isVertical}\n      width={width}\n      data-test=\"filterbar-action-buttons\"\n    >\n      <Button\n        disabled={isApplyDisabled}\n        buttonStyle=\"primary\"\n        htmlType=\"submit\"\n        className=\"filter-apply-button\"\n        onClick={onApply}\n        {...getFilterBarTestId('apply-button')}\n      >\n        {isVertical ? t('Apply filters') : t('Apply')}\n      </Button>\n      <Button\n        disabled={!isClearAllEnabled}\n        buttonStyle=\"link\"\n        buttonSize=\"small\"\n        className=\"filter-clear-all-button\"\n        onClick={onClearAll}\n        {...getFilterBarTestId('clear-button')}\n      >\n        {t('Clear all')}\n      </Button>\n    </ButtonsContainer>\n  );\n};\n\nexport default ActionButtons;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}