{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport ErrorAlert from './ErrorAlert';\n/*\n * Component for showing syntax errors in SQL Lab.\n */import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nfunction InvalidSQLErrorMessage({ error, source, subtitle }) {\n  const { extra, level, message } = error;\n  const { sql, line, column } = extra;\n  const lines = sql == null ? void 0 : sql.split('\\n');\n  let errorLine;\n  if (line !== null && Number.isInteger(line))\n  errorLine = lines[line - 1];else\n  if ((lines == null ? void 0 : lines.length) > 0) {\n    errorLine = lines[0];\n  }\n  const body = errorLine ? _jsxs(_Fragment, { children: [\n    _jsx(\"pre\", { children: errorLine }),\n    column !== null && _jsxs(\"pre\", { children: [' '.repeat(column - 1), \"^\"] })] }\n  ) : message;\n  return _jsx(ErrorAlert, { errorType: t('Unable to parse SQL'), message: subtitle, type: level, description: body });\n}const _default =\nInvalidSQLErrorMessage;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(InvalidSQLErrorMessage, \"InvalidSQLErrorMessage\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/InvalidSQLErrorMessage.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/InvalidSQLErrorMessage.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["t","ErrorAlert","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InvalidSQLErrorMessage","error","source","subtitle","extra","level","message","sql","line","column","lines","split","errorLine","Number","isInteger","length","body","children","repeat","errorType","type","description","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/InvalidSQLErrorMessage.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { t } from '@superset-ui/core';\nimport { ErrorMessageComponentProps } from './types';\nimport ErrorAlert from './ErrorAlert';\n\ninterface SupersetParseErrorExtra {\n  sql: string;\n  engine: string | null;\n  line: number | null;\n  column: number | null;\n}\n\n/*\n * Component for showing syntax errors in SQL Lab.\n */\nfunction InvalidSQLErrorMessage({\n  error,\n  source,\n  subtitle,\n}: ErrorMessageComponentProps<SupersetParseErrorExtra>) {\n  const { extra, level, message } = error;\n\n  const { sql, line, column } = extra;\n  const lines = sql?.split('\\n');\n  let errorLine;\n  if (line !== null && Number.isInteger(line)) errorLine = lines[line - 1];\n  else if (lines?.length > 0) {\n    errorLine = lines[0];\n  }\n  const body = errorLine ? (\n    <>\n      <pre>{errorLine}</pre>\n      {column !== null && <pre>{' '.repeat(column - 1)}^</pre>}\n    </>\n  ) : (\n    message\n  );\n  return (\n    <ErrorAlert\n      errorType={t('Unable to parse SQL')}\n      message={subtitle}\n      type={level}\n      description={body}\n    />\n  );\n}\n\nexport default InvalidSQLErrorMessage;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,SAASA,CAAC,QAAQ,mBAAmB;AAErC,OAAOC,UAAU,MAAM,cAAc;AASrC;;GAAA,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,QAAA,IAAAC,SAAA;AAGA,SAASC,sBAAsBA,CAAC,EAC9BC,KAAK,EACLC,MAAM,EACNC,QAAQ,EAC4C;EACpD,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAE,GAAGL,KAAK;EAEvC,MAAM,EAAEM,GAAG,EAAEC,IAAI,EAAEC,MAAM,EAAE,GAAGL,KAAK;EACnC,MAAMM,KAAK,GAAGH,GAAG,oBAAHA,GAAG,CAAEI,KAAK,CAAC,IAAI,CAAC;EAC9B,IAAIC,SAAS;EACb,IAAIJ,IAAI,KAAK,IAAI,IAAIK,MAAM,CAACC,SAAS,CAACN,IAAI,CAAC;EAAEI,SAAS,GAAGF,KAAK,CAACF,IAAI,GAAG,CAAC,CAAC,CAAC;EACpE,IAAI,CAAAE,KAAK,oBAALA,KAAK,CAAEK,MAAM,IAAG,CAAC,EAAE;IAC1BH,SAAS,GAAGF,KAAK,CAAC,CAAC,CAAC;;EAEtB,MAAMM,IAAI,GAAGJ,SAAS,GACpBf,KAAA,CAAAE,SAAA,IAAAkB,QAAA;IACEtB,IAAA,UAAAsB,QAAA,EAAML,SAAS,EAAM,CACrB;IAACH,MAAM,KAAK,IAAI,IAAIZ,KAAA,UAAAoB,QAAA,GAAM,GAAG,CAACC,MAAM,CAACT,MAAM,GAAG,CAAC,CAAC,EAAC,GAAC,GAAK,CAAC;EAC1D,CAAG,GAEHH,OACD;EACD,OACEX,IAAA,CAACF,UAAU,IACT0B,SAAS,EAAE3B,CAAC,CAAC,qBAAqB,CAAE,EACpCc,OAAO,EAAEH,QAAS,EAClBiB,IAAI,EAAEf,KAAM,EACZgB,WAAW,EAAEL,IAAK,GAClB;AAEN,CAAC,MAAAM,QAAA;AAEctB,sBAAsB,CAArC,eAAAsB,QAAA,CAAsC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAhC7B3B,sBAAsB,iIAAAuB,cAAA,CAAAI,QAAA,CAAAL,QAAA,0IAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}