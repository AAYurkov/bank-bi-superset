{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { t, tn } from '@superset-ui/core';\nimport IssueCode from './IssueCode';\nimport ErrorAlert from './ErrorAlert';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";import { createElement as _createElement } from \"@emotion/react\";\nfunction DatabaseErrorMessage({ error, source, subtitle }) {var _extra$issue_codes;\n  const { extra, level, message } = error;\n  const isVisualization = ['dashboard', 'explore'].includes(source || '');\n  const [firstLine, ...remainingLines] = message.split('\\n');\n  const alertMessage = firstLine;\n  const alertDescription = remainingLines.length > 0 ? remainingLines.join('\\n') : null;\n  const body = extra && _jsxs(_Fragment, { children: [\n    _jsxs(\"p\", { children: [\n      t('This may be triggered by:'),\n      _jsx(\"br\", {}), (_extra$issue_codes =\n      extra.issue_codes) == null ? void 0 : _extra$issue_codes.\n      map((issueCode) => _createElement(IssueCode, { ...issueCode, key: issueCode.code })).\n      reduce((prev, curr) => [prev, _jsx(\"br\", {}), curr])] }\n    ),\n    isVisualization && extra.owners && _jsxs(_Fragment, { children: [\n      _jsx(\"br\", {}),\n      _jsx(\"p\", { children:\n        tn('Please reach out to the Chart Owner for assistance.', 'Please reach out to the Chart Owners for assistance.', extra.owners.length) }\n      ),\n      _jsx(\"p\", { children:\n        tn('Chart Owner: %s', 'Chart Owners: %s', extra.owners.length, extra.owners.join(', ')) }\n      )] }\n    )] }\n  );\n  return _jsx(ErrorAlert, { errorType: t('%s Error', (extra == null ? void 0 : extra.engine_name) || t('DB engine')), message: alertMessage, description: alertDescription, type: level, descriptionDetails: body });\n}const _default =\nDatabaseErrorMessage;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DatabaseErrorMessage, \"DatabaseErrorMessage\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["t","tn","IssueCode","ErrorAlert","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","createElement","_createElement","DatabaseErrorMessage","error","source","subtitle","_extra$issue_codes","extra","level","message","isVisualization","includes","firstLine","remainingLines","split","alertMessage","alertDescription","length","join","body","children","issue_codes","map","issueCode","key","code","reduce","prev","curr","owners","errorType","engine_name","description","type","descriptionDetails","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode } from 'react';\nimport { t, tn } from '@superset-ui/core';\n\nimport { ErrorMessageComponentProps } from './types';\nimport IssueCode from './IssueCode';\nimport ErrorAlert from './ErrorAlert';\n\ninterface DatabaseErrorExtra {\n  owners?: string[];\n  issue_codes: {\n    code: number;\n    message: string;\n  }[];\n  engine_name: string | null;\n}\n\nfunction DatabaseErrorMessage({\n  error,\n  source,\n  subtitle,\n}: ErrorMessageComponentProps<DatabaseErrorExtra | null>) {\n  const { extra, level, message } = error;\n\n  const isVisualization = ['dashboard', 'explore'].includes(source || '');\n  const [firstLine, ...remainingLines] = message.split('\\n');\n  const alertMessage = firstLine;\n  const alertDescription =\n    remainingLines.length > 0 ? remainingLines.join('\\n') : null;\n\n  const body = extra && (\n    <>\n      <p>\n        {t('This may be triggered by:')}\n        <br />\n        {extra.issue_codes\n          ?.map<ReactNode>(issueCode => (\n            <IssueCode {...issueCode} key={issueCode.code} />\n          ))\n          .reduce((prev, curr) => [prev, <br />, curr])}\n      </p>\n      {isVisualization && extra.owners && (\n        <>\n          <br />\n          <p>\n            {tn(\n              'Please reach out to the Chart Owner for assistance.',\n              'Please reach out to the Chart Owners for assistance.',\n              extra.owners.length,\n            )}\n          </p>\n          <p>\n            {tn(\n              'Chart Owner: %s',\n              'Chart Owners: %s',\n              extra.owners.length,\n              extra.owners.join(', '),\n            )}\n          </p>\n        </>\n      )}\n    </>\n  );\n\n  return (\n    <ErrorAlert\n      errorType={t('%s Error', extra?.engine_name || t('DB engine'))}\n      message={alertMessage}\n      description={alertDescription}\n      type={level}\n      descriptionDetails={body}\n    />\n  );\n}\n\nexport default DatabaseErrorMessage;\n"],"mappings":"uSAmBA,SAASA,CAAC,EAAEC,EAAE,QAAQ,mBAAmB;AAGzC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,UAAU,MAAM,cAAc,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,QAAA,IAAAC,SAAA,8CAAAC,aAAA,IAAAC,cAAA;AAWtC,SAASC,oBAAoBA,CAAC,EAC5BC,KAAK,EACLC,MAAM,EACNC,QAAQ,EAC8C,OAAAC,kBAAA;EACtD,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAE,GAAGN,KAAK;EAEvC,MAAMO,eAAe,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAACC,QAAQ,CAACP,MAAM,IAAI,EAAE,CAAC;EACvE,MAAM,CAACQ,SAAS,EAAE,GAAGC,cAAc,CAAC,GAAGJ,OAAO,CAACK,KAAK,CAAC,IAAI,CAAC;EAC1D,MAAMC,YAAY,GAAGH,SAAS;EAC9B,MAAMI,gBAAgB,GACpBH,cAAc,CAACI,MAAM,GAAG,CAAC,GAAGJ,cAAc,CAACK,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI;EAE9D,MAAMC,IAAI,GAAGZ,KAAK,IAChBV,KAAA,CAAAE,SAAA,IAAAqB,QAAA;IACEvB,KAAA,QAAAuB,QAAA;MACG9B,CAAC,CAAC,2BAA2B,CAAC;MAC/BK,IAAA,SAAG,CACH,GAAAW,kBAAA;MAACC,KAAK,CAACc,WAAW,qBAAjBf,kBAAA;MACGgB,GAAG,CAAY,CAAAC,SAAS,KACxBtB,cAAA,CAACT,SAAS,OAAK+B,SAAS,EAAEC,GAAG,EAAED,SAAS,CAACE,IAAK,GAC/C,CAAC;MACDC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK,CAACD,IAAI,EAAEhC,IAAA,SAAG,CAAG,EAAEiC,IAAI,CAAC,CAAC;IAC9C,CACH;IAAClB,eAAe,IAAIH,KAAK,CAACsB,MAAM,IAC9BhC,KAAA,CAAAE,SAAA,IAAAqB,QAAA;MACEzB,IAAA,SAAG,CACH;MAAAA,IAAA,QAAAyB,QAAA;QACG7B,EAAE,CACD,qDAAqD,EACrD,sDAAsD,EACtDgB,KAAK,CAACsB,MAAM,CAACZ,MAAM,CACpB;MACA,CACH;MAAAtB,IAAA,QAAAyB,QAAA;QACG7B,EAAE,CACD,iBAAiB,EACjB,kBAAkB,EAClBgB,KAAK,CAACsB,MAAM,CAACZ,MAAM,EACnBV,KAAK,CAACsB,MAAM,CAACX,IAAI,CAAC,IAAI,CAAC,CACxB;MACA,CACL;IAAA,CACD;EACH,CACD;EAED,OACEvB,IAAA,CAACF,UAAU,IACTqC,SAAS,EAAExC,CAAC,CAAC,UAAU,EAAE,CAAAiB,KAAK,oBAALA,KAAK,CAAEwB,WAAW,KAAIzC,CAAC,CAAC,WAAW,CAAC,CAAE,EAC/DmB,OAAO,EAAEM,YAAa,EACtBiB,WAAW,EAAEhB,gBAAiB,EAC9BiB,IAAI,EAAEzB,KAAM,EACZ0B,kBAAkB,EAAEf,IAAK,GACzB;AAEN,CAAC,MAAAgB,QAAA;AAEcjC,oBAAoB,CAAnC,eAAAiC,QAAA,CAAoC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA1D3BtC,oBAAoB,6HAAAkC,cAAA,CAAAI,QAAA,CAAAL,QAAA,wIAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}