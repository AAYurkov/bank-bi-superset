{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { forwardRef, useImperativeHandle, useState } from 'react';\nimport { t, styled, useTheme, css } from '@superset-ui/core';\nimport { Icons } from 'src/components/Icons';\nimport { Input as AntdInput } from 'src/components/Input';\nimport { SELECT_WIDTH } from 'src/components/ListView/utils';\nimport { FormLabel } from 'src/components/Form';\nimport InfoTooltip from 'src/components/InfoTooltip';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst Container = styled.div`\n  width: ${SELECT_WIDTH}px;\n`;\nconst StyledInput = styled(AntdInput)`\n  border-radius: ${({ theme }) => theme.gridUnit}px;\n`;\nfunction SearchFilter({ Header, name, initialValue, toolTipDescription, onSubmit }, ref) {\n  const theme = useTheme();\n  const [value, setValue] = useState(initialValue || '');\n  const handleSubmit = () => {\n    if (value) {\n      onSubmit(value.trim());\n    }\n  };\n  const handleChange = (e) => {\n    setValue(e.currentTarget.value);\n    if (e.currentTarget.value === '') {\n      onSubmit('');\n    }\n  };\n  useImperativeHandle(ref, () => ({\n    clearFilter: () => {\n      setValue('');\n      onSubmit('');\n    }\n  }));\n  return _jsxs(Container, { children: [\n    _jsxs(\"div\", { css: css`\n          display: flex;\n          align-items: start;\n        `, children: [\n      _jsx(FormLabel, { children: Header }),\n      toolTipDescription && _jsx(InfoTooltip, { tooltip: toolTipDescription, viewBox: \"0 -7 28 28\" })] }\n    ),\n    _jsx(StyledInput, { allowClear: true, \"data-test\": \"filters-search\", placeholder: t('Type a value'), name: name, value: value, onChange: handleChange, onPressEnter: handleSubmit, onBlur: handleSubmit, prefix: _jsx(Icons.SearchOutlined, { iconColor: theme.colors.grayscale.light1, iconSize: \"l\" }) })] }\n  );\n}__signature__(SearchFilter, \"useTheme{theme}\\nuseState{[value, setValue](initialValue || '')}\\nuseImperativeHandle{}\", () => [useTheme, useImperativeHandle]);const _default = /*#__PURE__*/\nforwardRef(SearchFilter);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Container, \"Container\", \"/Users/aryurkov/superset/superset-frontend/src/components/ListView/Filters/Search.tsx\");reactHotLoader.register(StyledInput, \"StyledInput\", \"/Users/aryurkov/superset/superset-frontend/src/components/ListView/Filters/Search.tsx\");reactHotLoader.register(SearchFilter, \"SearchFilter\", \"/Users/aryurkov/superset/superset-frontend/src/components/ListView/Filters/Search.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/components/ListView/Filters/Search.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["forwardRef","useImperativeHandle","useState","t","styled","useTheme","css","Icons","Input","AntdInput","SELECT_WIDTH","FormLabel","InfoTooltip","jsx","_jsx","jsxs","_jsxs","Container","div","StyledInput","theme","gridUnit","SearchFilter","Header","name","initialValue","toolTipDescription","onSubmit","ref","value","setValue","handleSubmit","trim","handleChange","e","currentTarget","clearFilter","children","tooltip","viewBox","allowClear","placeholder","onChange","onPressEnter","onBlur","prefix","SearchOutlined","iconColor","colors","grayscale","light1","iconSize","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/components/ListView/Filters/Search.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  forwardRef,\n  useImperativeHandle,\n  useState,\n  RefObject,\n  ChangeEvent,\n} from 'react';\n\nimport { t, styled, useTheme, css } from '@superset-ui/core';\nimport { Icons } from 'src/components/Icons';\nimport { Input as AntdInput } from 'src/components/Input';\nimport { SELECT_WIDTH } from 'src/components/ListView/utils';\nimport { FormLabel } from 'src/components/Form';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport { BaseFilter, FilterHandler } from './Base';\n\ninterface SearchHeaderProps extends BaseFilter {\n  Header: string;\n  onSubmit: (val: string) => void;\n  name: string;\n  toolTipDescription: string | undefined;\n}\n\nconst Container = styled.div`\n  width: ${SELECT_WIDTH}px;\n`;\n\nconst StyledInput = styled(AntdInput)`\n  border-radius: ${({ theme }) => theme.gridUnit}px;\n`;\n\nfunction SearchFilter(\n  {\n    Header,\n    name,\n    initialValue,\n    toolTipDescription,\n    onSubmit,\n  }: SearchHeaderProps,\n  ref: RefObject<FilterHandler>,\n) {\n  const theme = useTheme();\n  const [value, setValue] = useState(initialValue || '');\n  const handleSubmit = () => {\n    if (value) {\n      onSubmit(value.trim());\n    }\n  };\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.currentTarget.value);\n    if (e.currentTarget.value === '') {\n      onSubmit('');\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    clearFilter: () => {\n      setValue('');\n      onSubmit('');\n    },\n  }));\n\n  return (\n    <Container>\n      <div\n        css={css`\n          display: flex;\n          align-items: start;\n        `}\n      >\n        <FormLabel>{Header}</FormLabel>\n        {toolTipDescription && (\n          <InfoTooltip tooltip={toolTipDescription} viewBox=\"0 -7 28 28\" />\n        )}\n      </div>\n      <StyledInput\n        allowClear\n        data-test=\"filters-search\"\n        placeholder={t('Type a value')}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        onPressEnter={handleSubmit}\n        onBlur={handleSubmit}\n        prefix={\n          <Icons.SearchOutlined\n            iconColor={theme.colors.grayscale.light1}\n            iconSize=\"l\"\n          />\n        }\n      />\n    </Container>\n  );\n}\n\nexport default forwardRef(SearchFilter);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}