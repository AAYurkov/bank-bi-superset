{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport dayjs from 'dayjs';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport 'dayjs/locale/en';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/zh-cn';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/pt-br';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/sk';\nimport 'dayjs/locale/sl';\nimport 'dayjs/locale/nl';\nexport const LOCALE_MAPPING = {\n  en: () => import('antd-v5/locale/en_US'),\n  fr: () => import('antd-v5/locale/fr_FR'),\n  es: () => import('antd-v5/locale/es_ES'),\n  it: () => import('antd-v5/locale/it_IT'),\n  zh: () => import('antd-v5/locale/zh_CN'),\n  ja: () => import('antd-v5/locale/ja_JP'),\n  de: () => import('antd-v5/locale/de_DE'),\n  pt: () => import('antd-v5/locale/pt_PT'),\n  pt_BR: () => import('antd-v5/locale/pt_BR'),\n  ru: () => import('antd-v5/locale/ru_RU'),\n  ko: () => import('antd-v5/locale/ko_KR'),\n  sk: () => import('antd-v5/locale/sk_SK'),\n  sl: () => import('antd-v5/locale/sl_SI'),\n  nl: () => import('antd-v5/locale/nl_NL')\n};\nexport const useLocale = () => {\n  const [datePickerLocale, setDatePickerLocale] = useState(null);\n  // Retrieve the locale from Redux store\n  const localFromFlaskBabel = useSelector((state) => {var _state$common;return state == null ? void 0 : (_state$common = state.common) == null ? void 0 : _state$common.locale;});\n  useEffect(() => {\n    if (datePickerLocale === null) {\n      if (localFromFlaskBabel &&\n      LOCALE_MAPPING[localFromFlaskBabel]) {\n        LOCALE_MAPPING[localFromFlaskBabel]().\n        then((locale) => {\n          setDatePickerLocale(locale.default);\n          dayjs.locale(localFromFlaskBabel);\n        }).\n        catch(() => setDatePickerLocale(undefined));\n      } else\n      {\n        setDatePickerLocale(undefined);\n      }\n    }\n  }, [datePickerLocale, localFromFlaskBabel]);\n  return datePickerLocale;\n};__signature__(useLocale, \"useState{[datePickerLocale, setDatePickerLocale](null)}\\nuseSelector{localFromFlaskBabel}\\nuseEffect{}\", () => [useSelector]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(LOCALE_MAPPING, \"LOCALE_MAPPING\", \"/Users/aryurkov/superset/superset-frontend/src/hooks/useLocale.ts\");reactHotLoader.register(useLocale, \"useLocale\", \"/Users/aryurkov/superset/superset-frontend/src/hooks/useLocale.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["dayjs","useEffect","useState","useSelector","LOCALE_MAPPING","en","fr","es","it","zh","ja","de","pt","pt_BR","ru","ko","sk","sl","nl","useLocale","datePickerLocale","setDatePickerLocale","localFromFlaskBabel","state","_state$common","common","locale","then","default","catch","undefined","__signature__","reactHotLoader","reactHotLoaderGlobal","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/hooks/useLocale.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Locale } from 'antd-v5/es/locale';\nimport dayjs from 'dayjs';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ExplorePageState } from 'src/explore/types';\nimport 'dayjs/locale/en';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/zh-cn';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/pt-br';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/sk';\nimport 'dayjs/locale/sl';\nimport 'dayjs/locale/nl';\n\nexport const LOCALE_MAPPING = {\n  en: () => import('antd-v5/locale/en_US'),\n  fr: () => import('antd-v5/locale/fr_FR'),\n  es: () => import('antd-v5/locale/es_ES'),\n  it: () => import('antd-v5/locale/it_IT'),\n  zh: () => import('antd-v5/locale/zh_CN'),\n  ja: () => import('antd-v5/locale/ja_JP'),\n  de: () => import('antd-v5/locale/de_DE'),\n  pt: () => import('antd-v5/locale/pt_PT'),\n  pt_BR: () => import('antd-v5/locale/pt_BR'),\n  ru: () => import('antd-v5/locale/ru_RU'),\n  ko: () => import('antd-v5/locale/ko_KR'),\n  sk: () => import('antd-v5/locale/sk_SK'),\n  sl: () => import('antd-v5/locale/sl_SI'),\n  nl: () => import('antd-v5/locale/nl_NL'),\n};\n\nexport const useLocale = (): Locale | undefined | null => {\n  const [datePickerLocale, setDatePickerLocale] = useState<\n    Locale | undefined | null\n  >(null);\n\n  // Retrieve the locale from Redux store\n  const localFromFlaskBabel = useSelector(\n    (state: ExplorePageState) => state?.common?.locale,\n  );\n\n  useEffect(() => {\n    if (datePickerLocale === null) {\n      if (\n        localFromFlaskBabel &&\n        LOCALE_MAPPING[localFromFlaskBabel as keyof typeof LOCALE_MAPPING]\n      ) {\n        LOCALE_MAPPING[localFromFlaskBabel as keyof typeof LOCALE_MAPPING]()\n          .then((locale: { default: Locale }) => {\n            setDatePickerLocale(locale.default);\n            dayjs.locale(localFromFlaskBabel);\n          })\n          .catch(() => setDatePickerLocale(undefined));\n      } else {\n        setDatePickerLocale(undefined);\n      }\n    }\n  }, [datePickerLocale, localFromFlaskBabel]);\n\n  return datePickerLocale;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}