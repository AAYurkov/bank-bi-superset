{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useContext, useMemo, useState } from 'react';\nimport { createHtmlPortalNode, InPortal, OutPortal } from 'react-reverse-portal';\nimport { styled, truncationCSS } from '@superset-ui/core';\nimport { FormItem as StyledFormItem, Form } from 'src/components/Form';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { checkIsMissingRequiredValue } from '../utils';\nimport FilterValue from './FilterValue';\nimport { FilterCard } from '../../FilterCard';\nimport { FilterBarScrollContext } from '../Vertical';\nimport { FilterCardPlacement } from '../../FilterCard/types';\nimport { useIsFilterInScope } from '../../state';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst FilterStyledIcon = styled.div`\n  position: absolute;\n  right: 0;\n`;\nconst VerticalFilterControlTitle = styled.h4`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  margin: 0;\n  overflow-wrap: anywhere;\n`;\nconst HorizontalFilterControlTitle = styled(VerticalFilterControlTitle)`\n  font-weight: ${({ theme }) => theme.typography.weights.normal};\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  ${truncationCSS};\n`;\nconst HorizontalOverflowFilterControlTitle = styled(HorizontalFilterControlTitle)`\n  max-width: none;\n`;\nconst VerticalFilterControlTitleBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\n`;\nconst HorizontalFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  margin-bottom: unset;\n`;\nconst HorizontalOverflowFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  width: 100%;\n`;\nconst VerticalFilterControlContainer = styled(Form)`\n  width: 100%;\n  && .ant-form-item-label > label {\n    text-transform: none;\n    width: 100%;\n    padding-right: ${({ theme }) => theme.gridUnit * 11}px;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nconst HorizontalFilterControlContainer = styled(Form)`\n  && .ant-form-item-label > label {\n    margin-bottom: 0;\n    text-transform: none;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nconst HorizontalOverflowFilterControlContainer = styled(VerticalFilterControlContainer)`\n  && .ant-form-item-label {\n    line-height: 1;\n    & > label {\n      padding-right: unset;\n    }\n  }\n`;\nconst VerticalFormItem = styled(StyledFormItem)`\n  .ant-form-item-label {\n    overflow: visible;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n  }\n\n  .select-container {\n    ${({ inverseSelection }) => inverseSelection &&\n`\n      width: 140px;\n    `}\n  }\n`;\nconst HorizontalFormItem = styled(StyledFormItem)`\n  && {\n    margin-bottom: 0;\n    align-items: center;\n  }\n\n  .ant-form-item-label {\n    overflow: visible;\n    padding-bottom: 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n\n    & > label::after {\n      display: none;\n    }\n  }\n\n  .ant-form-item-control {\n    width: ${({ inverseSelection }) => inverseSelection ? 252 : 164}px;\n  }\n\n  .select-container {\n    ${({ inverseSelection, theme }) => inverseSelection &&\n`\n      width: 164px;\n    `}\n  }\n`;\nconst HorizontalOverflowFormItem = VerticalFormItem;\nconst useFilterControlDisplay = (orientation, overflow, inverseSelection) => useMemo(() => {\n  if (orientation === FilterBarOrientation.Horizontal) {\n    if (overflow) {\n      return {\n        FilterControlContainer: HorizontalOverflowFilterControlContainer,\n        FormItem: (props) => _jsx(HorizontalOverflowFormItem, { ...props, inverseSelection: inverseSelection }),\n        FilterControlTitleBox: HorizontalOverflowFilterControlTitleBox,\n        FilterControlTitle: HorizontalOverflowFilterControlTitle\n      };\n    }\n    return {\n      FilterControlContainer: HorizontalFilterControlContainer,\n      FormItem: (props) => _jsx(HorizontalFormItem, { ...props, inverseSelection: inverseSelection }),\n      FilterControlTitleBox: HorizontalFilterControlTitleBox,\n      FilterControlTitle: HorizontalFilterControlTitle\n    };\n  }\n  return {\n    FilterControlContainer: VerticalFilterControlContainer,\n    FormItem: (props) => _jsx(VerticalFormItem, { ...props, inverseSelection: inverseSelection }),\n    FilterControlTitleBox: VerticalFilterControlTitleBox,\n    FilterControlTitle: VerticalFilterControlTitle\n  };\n}, [orientation, overflow, inverseSelection]);__signature__(useFilterControlDisplay, \"useMemo{}\");\nconst ToolTipContainer = styled.div`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  display: flex;\n`;\nconst RequiredFieldIndicator = () => _jsx(\"span\", { css: (theme) => ({\n    color: theme.colors.error.base,\n    fontSize: `${theme.typography.sizes.s}px`,\n    paddingLeft: '1px'\n  }), children: \"*\" }\n\n);\nconst DescriptionToolTip = ({ description }) => _jsx(ToolTipContainer, { children:\n  _jsx(Tooltip, { title: description, placement: \"right\", overlayInnerStyle: {\n      display: '-webkit-box',\n      WebkitLineClamp: 10,\n      WebkitBoxOrient: 'vertical',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'normal'\n    }, children:\n\n\n    _jsx(\"i\", { className: \"fa fa-info-circle text-muted\", css: (theme) => ({\n        paddingLeft: `${theme.gridUnit}px`,\n        cursor: 'pointer'\n      }) }) }\n  ) }\n);\nconst FilterControl = ({ dataMaskSelected, filter, icon, onFilterSelectionChange, inView, showOverflow, parentRef, orientation = FilterBarOrientation.Vertical, overflow = false }) => {var _filter$dataMask, _filter$controlValues, _filter$controlValues2, _filter$controlValues3;\n  const portalNode = useMemo(() => createHtmlPortalNode(), []);\n  const [isFilterActive, setIsFilterActive] = useState(false);\n  const { name = '<undefined>' } = filter;\n  const isFilterInScope = useIsFilterInScope();\n  const isMissingRequiredValue = isFilterInScope(filter) &&\n  checkIsMissingRequiredValue(filter, (_filter$dataMask = filter.dataMask) == null ? void 0 : _filter$dataMask.filterState);\n  const validateStatus = isMissingRequiredValue ? 'error' : undefined;\n  const isRequired = !!((_filter$controlValues = filter.controlValues) != null && _filter$controlValues.enableEmptyFilter);\n  const inverseSelection = !!((_filter$controlValues2 = filter.controlValues) != null && _filter$controlValues2.inverseSelection);\n  const { FilterControlContainer, FormItem, FilterControlTitleBox, FilterControlTitle } = useFilterControlDisplay(orientation, overflow, inverseSelection);\n  const label = useMemo(() => {var _filter$description;return _jsxs(FilterControlTitleBox, { children: [\n      _jsx(FilterControlTitle, { id: `filter-name-${filter.id}`, \"data-test\": \"filter-control-name\", children:\n        name }\n      ),\n      isRequired && _jsx(RequiredFieldIndicator, {}),\n      ((_filter$description = filter.description) == null ? void 0 : _filter$description.trim()) && _jsx(DescriptionToolTip, { description: filter.description }),\n      _jsx(FilterStyledIcon, { \"data-test\": \"filter-icon\", children: icon })] }\n    );}, [\n  FilterControlTitleBox,\n  FilterControlTitle,\n  name,\n  isRequired,\n  filter.description,\n  icon]\n  );\n  const isScrolling = useContext(FilterBarScrollContext);\n  const filterCardPlacement = useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return FilterCardPlacement.Left;\n      }\n      return FilterCardPlacement.Bottom;\n    }\n    return FilterCardPlacement.Right;\n  }, [orientation, overflow]);\n  return _jsxs(_Fragment, { children: [\n    _jsx(InPortal, { node: portalNode, children:\n      _jsx(FilterValue, { dataMaskSelected: dataMaskSelected, filter: filter, showOverflow: showOverflow, onFilterSelectionChange: onFilterSelectionChange, inView: inView, parentRef: parentRef, setFilterActive: setIsFilterActive, orientation: orientation, overflow: overflow, validateStatus: validateStatus }) }\n    ),\n    _jsx(FilterControlContainer, { layout: orientation === FilterBarOrientation.Horizontal && !overflow ?\n      'horizontal' :\n      'vertical', children:\n      _jsx(FilterCard, { filter: filter, isVisible: !isFilterActive && !isScrolling, placement: filterCardPlacement, children:\n        _jsx(\"div\", { children:\n          _jsx(FormItem, { label: label, htmlFor: filter.id, required: filter == null ? void 0 : (_filter$controlValues3 = filter.controlValues) == null ? void 0 : _filter$controlValues3.enableEmptyFilter, validateStatus: validateStatus, children:\n            _jsx(OutPortal, { node: portalNode }) }\n          ) }\n        ) }\n      ) }\n    )] }\n  );\n};__signature__(FilterControl, \"useMemo{portalNode}\\nuseState{[isFilterActive, setIsFilterActive](false)}\\nuseIsFilterInScope{isFilterInScope}\\nuseFilterControlDisplay{{ FilterControlContainer, FormItem, FilterControlTitleBox, FilterControlTitle, }}\\nuseMemo{label}\\nuseContext{isScrolling}\\nuseMemo{filterCardPlacement}\", () => [useIsFilterInScope, useFilterControlDisplay]);const _default = /*#__PURE__*/\nmemo(FilterControl);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FilterStyledIcon, \"FilterStyledIcon\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlTitle, \"VerticalFilterControlTitle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlTitle, \"HorizontalFilterControlTitle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlTitle, \"HorizontalOverflowFilterControlTitle\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlTitleBox, \"VerticalFilterControlTitleBox\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlTitleBox, \"HorizontalFilterControlTitleBox\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlTitleBox, \"HorizontalOverflowFilterControlTitleBox\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlContainer, \"VerticalFilterControlContainer\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlContainer, \"HorizontalFilterControlContainer\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlContainer, \"HorizontalOverflowFilterControlContainer\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFormItem, \"VerticalFormItem\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFormItem, \"HorizontalFormItem\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFormItem, \"HorizontalOverflowFormItem\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(useFilterControlDisplay, \"useFilterControlDisplay\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(ToolTipContainer, \"ToolTipContainer\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(RequiredFieldIndicator, \"RequiredFieldIndicator\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(DescriptionToolTip, \"DescriptionToolTip\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(FilterControl, \"FilterControl\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["memo","useContext","useMemo","useState","createHtmlPortalNode","InPortal","OutPortal","styled","truncationCSS","FormItem","StyledFormItem","Form","Tooltip","FilterBarOrientation","checkIsMissingRequiredValue","FilterValue","FilterCard","FilterBarScrollContext","FilterCardPlacement","useIsFilterInScope","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FilterStyledIcon","div","VerticalFilterControlTitle","h4","theme","typography","sizes","s","colors","grayscale","dark1","HorizontalFilterControlTitle","weights","normal","base","HorizontalOverflowFilterControlTitle","VerticalFilterControlTitleBox","gridUnit","HorizontalFilterControlTitleBox","HorizontalOverflowFilterControlTitleBox","VerticalFilterControlContainer","HorizontalFilterControlContainer","HorizontalOverflowFilterControlContainer","VerticalFormItem","inverseSelection","HorizontalFormItem","HorizontalOverflowFormItem","useFilterControlDisplay","orientation","overflow","Horizontal","FilterControlContainer","props","FilterControlTitleBox","FilterControlTitle","__signature__","ToolTipContainer","m","RequiredFieldIndicator","css","color","error","fontSize","paddingLeft","children","DescriptionToolTip","description","title","placement","overlayInnerStyle","display","WebkitLineClamp","WebkitBoxOrient","textOverflow","whiteSpace","className","cursor","FilterControl","dataMaskSelected","filter","icon","onFilterSelectionChange","inView","showOverflow","parentRef","Vertical","_filter$dataMask","_filter$controlValues","_filter$controlValues2","_filter$controlValues3","portalNode","isFilterActive","setIsFilterActive","name","isFilterInScope","isMissingRequiredValue","dataMask","filterState","validateStatus","undefined","isRequired","controlValues","enableEmptyFilter","label","_filter$description","id","trim","isScrolling","filterCardPlacement","Left","Bottom","Right","node","setFilterActive","layout","isVisible","htmlFor","required","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useContext, useMemo, useState } from 'react';\nimport {\n  createHtmlPortalNode,\n  InPortal,\n  OutPortal,\n} from 'react-reverse-portal';\nimport { styled, SupersetTheme, truncationCSS } from '@superset-ui/core';\nimport { FormItem as StyledFormItem, Form } from 'src/components/Form';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { checkIsMissingRequiredValue } from '../utils';\nimport FilterValue from './FilterValue';\nimport { FilterCard } from '../../FilterCard';\nimport { FilterBarScrollContext } from '../Vertical';\nimport { FilterControlProps } from './types';\nimport { FilterCardPlacement } from '../../FilterCard/types';\nimport { useIsFilterInScope } from '../../state';\n\nconst FilterStyledIcon = styled.div`\n  position: absolute;\n  right: 0;\n`;\n\nconst VerticalFilterControlTitle = styled.h4`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  margin: 0;\n  overflow-wrap: anywhere;\n`;\n\nconst HorizontalFilterControlTitle = styled(VerticalFilterControlTitle)`\n  font-weight: ${({ theme }) => theme.typography.weights.normal};\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  ${truncationCSS};\n`;\n\nconst HorizontalOverflowFilterControlTitle = styled(\n  HorizontalFilterControlTitle,\n)`\n  max-width: none;\n`;\n\nconst VerticalFilterControlTitleBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\n`;\n\nconst HorizontalFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  margin-bottom: unset;\n`;\n\nconst HorizontalOverflowFilterControlTitleBox = styled(\n  VerticalFilterControlTitleBox,\n)`\n  width: 100%;\n`;\n\nconst VerticalFilterControlContainer = styled(Form)`\n  width: 100%;\n  && .ant-form-item-label > label {\n    text-transform: none;\n    width: 100%;\n    padding-right: ${({ theme }) => theme.gridUnit * 11}px;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst HorizontalFilterControlContainer = styled(Form)`\n  && .ant-form-item-label > label {\n    margin-bottom: 0;\n    text-transform: none;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst HorizontalOverflowFilterControlContainer = styled(\n  VerticalFilterControlContainer,\n)`\n  && .ant-form-item-label {\n    line-height: 1;\n    & > label {\n      padding-right: unset;\n    }\n  }\n`;\n\nconst VerticalFormItem = styled(StyledFormItem)<{\n  inverseSelection: boolean;\n}>`\n  .ant-form-item-label {\n    overflow: visible;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n  }\n\n  .select-container {\n    ${({ inverseSelection }) =>\n      inverseSelection &&\n      `\n      width: 140px;\n    `}\n  }\n`;\n\nconst HorizontalFormItem = styled(StyledFormItem)<{\n  inverseSelection: boolean;\n}>`\n  && {\n    margin-bottom: 0;\n    align-items: center;\n  }\n\n  .ant-form-item-label {\n    overflow: visible;\n    padding-bottom: 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n\n    & > label::after {\n      display: none;\n    }\n  }\n\n  .ant-form-item-control {\n    width: ${({ inverseSelection }) => (inverseSelection ? 252 : 164)}px;\n  }\n\n  .select-container {\n    ${({ inverseSelection, theme }) =>\n      inverseSelection &&\n      `\n      width: 164px;\n    `}\n  }\n`;\n\nconst HorizontalOverflowFormItem = VerticalFormItem;\n\nconst useFilterControlDisplay = (\n  orientation: FilterBarOrientation,\n  overflow: boolean,\n  inverseSelection: boolean,\n) =>\n  useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return {\n          FilterControlContainer: HorizontalOverflowFilterControlContainer,\n          FormItem: (props: any) => (\n            <HorizontalOverflowFormItem\n              {...props}\n              inverseSelection={inverseSelection}\n            />\n          ),\n          FilterControlTitleBox: HorizontalOverflowFilterControlTitleBox,\n          FilterControlTitle: HorizontalOverflowFilterControlTitle,\n        };\n      }\n      return {\n        FilterControlContainer: HorizontalFilterControlContainer,\n        FormItem: (props: any) => (\n          <HorizontalFormItem {...props} inverseSelection={inverseSelection} />\n        ),\n        FilterControlTitleBox: HorizontalFilterControlTitleBox,\n        FilterControlTitle: HorizontalFilterControlTitle,\n      };\n    }\n    return {\n      FilterControlContainer: VerticalFilterControlContainer,\n      FormItem: (props: any) => (\n        <VerticalFormItem {...props} inverseSelection={inverseSelection} />\n      ),\n      FilterControlTitleBox: VerticalFilterControlTitleBox,\n      FilterControlTitle: VerticalFilterControlTitle,\n    };\n  }, [orientation, overflow, inverseSelection]);\n\nconst ToolTipContainer = styled.div`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  display: flex;\n`;\n\nconst RequiredFieldIndicator = () => (\n  <span\n    css={(theme: SupersetTheme) => ({\n      color: theme.colors.error.base,\n      fontSize: `${theme.typography.sizes.s}px`,\n      paddingLeft: '1px',\n    })}\n  >\n    *\n  </span>\n);\n\nconst DescriptionToolTip = ({ description }: { description: string }) => (\n  <ToolTipContainer>\n    <Tooltip\n      title={description}\n      placement=\"right\"\n      overlayInnerStyle={{\n        display: '-webkit-box',\n        WebkitLineClamp: 10,\n        WebkitBoxOrient: 'vertical',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'normal',\n      }}\n    >\n      {/* TODO: Remove fa-icon */}\n      {/* eslint-disable-next-line icons/no-fa-icons-usage */}\n      <i\n        className=\"fa fa-info-circle text-muted\"\n        css={(theme: SupersetTheme) => ({\n          paddingLeft: `${theme.gridUnit}px`,\n          cursor: 'pointer',\n        })}\n      />\n    </Tooltip>\n  </ToolTipContainer>\n);\n\nconst FilterControl = ({\n  dataMaskSelected,\n  filter,\n  icon,\n  onFilterSelectionChange,\n  inView,\n  showOverflow,\n  parentRef,\n  orientation = FilterBarOrientation.Vertical,\n  overflow = false,\n}: FilterControlProps) => {\n  const portalNode = useMemo(() => createHtmlPortalNode(), []);\n  const [isFilterActive, setIsFilterActive] = useState(false);\n\n  const { name = '<undefined>' } = filter;\n\n  const isFilterInScope = useIsFilterInScope();\n  const isMissingRequiredValue =\n    isFilterInScope(filter) &&\n    checkIsMissingRequiredValue(filter, filter.dataMask?.filterState);\n  const validateStatus = isMissingRequiredValue ? 'error' : undefined;\n  const isRequired = !!filter.controlValues?.enableEmptyFilter;\n  const inverseSelection = !!filter.controlValues?.inverseSelection;\n\n  const {\n    FilterControlContainer,\n    FormItem,\n    FilterControlTitleBox,\n    FilterControlTitle,\n  } = useFilterControlDisplay(orientation, overflow, inverseSelection);\n\n  const label = useMemo(\n    () => (\n      <FilterControlTitleBox>\n        <FilterControlTitle\n          id={`filter-name-${filter.id}`}\n          data-test=\"filter-control-name\"\n        >\n          {name}\n        </FilterControlTitle>\n        {isRequired && <RequiredFieldIndicator />}\n        {filter.description?.trim() && (\n          <DescriptionToolTip description={filter.description} />\n        )}\n        <FilterStyledIcon data-test=\"filter-icon\">{icon}</FilterStyledIcon>\n      </FilterControlTitleBox>\n    ),\n    [\n      FilterControlTitleBox,\n      FilterControlTitle,\n      name,\n      isRequired,\n      filter.description,\n      icon,\n    ],\n  );\n\n  const isScrolling = useContext(FilterBarScrollContext);\n  const filterCardPlacement = useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return FilterCardPlacement.Left;\n      }\n      return FilterCardPlacement.Bottom;\n    }\n    return FilterCardPlacement.Right;\n  }, [orientation, overflow]);\n\n  return (\n    <>\n      <InPortal node={portalNode}>\n        <FilterValue\n          dataMaskSelected={dataMaskSelected}\n          filter={filter}\n          showOverflow={showOverflow}\n          onFilterSelectionChange={onFilterSelectionChange}\n          inView={inView}\n          parentRef={parentRef}\n          setFilterActive={setIsFilterActive}\n          orientation={orientation}\n          overflow={overflow}\n          validateStatus={validateStatus}\n        />\n      </InPortal>\n      <FilterControlContainer\n        layout={\n          orientation === FilterBarOrientation.Horizontal && !overflow\n            ? 'horizontal'\n            : 'vertical'\n        }\n      >\n        <FilterCard\n          filter={filter}\n          isVisible={!isFilterActive && !isScrolling}\n          placement={filterCardPlacement}\n        >\n          <div>\n            <FormItem\n              label={label}\n              htmlFor={filter.id}\n              required={filter?.controlValues?.enableEmptyFilter}\n              validateStatus={validateStatus}\n            >\n              <OutPortal node={portalNode} />\n            </FormItem>\n          </div>\n        </FilterCard>\n      </FilterControlContainer>\n    </>\n  );\n};\n\nexport default memo(FilterControl);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}