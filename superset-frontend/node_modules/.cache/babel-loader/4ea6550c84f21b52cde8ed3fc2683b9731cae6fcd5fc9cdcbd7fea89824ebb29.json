{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport { t, useTheme } from '@superset-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { queryEditorSetSql, cloneQueryToNewTab, fetchQueryResults, clearQueryResults, removeQuery } from 'src/SqlLab/actions/sqlLab';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration, extendedDayjs } from 'src/utils/dates';\nimport { Icons } from 'src/components/Icons';\nimport Label from 'src/components/Label';\nimport { Tooltip } from 'src/components/Tooltip';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport ResultSet from '../ResultSet';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, StyledTooltip } from './styles';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst openQuery = (id) => {\n  const url = `/sqllab?queryId=${id}`;\n  window.open(url);\n};\nconst QueryTable = ({ columns = ['started', 'duration', 'rows'], queries = [], onUserClicked = () => undefined, onDbClicked = () => undefined, displayLimit, latestQueryId }) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const QUERY_HISTORY_TABLE_HEADERS_LOCALIZED = {\n    state: t('State'),\n    started: t('Started'),\n    duration: t('Duration'),\n    progress: t('Progress'),\n    rows: t('Rows'),\n    sql: t('SQL'),\n    results: t('Results'),\n    actions: t('Actions')\n  };\n  const setHeaders = (column) => {\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return column.charAt(0).toUpperCase().concat(column.slice(1));\n  };\n  const columnsOfTable = useMemo(() => columns.map((column) => ({\n    accessor: column,\n    Header: QUERY_HISTORY_TABLE_HEADERS_LOCALIZED[column] || setHeaders(column),\n    disableSortBy: true\n  })), [columns]);\n  const user = useSelector((state) => state.user);\n  const data = useMemo(() => {\n    const restoreSql = (query) => {\n      dispatch(queryEditorSetSql({ id: query.sqlEditorId }, query.sql, query.id));\n    };\n    const openQueryInNewTab = (query) => {\n      dispatch(cloneQueryToNewTab(query, true));\n    };\n    const openAsyncResults = (query, displayLimit) => {\n      dispatch(fetchQueryResults(query, displayLimit));\n    };\n    const statusAttributes = {\n      success: {\n        config: {\n          icon: _jsx(Icons.CheckOutlined, { iconColor: theme.colors.success.base, iconSize: \"m\" }),\n          // icon: <Icons.Edit iconSize=\"xl\" />,\n          label: t('Success')\n        }\n      },\n      failed: {\n        config: {\n          icon: _jsx(Icons.CloseOutlined, { iconColor: theme.colors.error.base, iconSize: \"m\" }),\n          label: t('Failed')\n        }\n      },\n      stopped: {\n        config: {\n          icon: _jsx(Icons.CloseOutlined, { iconColor: theme.colors.error.base, iconSize: \"m\" }),\n          label: t('Failed')\n        }\n      },\n      running: {\n        config: {\n          icon: _jsx(Icons.LoadingOutlined, { iconColor: theme.colors.primary.base, iconSize: \"m\" }),\n          label: t('Running')\n        }\n      },\n      fetching: {\n        config: {\n          icon: _jsx(Icons.LoadingOutlined, { iconColor: theme.colors.primary.base, iconSize: \"m\" }),\n          label: t('Fetching')\n        }\n      },\n      timed_out: {\n        config: {\n          icon: _jsx(Icons.ClockCircleOutlined, { iconColor: theme.colors.error.base, iconSize: \"m\" }),\n          label: t('Offline')\n        }\n      },\n      scheduled: {\n        config: {\n          icon: _jsx(Icons.LoadingOutlined, { iconColor: theme.colors.warning.base, iconSize: \"m\" }),\n          label: t('Scheduled')\n        }\n      },\n      pending: {\n        config: {\n          icon: _jsx(Icons.LoadingOutlined, { iconColor: theme.colors.warning.base, iconSize: \"m\" }),\n          label: t('Scheduled')\n        }\n      },\n      error: {\n        config: {\n          icon: _jsx(Icons.Error, { iconColor: theme.colors.error.base, iconSize: \"m\" }),\n          label: t('Unknown Status')\n        }\n      },\n      started: {\n        config: {\n          icon: _jsx(Icons.LoadingOutlined, { iconColor: theme.colors.primary.base, iconSize: \"m\" }),\n          label: t('Started')\n        }\n      }\n    };\n    return queries.\n    map((query) => {\n      const { state, sql, progress, ...rest } = query;\n      const q = rest;\n      const status = statusAttributes[state] || statusAttributes.error;\n      if (q.endDttm) {\n        q.duration = _jsx(Label, { monospace: true, children: fDuration(q.startDttm, q.endDttm) });\n      }\n      q.user = _jsx(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => onUserClicked(q.userId), children:\n        q.user }\n      );\n      q.db = _jsx(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => onDbClicked(q.dbId), children:\n        q.db }\n      );\n      q.started = _jsx(Label, { monospace: true, children:\n        extendedDayjs(q.startDttm).format('L HH:mm:ss') }\n      );\n      q.querylink = _jsxs(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => openQuery(q.queryId), children: [\n        _jsx(Icons.Full, { iconSize: \"m\", iconColor: theme.colors.primary.dark1 }),\n        t('Edit')] }\n      );\n      q.sql = _jsx(Card, { css: [StaticPosition, process.env.NODE_ENV === \"production\" ? \"\" : \";label:q-sql;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnl1cmtvdi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvU3FsTGFiL2NvbXBvbmVudHMvUXVlcnlUYWJsZS9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkoyQiIsImZpbGUiOiIvVXNlcnMvYXJ5dXJrb3Yvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1F1ZXJ5VGFibGUvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXJkIGZyb20gJ3NyYy9jb21wb25lbnRzL0NhcmQnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJ3NyYy9jb21wb25lbnRzL1Byb2dyZXNzQmFyJztcbmltcG9ydCB7IHQsIHVzZVRoZW1lIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgcXVlcnlFZGl0b3JTZXRTcWwsIGNsb25lUXVlcnlUb05ld1RhYiwgZmV0Y2hRdWVyeVJlc3VsdHMsIGNsZWFyUXVlcnlSZXN1bHRzLCByZW1vdmVRdWVyeSwgfSBmcm9tICdzcmMvU3FsTGFiL2FjdGlvbnMvc3FsTGFiJztcbmltcG9ydCBUYWJsZVZpZXcgZnJvbSAnc3JjL2NvbXBvbmVudHMvVGFibGVWaWV3JztcbmltcG9ydCBCdXR0b24gZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uJztcbmltcG9ydCB7IGZEdXJhdGlvbiwgZXh0ZW5kZWREYXlqcyB9IGZyb20gJ3NyYy91dGlscy9kYXRlcyc7XG5pbXBvcnQgeyBJY29ucyB9IGZyb20gJ3NyYy9jb21wb25lbnRzL0ljb25zJztcbmltcG9ydCBMYWJlbCBmcm9tICdzcmMvY29tcG9uZW50cy9MYWJlbCc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvVG9vbHRpcCc7XG5pbXBvcnQgTW9kYWxUcmlnZ2VyIGZyb20gJ3NyYy9jb21wb25lbnRzL01vZGFsVHJpZ2dlcic7XG5pbXBvcnQgUmVzdWx0U2V0IGZyb20gJy4uL1Jlc3VsdFNldCc7XG5pbXBvcnQgSGlnaGxpZ2h0ZWRTcWwgZnJvbSAnLi4vSGlnaGxpZ2h0ZWRTcWwnO1xuaW1wb3J0IHsgU3RhdGljUG9zaXRpb24sIFN0eWxlZFRvb2x0aXAgfSBmcm9tICcuL3N0eWxlcyc7XG5jb25zdCBvcGVuUXVlcnkgPSAoaWQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBgL3NxbGxhYj9xdWVyeUlkPSR7aWR9YDtcbiAgICB3aW5kb3cub3Blbih1cmwpO1xufTtcbmNvbnN0IFF1ZXJ5VGFibGUgPSAoeyBjb2x1bW5zID0gWydzdGFydGVkJywgJ2R1cmF0aW9uJywgJ3Jvd3MnXSwgcXVlcmllcyA9IFtdLCBvblVzZXJDbGlja2VkID0gKCkgPT4gdW5kZWZpbmVkLCBvbkRiQ2xpY2tlZCA9ICgpID0+IHVuZGVmaW5lZCwgZGlzcGxheUxpbWl0LCBsYXRlc3RRdWVyeUlkLCB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICBjb25zdCBRVUVSWV9ISVNUT1JZX1RBQkxFX0hFQURFUlNfTE9DQUxJWkVEID0ge1xuICAgICAgICBzdGF0ZTogdCgnU3RhdGUnKSxcbiAgICAgICAgc3RhcnRlZDogdCgnU3RhcnRlZCcpLFxuICAgICAgICBkdXJhdGlvbjogdCgnRHVyYXRpb24nKSxcbiAgICAgICAgcHJvZ3Jlc3M6IHQoJ1Byb2dyZXNzJyksXG4gICAgICAgIHJvd3M6IHQoJ1Jvd3MnKSxcbiAgICAgICAgc3FsOiB0KCdTUUwnKSxcbiAgICAgICAgcmVzdWx0czogdCgnUmVzdWx0cycpLFxuICAgICAgICBhY3Rpb25zOiB0KCdBY3Rpb25zJyksXG4gICAgfTtcbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGNvbHVtbikgPT4ge1xuICAgICAgICBpZiAoY29sdW1uID09PSAnc3FsJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkuY29uY2F0KGNvbHVtbi5zbGljZSgxKSk7XG4gICAgfTtcbiAgICBjb25zdCBjb2x1bW5zT2ZUYWJsZSA9IHVzZU1lbW8oKCkgPT4gY29sdW1ucy5tYXAoY29sdW1uID0+ICh7XG4gICAgICAgIGFjY2Vzc29yOiBjb2x1bW4sXG4gICAgICAgIEhlYWRlcjogUVVFUllfSElTVE9SWV9UQUJMRV9IRUFERVJTX0xPQ0FMSVpFRFtjb2x1bW5dIHx8IHNldEhlYWRlcnMoY29sdW1uKSxcbiAgICAgICAgZGlzYWJsZVNvcnRCeTogdHJ1ZSxcbiAgICB9KSksIFtjb2x1bW5zXSk7XG4gICAgY29uc3QgdXNlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnVzZXIpO1xuICAgIGNvbnN0IGRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdG9yZVNxbCA9IChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2gocXVlcnlFZGl0b3JTZXRTcWwoeyBpZDogcXVlcnkuc3FsRWRpdG9ySWQgfSwgcXVlcnkuc3FsLCBxdWVyeS5pZCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcGVuUXVlcnlJbk5ld1RhYiA9IChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goY2xvbmVRdWVyeVRvTmV3VGFiKHF1ZXJ5LCB0cnVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9wZW5Bc3luY1Jlc3VsdHMgPSAocXVlcnksIGRpc3BsYXlMaW1pdCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goZmV0Y2hRdWVyeVJlc3VsdHMocXVlcnksIGRpc3BsYXlMaW1pdCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdGF0dXNBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAoPEljb25zLkNoZWNrT3V0bGluZWQgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuc3VjY2Vzcy5iYXNlfSBpY29uU2l6ZT1cIm1cIi8+KSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaWNvbjogPEljb25zLkVkaXQgaWNvblNpemU9XCJ4bFwiIC8+LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnU3VjY2VzcycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbGVkOiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICg8SWNvbnMuQ2xvc2VPdXRsaW5lZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5lcnJvci5iYXNlfSBpY29uU2l6ZT1cIm1cIi8+KSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ0ZhaWxlZCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcHBlZDoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAoPEljb25zLkNsb3NlT3V0bGluZWQgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZX0gaWNvblNpemU9XCJtXCIvPiksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdGYWlsZWQnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bm5pbmc6IHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogKDxJY29ucy5Mb2FkaW5nT3V0bGluZWQgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMucHJpbWFyeS5iYXNlfSBpY29uU2l6ZT1cIm1cIi8+KSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ1J1bm5pbmcnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZldGNoaW5nOiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICg8SWNvbnMuTG9hZGluZ091dGxpbmVkIGljb25Db2xvcj17dGhlbWUuY29sb3JzLnByaW1hcnkuYmFzZX0gaWNvblNpemU9XCJtXCIvPiksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdGZXRjaGluZycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGltZWRfb3V0OiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICg8SWNvbnMuQ2xvY2tDaXJjbGVPdXRsaW5lZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5lcnJvci5iYXNlfSBpY29uU2l6ZT1cIm1cIi8+KSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ09mZmxpbmUnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjaGVkdWxlZDoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAoPEljb25zLkxvYWRpbmdPdXRsaW5lZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy53YXJuaW5nLmJhc2V9IGljb25TaXplPVwibVwiLz4pLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnU2NoZWR1bGVkJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZW5kaW5nOiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICg8SWNvbnMuTG9hZGluZ091dGxpbmVkIGljb25Db2xvcj17dGhlbWUuY29sb3JzLndhcm5pbmcuYmFzZX0gaWNvblNpemU9XCJtXCIvPiksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdTY2hlZHVsZWQnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICg8SWNvbnMuRXJyb3IgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZX0gaWNvblNpemU9XCJtXCIvPiksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdVbmtub3duIFN0YXR1cycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhcnRlZDoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAoPEljb25zLkxvYWRpbmdPdXRsaW5lZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5wcmltYXJ5LmJhc2V9IGljb25TaXplPVwibVwiLz4pLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnU3RhcnRlZCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcXVlcmllc1xuICAgICAgICAgICAgLm1hcChxdWVyeSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBzcWwsIHByb2dyZXNzLCAuLi5yZXN0IH0gPSBxdWVyeTtcbiAgICAgICAgICAgIGNvbnN0IHEgPSByZXN0O1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gc3RhdHVzQXR0cmlidXRlc1tzdGF0ZV0gfHwgc3RhdHVzQXR0cmlidXRlcy5lcnJvcjtcbiAgICAgICAgICAgIGlmIChxLmVuZER0dG0pIHtcbiAgICAgICAgICAgICAgICBxLmR1cmF0aW9uID0gKDxMYWJlbCBtb25vc3BhY2U+e2ZEdXJhdGlvbihxLnN0YXJ0RHR0bSwgcS5lbmREdHRtKX08L0xhYmVsPik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxLnVzZXIgPSAoPEJ1dHRvbiBidXR0b25TaXplPVwic21hbGxcIiBidXR0b25TdHlsZT1cImxpbmtcIiBvbkNsaWNrPXsoKSA9PiBvblVzZXJDbGlja2VkKHEudXNlcklkKX0+XG4gICAgICAgICAgICB7cS51c2VyfVxuICAgICAgICAgIDwvQnV0dG9uPik7XG4gICAgICAgICAgICBxLmRiID0gKDxCdXR0b24gYnV0dG9uU2l6ZT1cInNtYWxsXCIgYnV0dG9uU3R5bGU9XCJsaW5rXCIgb25DbGljaz17KCkgPT4gb25EYkNsaWNrZWQocS5kYklkKX0+XG4gICAgICAgICAgICB7cS5kYn1cbiAgICAgICAgICA8L0J1dHRvbj4pO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gKDxMYWJlbCBtb25vc3BhY2U+XG4gICAgICAgICAgICB7ZXh0ZW5kZWREYXlqcyhxLnN0YXJ0RHR0bSkuZm9ybWF0KCdMIEhIOm1tOnNzJyl9XG4gICAgICAgICAgPC9MYWJlbD4pO1xuICAgICAgICAgICAgcS5xdWVyeWxpbmsgPSAoPEJ1dHRvbiBidXR0b25TaXplPVwic21hbGxcIiBidXR0b25TdHlsZT1cImxpbmtcIiBvbkNsaWNrPXsoKSA9PiBvcGVuUXVlcnkocS5xdWVyeUlkKX0+XG4gICAgICAgICAgICA8SWNvbnMuRnVsbCBpY29uU2l6ZT1cIm1cIiBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5wcmltYXJ5LmRhcmsxfS8+XG4gICAgICAgICAgICB7dCgnRWRpdCcpfVxuICAgICAgICAgIDwvQnV0dG9uPik7XG4gICAgICAgICAgICBxLnNxbCA9ICg8Q2FyZCBjc3M9e1tTdGF0aWNQb3NpdGlvbl19PlxuICAgICAgICAgICAgPEhpZ2hsaWdodGVkU3FsIHNxbD17c3FsfSByYXdTcWw9e3EuZXhlY3V0ZWRTcWx9IHNocmluayBtYXhXaWR0aD17NjB9Lz5cbiAgICAgICAgICA8L0NhcmQ+KTtcbiAgICAgICAgICAgIGlmIChxLnJlc3VsdHNLZXkpIHtcbiAgICAgICAgICAgICAgICBxLnJlc3VsdHMgPSAoPE1vZGFsVHJpZ2dlciBjbGFzc05hbWU9XCJSZXN1bHRzTW9kYWxcIiB0cmlnZ2VyTm9kZT17PEJ1dHRvbiBidXR0b25TaXplPVwieHNtYWxsXCIgYnV0dG9uU3R5bGU9XCJ0ZXJ0aWFyeVwiPlxuICAgICAgICAgICAgICAgICAge3QoJ1ZpZXcnKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj59IG1vZGFsVGl0bGU9e3QoJ0RhdGEgcHJldmlldycpfSBiZWZvcmVPcGVuPXsoKSA9PiBvcGVuQXN5bmNSZXN1bHRzKHF1ZXJ5LCBkaXNwbGF5TGltaXQpfSBvbkV4aXQ9eygpID0+IGRpc3BhdGNoKGNsZWFyUXVlcnlSZXN1bHRzKHF1ZXJ5KSl9IG1vZGFsQm9keT17PFJlc3VsdFNldCBzaG93U3FsIHF1ZXJ5SWQ9e3F1ZXJ5LmlkfSBoZWlnaHQ9ezQwMH0gZGlzcGxheUxpbWl0PXtkaXNwbGF5TGltaXR9IGRlZmF1bHRRdWVyeUxpbWl0PXsxMDAwfS8+fSByZXNwb25zaXZlLz4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcS5yZXN1bHRzID0gPD48Lz47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxLnByb2dyZXNzID1cbiAgICAgICAgICAgICAgICBzdGF0ZSA9PT0gJ3N1Y2Nlc3MnID8gKDxQcm9ncmVzc0JhciBwZXJjZW50PXtwYXJzZUludChwcm9ncmVzcy50b0ZpeGVkKDApLCAxMCl9IHN0cmlwZWQgc2hvd0luZm89e2ZhbHNlfS8+KSA6ICg8UHJvZ3Jlc3NCYXIgcGVyY2VudD17cGFyc2VJbnQocHJvZ3Jlc3MudG9GaXhlZCgwKSwgMTApfSBzdHJpcGVkLz4pO1xuICAgICAgICAgICAgcS5zdGF0ZSA9ICg8VG9vbHRpcCB0aXRsZT17c3RhdHVzLmNvbmZpZy5sYWJlbH0+e3N0YXR1cy5jb25maWcuaWNvbn08L1Rvb2x0aXA+KTtcbiAgICAgICAgICAgIHEuYWN0aW9ucyA9ICg8ZGl2PlxuICAgICAgICAgICAgPFN0eWxlZFRvb2x0aXAgb25DbGljaz17KCkgPT4gcmVzdG9yZVNxbChxdWVyeSl9IHRvb2x0aXA9e3QoJ092ZXJ3cml0ZSB0ZXh0IGluIHRoZSBlZGl0b3Igd2l0aCBhIHF1ZXJ5IG9uIHRoaXMgdGFibGUnKX0gcGxhY2VtZW50PVwidG9wXCIgY2xhc3NOYW1lPVwicG9pbnRlclwiPlxuICAgICAgICAgICAgICA8SWNvbnMuRWRpdE91dGxpbmVkIGljb25TaXplPVwibFwiLz5cbiAgICAgICAgICAgIDwvU3R5bGVkVG9vbHRpcD5cbiAgICAgICAgICAgIDxTdHlsZWRUb29sdGlwIG9uQ2xpY2s9eygpID0+IG9wZW5RdWVyeUluTmV3VGFiKHF1ZXJ5KX0gdG9vbHRpcD17dCgnUnVuIHF1ZXJ5IGluIGEgbmV3IHRhYicpfSBwbGFjZW1lbnQ9XCJ0b3BcIiBjbGFzc05hbWU9XCJwb2ludGVyXCI+XG4gICAgICAgICAgICAgIDxJY29ucy5QbHVzQ2lyY2xlT3V0bGluZWQgaWNvblNpemU9XCJsXCIvPlxuICAgICAgICAgICAgPC9TdHlsZWRUb29sdGlwPlxuICAgICAgICAgICAge3EuaWQgIT09IGxhdGVzdFF1ZXJ5SWQgJiYgKDxTdHlsZWRUb29sdGlwIHRvb2x0aXA9e3QoJ1JlbW92ZSBxdWVyeSBmcm9tIGxvZycpfSBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaChyZW1vdmVRdWVyeShxdWVyeSkpfSBjbGFzc05hbWU9XCJwb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgPEljb25zLkRlbGV0ZU91dGxpbmVkIGljb25TaXplPVwibFwiLz5cbiAgICAgICAgICAgICAgPC9TdHlsZWRUb29sdGlwPil9XG4gICAgICAgICAgPC9kaXY+KTtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKTtcbiAgICB9LCBbcXVlcmllcywgb25Vc2VyQ2xpY2tlZCwgb25EYkNsaWNrZWQsIHVzZXIsIGRpc3BsYXlMaW1pdF0pO1xuICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJRdWVyeVRhYmxlXCI+XG4gICAgICA8VGFibGVWaWV3IGNvbHVtbnM9e2NvbHVtbnNPZlRhYmxlfSBkYXRhPXtkYXRhfSBjbGFzc05hbWU9XCJ0YWJsZS1jb25kZW5zZWRcIiBwYWdlU2l6ZT17NTB9Lz5cbiAgICA8L2Rpdj4pO1xufTtcbmV4cG9ydCBkZWZhdWx0IFF1ZXJ5VGFibGU7XG4iXX0= */\"], children:\n        _jsx(HighlightedSql, { sql: sql, rawSql: q.executedSql, shrink: true, maxWidth: 60 }) }\n      );\n      if (q.resultsKey) {\n        q.results = _jsx(ModalTrigger, { className: \"ResultsModal\", triggerNode: _jsx(Button, { buttonSize: \"xsmall\", buttonStyle: \"tertiary\", children:\n            t('View') }\n          ), modalTitle: t('Data preview'), beforeOpen: () => openAsyncResults(query, displayLimit), onExit: () => dispatch(clearQueryResults(query)), modalBody: _jsx(ResultSet, { showSql: true, queryId: query.id, height: 400, displayLimit: displayLimit, defaultQueryLimit: 1000 }), responsive: true });\n      } else\n      {\n        q.results = _jsx(_Fragment, {});\n      }\n      q.progress =\n      state === 'success' ? _jsx(ProgressBar, { percent: parseInt(progress.toFixed(0), 10), striped: true, showInfo: false }) : _jsx(ProgressBar, { percent: parseInt(progress.toFixed(0), 10), striped: true });\n      q.state = _jsx(Tooltip, { title: status.config.label, children: status.config.icon });\n      q.actions = _jsxs(\"div\", { children: [\n        _jsx(StyledTooltip, { onClick: () => restoreSql(query), tooltip: t('Overwrite text in the editor with a query on this table'), placement: \"top\", className: \"pointer\", children:\n          _jsx(Icons.EditOutlined, { iconSize: \"l\" }) }\n        ),\n        _jsx(StyledTooltip, { onClick: () => openQueryInNewTab(query), tooltip: t('Run query in a new tab'), placement: \"top\", className: \"pointer\", children:\n          _jsx(Icons.PlusCircleOutlined, { iconSize: \"l\" }) }\n        ),\n        q.id !== latestQueryId && _jsx(StyledTooltip, { tooltip: t('Remove query from log'), onClick: () => dispatch(removeQuery(query)), className: \"pointer\", children:\n          _jsx(Icons.DeleteOutlined, { iconSize: \"l\" }) }\n        )] }\n      );\n      return q;\n    }).\n    reverse();\n  }, [queries, onUserClicked, onDbClicked, user, displayLimit]);\n  return _jsx(\"div\", { className: \"QueryTable\", children:\n    _jsx(TableView, { columns: columnsOfTable, data: data, className: \"table-condensed\", pageSize: 50 }) }\n  );\n};__signature__(QueryTable, \"useTheme{theme}\\nuseDispatch{dispatch}\\nuseMemo{columnsOfTable}\\nuseSelector{user}\\nuseMemo{data}\", () => [useTheme, useDispatch, useSelector]);const _default =\nQueryTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(openQuery, \"openQuery\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");reactHotLoader.register(QueryTable, \"QueryTable\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","Card","ProgressBar","t","useTheme","useDispatch","useSelector","queryEditorSetSql","cloneQueryToNewTab","fetchQueryResults","clearQueryResults","removeQuery","TableView","Button","fDuration","extendedDayjs","Icons","Label","Tooltip","ModalTrigger","ResultSet","HighlightedSql","StaticPosition","StyledTooltip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","openQuery","id","url","window","open","QueryTable","columns","queries","onUserClicked","undefined","onDbClicked","displayLimit","latestQueryId","theme","dispatch","QUERY_HISTORY_TABLE_HEADERS_LOCALIZED","state","started","duration","progress","rows","sql","results","actions","setHeaders","column","toUpperCase","charAt","concat","slice","columnsOfTable","map","accessor","Header","disableSortBy","user","data","restoreSql","query","sqlEditorId","openQueryInNewTab","openAsyncResults","statusAttributes","success","config","icon","CheckOutlined","iconColor","colors","base","iconSize","label","failed","CloseOutlined","error","stopped","running","LoadingOutlined","primary","fetching","timed_out","ClockCircleOutlined","scheduled","warning","pending","Error","rest","q","status","endDttm","monospace","children","startDttm","buttonSize","buttonStyle","onClick","userId","db","dbId","format","querylink","queryId","Full","dark1","css","process","env","NODE_ENV","rawSql","executedSql","shrink","maxWidth","resultsKey","className","triggerNode","modalTitle","beforeOpen","onExit","modalBody","showSql","height","defaultQueryLimit","responsive","percent","parseInt","toFixed","striped","showInfo","title","tooltip","placement","EditOutlined","PlusCircleOutlined","DeleteOutlined","reverse","pageSize","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/Users/aryurkov/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, ReactNode } from 'react';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport { t, useTheme, QueryResponse } from '@superset-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  queryEditorSetSql,\n  cloneQueryToNewTab,\n  fetchQueryResults,\n  clearQueryResults,\n  removeQuery,\n} from 'src/SqlLab/actions/sqlLab';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration, extendedDayjs } from 'src/utils/dates';\nimport { Icons } from 'src/components/Icons';\nimport Label from 'src/components/Label';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { SqlLabRootState } from 'src/SqlLab/types';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { UserWithPermissionsAndRoles as User } from 'src/types/bootstrapTypes';\nimport ResultSet from '../ResultSet';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, StyledTooltip } from './styles';\n\ninterface QueryTableQuery\n  extends Omit<\n    QueryResponse,\n    'state' | 'sql' | 'progress' | 'results' | 'duration' | 'started'\n  > {\n  state?: Record<string, any>;\n  sql?: Record<string, any>;\n  progress?: Record<string, any>;\n  results?: Record<string, any>;\n  duration?: ReactNode;\n  started?: ReactNode;\n}\n\ninterface QueryTableProps {\n  columns?: string[];\n  queries?: QueryResponse[];\n  onUserClicked?: Function;\n  onDbClicked?: Function;\n  displayLimit: number;\n  latestQueryId?: string | undefined;\n}\n\nconst openQuery = (id: number) => {\n  const url = `/sqllab?queryId=${id}`;\n  window.open(url);\n};\n\nconst QueryTable = ({\n  columns = ['started', 'duration', 'rows'],\n  queries = [],\n  onUserClicked = () => undefined,\n  onDbClicked = () => undefined,\n  displayLimit,\n  latestQueryId,\n}: QueryTableProps) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const QUERY_HISTORY_TABLE_HEADERS_LOCALIZED = {\n    state: t('State'),\n    started: t('Started'),\n    duration: t('Duration'),\n    progress: t('Progress'),\n    rows: t('Rows'),\n    sql: t('SQL'),\n    results: t('Results'),\n    actions: t('Actions'),\n  };\n\n  const setHeaders = (column: string) => {\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return column.charAt(0).toUpperCase().concat(column.slice(1));\n  };\n\n  const columnsOfTable = useMemo(\n    () =>\n      columns.map(column => ({\n        accessor: column,\n        Header:\n          QUERY_HISTORY_TABLE_HEADERS_LOCALIZED[\n            column as keyof typeof QUERY_HISTORY_TABLE_HEADERS_LOCALIZED\n          ] || setHeaders(column),\n        disableSortBy: true,\n      })),\n    [columns],\n  );\n\n  const user = useSelector<SqlLabRootState, User>(state => state.user);\n\n  const data = useMemo(() => {\n    const restoreSql = (query: QueryResponse) => {\n      dispatch(\n        queryEditorSetSql({ id: query.sqlEditorId }, query.sql, query.id),\n      );\n    };\n\n    const openQueryInNewTab = (query: QueryResponse) => {\n      dispatch(cloneQueryToNewTab(query, true));\n    };\n\n    const openAsyncResults = (query: QueryResponse, displayLimit: number) => {\n      dispatch(fetchQueryResults(query, displayLimit));\n    };\n\n    const statusAttributes = {\n      success: {\n        config: {\n          icon: (\n            <Icons.CheckOutlined\n              iconColor={theme.colors.success.base}\n              iconSize=\"m\"\n            />\n          ),\n          // icon: <Icons.Edit iconSize=\"xl\" />,\n          label: t('Success'),\n        },\n      },\n      failed: {\n        config: {\n          icon: (\n            <Icons.CloseOutlined\n              iconColor={theme.colors.error.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Failed'),\n        },\n      },\n      stopped: {\n        config: {\n          icon: (\n            <Icons.CloseOutlined\n              iconColor={theme.colors.error.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Failed'),\n        },\n      },\n      running: {\n        config: {\n          icon: (\n            <Icons.LoadingOutlined\n              iconColor={theme.colors.primary.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Running'),\n        },\n      },\n      fetching: {\n        config: {\n          icon: (\n            <Icons.LoadingOutlined\n              iconColor={theme.colors.primary.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Fetching'),\n        },\n      },\n      timed_out: {\n        config: {\n          icon: (\n            <Icons.ClockCircleOutlined\n              iconColor={theme.colors.error.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Offline'),\n        },\n      },\n      scheduled: {\n        config: {\n          icon: (\n            <Icons.LoadingOutlined\n              iconColor={theme.colors.warning.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Scheduled'),\n        },\n      },\n      pending: {\n        config: {\n          icon: (\n            <Icons.LoadingOutlined\n              iconColor={theme.colors.warning.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Scheduled'),\n        },\n      },\n      error: {\n        config: {\n          icon: (\n            <Icons.Error iconColor={theme.colors.error.base} iconSize=\"m\" />\n          ),\n          label: t('Unknown Status'),\n        },\n      },\n      started: {\n        config: {\n          icon: (\n            <Icons.LoadingOutlined\n              iconColor={theme.colors.primary.base}\n              iconSize=\"m\"\n            />\n          ),\n          label: t('Started'),\n        },\n      },\n    };\n\n    return queries\n      .map(query => {\n        const { state, sql, progress, ...rest } = query;\n        const q = rest as QueryTableQuery;\n\n        const status = statusAttributes[state] || statusAttributes.error;\n\n        if (q.endDttm) {\n          q.duration = (\n            <Label monospace>{fDuration(q.startDttm, q.endDttm)}</Label>\n          );\n        }\n        q.user = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => onUserClicked(q.userId)}\n          >\n            {q.user}\n          </Button>\n        );\n        q.db = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => onDbClicked(q.dbId)}\n          >\n            {q.db}\n          </Button>\n        );\n        q.started = (\n          <Label monospace>\n            {extendedDayjs(q.startDttm).format('L HH:mm:ss')}\n          </Label>\n        );\n        q.querylink = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => openQuery(q.queryId)}\n          >\n            <Icons.Full iconSize=\"m\" iconColor={theme.colors.primary.dark1} />\n            {t('Edit')}\n          </Button>\n        );\n        q.sql = (\n          <Card css={[StaticPosition]}>\n            <HighlightedSql\n              sql={sql}\n              rawSql={q.executedSql}\n              shrink\n              maxWidth={60}\n            />\n          </Card>\n        );\n        if (q.resultsKey) {\n          q.results = (\n            <ModalTrigger\n              className=\"ResultsModal\"\n              triggerNode={\n                <Button buttonSize=\"xsmall\" buttonStyle=\"tertiary\">\n                  {t('View')}\n                </Button>\n              }\n              modalTitle={t('Data preview')}\n              beforeOpen={() => openAsyncResults(query, displayLimit)}\n              onExit={() => dispatch(clearQueryResults(query))}\n              modalBody={\n                <ResultSet\n                  showSql\n                  queryId={query.id}\n                  height={400}\n                  displayLimit={displayLimit}\n                  defaultQueryLimit={1000}\n                />\n              }\n              responsive\n            />\n          );\n        } else {\n          q.results = <></>;\n        }\n\n        q.progress =\n          state === 'success' ? (\n            <ProgressBar\n              percent={parseInt(progress.toFixed(0), 10)}\n              striped\n              showInfo={false}\n            />\n          ) : (\n            <ProgressBar percent={parseInt(progress.toFixed(0), 10)} striped />\n          );\n        q.state = (\n          <Tooltip title={status.config.label}>{status.config.icon}</Tooltip>\n        );\n        q.actions = (\n          <div>\n            <StyledTooltip\n              onClick={() => restoreSql(query)}\n              tooltip={t(\n                'Overwrite text in the editor with a query on this table',\n              )}\n              placement=\"top\"\n              className=\"pointer\"\n            >\n              <Icons.EditOutlined iconSize=\"l\" />\n            </StyledTooltip>\n            <StyledTooltip\n              onClick={() => openQueryInNewTab(query)}\n              tooltip={t('Run query in a new tab')}\n              placement=\"top\"\n              className=\"pointer\"\n            >\n              <Icons.PlusCircleOutlined iconSize=\"l\" />\n            </StyledTooltip>\n            {q.id !== latestQueryId && (\n              <StyledTooltip\n                tooltip={t('Remove query from log')}\n                onClick={() => dispatch(removeQuery(query))}\n                className=\"pointer\"\n              >\n                <Icons.DeleteOutlined iconSize=\"l\" />\n              </StyledTooltip>\n            )}\n          </div>\n        );\n        return q;\n      })\n      .reverse();\n  }, [queries, onUserClicked, onDbClicked, user, displayLimit]);\n\n  return (\n    <div className=\"QueryTable\">\n      <TableView\n        columns={columnsOfTable}\n        data={data}\n        className=\"table-condensed\"\n        pageSize={50}\n      />\n    </div>\n  );\n};\n\nexport default QueryTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}